(window["webpackJsonpbookworm-react"]=window["webpackJsonpbookworm-react"]||[]).push([[0],{243:function(e,n,t){e.exports=t.p+"static/media/error.9cadfc24.png"},244:function(e,n,t){e.exports=t.p+"static/media/accept.307c2e31.png"},252:function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAAwmAAAMJgE29OC7AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFYSURBVHgB7ZTfaYRAEMbXf+BbLMESzkcfBO3EDlLCaQfpIEkH18GKIj56JVjC5U1RNN8cKxGju5c7CATywbI7s7O/WZ1Rxv6aNNlmXddO27aObdsXz/Mu7FFwURShpmlHLMOF+2wYxovv++/sHjCgiYCSMqybaZrcOQnWaRAECfsJuCzLGAdfMZphGCKomfc4565pmhyJXOxHgGcysL40cOCZ5jWURDb5r7f5eiI1GDdyMB1w6LSGLuGYMoxQxKvBqPwcKK0+vXOan6CbwGirK1AUalfz/gd0ExiPSeAMI6yqyt0KFv6Q4kS8Gixuk9I8jiNfw8kmvzDfmELf+hgtd0SCRJhbfdzgQzl1XZfKbr355eV5Huu6Tq13WLgz+BKAqddj2Oe+76M9uPRfQS1F1adCzQDyWZbFRdJduBQsS6iC6+wOEYRgBCW4SMIeBq/h9Ndj//p1fQLcd8FSeD+nqgAAAABJRU5ErkJggg=="},253:function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHLSURBVHgB7VXLbcJAEN015u4SSAVJjnxjd+BUgFugAkwFIRXgVBA6iAMCjpgK4hIscUBIfPIGrRUrGJglygHJT1p5dryet288OytEgQL/BCk0MR6PbSllF+YDhoURlkqloFqtvunE0SIGqa9Ij7Df73vNZtMXTLCJJ5OJh+ADRZJgA4GyXdgVZTsgDznxDMEEgrbVM95sNo+NRqNDA7YDd3JQcSIbfyIGbBV86DhOnDqVHajpg2BChzhhrLEEEzrEkXp6s9mskjrJRhZcNQ0FEyZ3IVUtCGyY1m63+5hOp0Pyb7dbT/woDZjh9I4TKruLDfi5gaT06/V6TzCh3UBGo5FnGAZVuK2OVYS5X6vVPsUtgK14Pp9by+XSNU3zHkotjMohgJRU7RH+9aJcLkdonTEnnrxEtlqt2igmqlpb8MDq3SeJ6TLAvxukyrKg7gWlsZpSRR81DnqPLHRardZQcIlxVFyofM8QJdhEH8HC9Xq9QLdKcr55osxkezcBvuc88lxiHJsvUkqESBtV7KvQgKr8F5hUCzEujrvfa3I7V5peUqlLSoDCAKr7ZGfVZ3G2c2EDNtSLa0Dfnnt/qWXalwJcC51LokCB28A3FubXg5Vy1F0AAAAASUVORK5CYII="},254:function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANlSURBVHgBxVhNUtswFP4ku3tlSjvDquEEhBM0nKBwgoZdp9BpOAHhBKEDdLoLvQGcgPQG9AQNW1om6nSZ2Or3HMuYYKchCc2bcWRZlvTp/XzvxQol8nPP1NnUFfBaKVSdQ9WPsd+Dg3VAj+NXbL+vnNhzzChq/EG/aarREB0BwKsbaBwhwlXl1F7/aBpjIqzHDjWn0EQOWBxj4+Vne4V5Qdy8Nw1u2uapLdtG5dh+mzT5ds8cUAstuQ8ISIBiHhACQGtqwKE3iLC5+sX2plng9oPpEHSD5lCYUbT8iAlEA+mz1rQAEnGYyQQPQIgPUK1GtLByar8+aoEQF4mjziGhjwLpcLEzPFIqR4nW1jCHaK3wJusodLEE0XSqmu/QIX9jCSI+kYF4ptDHEkRAGCxZwnxn4FBhMxXhiEO7GDbiVfbOtKEeSnj5vEDHXGczMe773Dwaaa+jNIzW94aFsXpu1Jpfe6YmuSUGLsIhzioloMQx8wN1/EMGTGbkE4morhoDzP7R8xO7QfbclHYQYi1NcgdxgEuycq1oTZXnfzkJF6hgShGTcINL3y+jbmrkMj2gDQiM3HLPhJqM9ynXNyl5TSVhmNOiK2dNHvLQrx8P8XF8XCeockypXZLGFyovTmzXU7vLUUK2p/wEAfbhX6LNmRnbWLDkfM8UghBtxBG2eWvTCU2apYX/JFmASVVEb97wGhGPvt01nf47Uy2ayPRvMMRbTC+JGWiWBxRQ6M1JxCg0cuVbVxyPvGBJUIYL1VLbei/3ZUBhNhWtyqHk/cEQG+MkposmMcYPV47tWqCSQrepMMqucXoSElTrT4iKhDP7EwvcHADxymYRi85cknnx5R1EKw7nWRRQi7zfciNH7PJArbKaNcQCJauwVLJxw40en1Nj25PmLQ4EK/Tnp9aTkrCk+Eyd15YQoHBF2VSNJxJG2g5SxxUCTKLpqUDk/5nlZZW1pyS05B0SIHnoAE8FYpIkeenOUZtleWluEGpCZSZMzM13ss1KzDK/OVBsDi9p8srMEg3QXiiIVL2jk6lyjeiAqfwufBvjeWkmshKVDoeosRzs3PtkwOKIp72WjDkekuMFkHI4cxoJec3GE/w8APnTxIXkFKTxHj8NVNPFXwEPi18BdbNr9gm8ndS1osE4+fbR+wsv8WieKY7RqQAAAABJRU5ErkJggg=="},272:function(e,n,t){e.exports=t(552)},323:function(e,n){},325:function(e,n){},360:function(e,n){},361:function(e,n){},519:function(e,n,t){},55:function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAWCAYAAAAinad/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAG/SURBVHgB1VRBTsJAFH3TVrcO0bC1nMByAssJ5AbKVjDiCTyCmIhxZzyBeAK4AdzAulUJk+iCCO34pgWDUKDRFZNMpjP/zZv33/wpsNFtcCq9LDgrCyiycJ8Ft5bsvSbLGvDeatL/N5kQOIpH4HItdlVwUJduOMYzP1vsvu2gkGsohb8oC0P4HBRJKmYejXGMdcqoQA6HkI4Dl2m5tsZOxJGhso7Q2WuqSv9MXiFCmce3oKG0wIvWCBhXW9sIjGJnyrrt4NEYTSDC5JTAbLIFGrEqjSdLwCfBCafS4ESSW495l36UTdUxjTYxrj1GMXengmXpTLzsEht8OigVJj6KOVBMyFOlFaKURmiIohBtKlWzRAtkC4RbVDgDXkWUZDzXzGYrQoUGu6Ov+BJ+NXrm0vRKIaVEUksjtGISlb9VPTOfVj8PCsw6L+IgbZ+TtsjyOKSC3sRo8y59PqsWL+aCN90TFszDf8ikjEQezTTedemdy+863fUiG22zbuJp+5a9AE8nvfPBS9i9UdcjGyVtoRPXIpDplxT/u5jSoF+T52nx16qsm/igKvfXKhuZPk7UpJHlm6oxclAcChSwMe0b7bPMl2jMbVsAAAAASUVORK5CYII="},552:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(84),i=t.n(o),c=t(22),u=t(59),s=t(53),l=t(3),d=t(236),m=t(25),f=t.n(m),p=t(237),b=t(7),h=t(8),g=t(11),v=t(9),E=t(10),O=t(238),y=t.n(O),j=t(26),k=t.n(j),w={login:function(e){return k.a.post("/api/auth",{credentials:e}).then(function(e){return e.data.user})},signup:function(e){return k.a.post("/api/users",{user:e}).then(function(e){return e.data.user})},confirm:function(e){return k.a.post("/api/auth/confirmation",{token:e}).then(function(e){return e.data.user})},resetPasswordRequest:function(e){return k.a.post("/api/auth/reset_password_request",{email:e})},validateToken:function(e){return k.a.post("/api/auth/validate_token",{token:e})},resetPassword:function(e){return k.a.post("/api/auth/reset_password",{data:e})},fetchCurrentUser:function(){return k.a.get("/api/users/current_user").then(function(e){return e.data.user})}},A={search:function(e){return k.a.get("/api/books/search?q=".concat(e)).then(function(e){return e.data.books})},searchByPage:function(e,n){return k.a.get("/api/books/search_by_page?q=".concat(e,"&page=").concat(n)).then(function(e){return e.data})},getBookData:function(e){return k.a.get("/api/books/fetch_book_data?goodreadsId=".concat(e)).then(function(e){return e.data.book})},fetchUserBooks:function(){return k.a.get("/api/books").then(function(e){return e.data.books})},create:function(e){return k.a.post("/api/books",{book:e}).then(function(e){return e.data.book})},delete:function(e){return k.a.post("/api/books/delete_book",{id:e}).then(function(e){return e.data.book})},deleteBookInList:function(e){return k.a.post("/api/books/delete_book",{id:e}).then(function(e){return e.data.book.goodreadsId})},addLike:function(e){return k.a.post("/api/books/add_like",{id:e}).then(function(e){return e.data.book})},deleteLike:function(e){return k.a.post("/api/books/delete_like",{id:e}).then(function(e){return e.data.book})},getTop:function(){return k.a.get("/api/books/get_top").then(function(e){return e.data.books})},updateProgress:function(e,n){return k.a.post("/api/books/save_progress",{num:e,id:n}).then(function(e){return e.data.progress})}},x="USER_LOGGED_IN",C="USER_LOGGED_OUT",S="USER_FETCHED",F="FETCH_TOP_REQUEST",P="FETCH_TOP_SUCCESS",D="FETCH_TOP_FAILURE",B="FETCH_BOOK_DATA_REQUEST",I="FETCH_BOOK_DATA_SUCCESS",L="FETCH_BOOK_DATA_FAILURE",T="FETCH_USER_BOOKS_REQUEST",R="FETCH_USER_BOOKS_SUCCESS",U="FETCH_USER_BOOKS_FAILURE",_="SEARCH_BOOKS_BY_PAGE_REQUEST",z="SEARCH_BOOKS_BY_PAGE_SUCCESS",q="SEARCH_BOOKS_BY_PAGE_FAILURE",G="CHANGE_FILTERS",K="ADD_LIKE_IN_LIST",M="ADD_BOOK_IN_LIST",N="BOOK_DELETE_IN_LIST",V="DELETE_LIKE_IN_LIST",Q="UPDATE_PROGRESS_IN_LIST",J="ADD_LIKE",X="DELETE_LIKE",Y="DELETE_BOOK",H="ADD_BOOK",W="UPDATE_PROGRESS",Z=function(e){return function(n){return A.getBookData(e).then(n({type:B}))}},$=t(21),ee=t(239);function ne(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function te(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ne(t,!0).forEach(function(n){Object($.a)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ne(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var re={loading:!1,error:null,data:{},filter:"all"};var ae=Object(ee.a)(function(e){return e.books.data},function(e){return Object.values(e)}),oe=t(54),ie=t(1),ce=t(2),ue="1px solid ".concat("#C4C4C4"),se="0px 2px 4px rgba(0,0,0,0.25)";function le(){var e=Object(ie.a)(["\n  width: 100%; \n  overflow: hidden;\n  text-overflow: ellipsis;\n  text-align: justify;\n  -webkit-line-clamp: 6;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  font-size: 0.85em;\n"]);return le=function(){return e},e}function de(){var e=Object(ie.a)(["\n  position: absolute;\n  top: 2px;\n  padding-left: 0.4em;\n"]);return de=function(){return e},e}function me(){var e=Object(ie.a)(["\n  position: relative;\n  margin-bottom: 0.4em;\n"]);return me=function(){return e},e}function fe(){var e=Object(ie.a)(["\n  margin: 0.35em 0;\n  font-size: 0.85em;\n"]);return fe=function(){return e},e}function pe(){var e=Object(ie.a)(["\n  margin: 0;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]);return pe=function(){return e},e}function be(){var e=Object(ie.a)(["\n  width: 340px;\n  margin: 0 15px;\n"]);return be=function(){return e},e}function he(){var e=Object(ie.a)(["\n  text-align: center;\n  border: 1px solid ",";\n  color: ",";\n"]);return he=function(){return e},e}function ge(){var e=Object(ie.a)(["\n  width: 100px;\n  height: 150px;\n  margin-bottom: 0.9em;\n"]);return ge=function(){return e},e}function ve(){var e=Object(ie.a)(["\n  width: 100px;\n  margin-left: 15px;\n"]);return ve=function(){return e},e}function Ee(){var e=Object(ie.a)(["\n  width: 490px;\n  height: 220px;\n  display: flex;\n  flex-wrap: wrap;\n  margin: 10px;\n  padding-top: 15px;\n  box-shadow: ",";\n"]);return Ee=function(){return e},e}var Oe=ce.a.article(Ee(),se),ye=ce.a.div(ve()),je=ce.a.img(ge()),ke=ce.a.div(he(),"#EC6C10","#EC6C10"),we=ce.a.div(be()),Ae=ce.a.h4(pe()),xe=ce.a.div(fe()),Ce=ce.a.div(me()),Se=ce.a.span(de()),Fe=ce.a.div(le()),Pe=t(55),De=t.n(Pe),Be=t(56),Ie=t.n(Be),Le=function(e){var n=e.book,t=e.topLikes;return a.a.createElement(Oe,null,a.a.createElement(ye,null,a.a.createElement(je,{src:n.image_url,alt:""}),a.a.createElement(ke,null,t?a.a.createElement("span",null,"Likes: ",n.likeCounter):a.a.createElement("span",null,"Read: ",n.numberOfEntities))),a.a.createElement(we,null,a.a.createElement(c.b,{style:{textDecoration:"none",color:"#414141"},to:"/books/new/".concat(n.goodreadsId)},a.a.createElement(Ae,null,n.title)),a.a.createElement(xe,null,"by ",n.authors),a.a.createElement(Ce,null,a.a.createElement(oe.a,{initialRating:n.average_rating,emptySymbol:a.a.createElement("img",{src:De.a,alt:"star"}),fullSymbol:a.a.createElement("img",{src:Ie.a,alt:"star"}),readonly:!0}),a.a.createElement(Se,null,n.average_rating)),a.a.createElement(Fe,{dangerouslySetInnerHTML:{__html:n.description}})))};function Te(){var e=Object(ie.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n"]);return Te=function(){return e},e}function Re(){var e=Object(ie.a)(["\n  margin: 3em auto;\n  width: ",";\n"]);return Re=function(){return e},e}var Ue=ce.a.div(Re(),"1024px"),_e=ce.a.section(Te()),ze=function(e){var n=e.books,t=e.topLikes;return a.a.createElement(Ue,null,a.a.createElement("h2",null,t?"Top likes":"Top reads"),a.a.createElement(_e,null,Array.isArray(n)&&n.map(function(e){return a.a.createElement(Le,{key:e.goodreadsId,book:e,topLikes:t})})))};function qe(){var e=Object(ie.a)(["\n   width: 100%;\n   height: 100%;\n   position: absolute;\n   top: 0;\n   left: 0;\n   overflow: auto;\n"]);return qe=function(){return e},e}function Ge(){var e=Object(ie.a)(["\n    width: 2.5em;\n    height: 2.5em;\n\n    position: absolute;\n    \n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    margin: auto;\n\n    animation: rotate 2s linear infinite;\n\n    stroke: ",";\n  \n    & .path {\n      animation: dash 1.5s ease-in-out infinite;\n      \n      stroke: hsl(210, 70, 75);\n      stroke-linecap: round;\n    }\n    \n    @keyframes rotate {\n    100% {\n      transform: rotate(360deg);\n      }\n    }\n  \n    @keyframes dash {\n      0% {\n        stroke-dasharray: 1, 150;\n        stroke-dashoffset: 0;\n      }\n      50% {\n        stroke-dasharray: 90, 150;\n        stroke-dashoffset: -35;\n      }\n      100% {\n        stroke-dasharray: 90, 150;\n        stroke-dashoffset: -124;\n      }\n    }  \n"]);return Ge=function(){return e},e}var Ke=ce.a.svg(Ge(),"#414141"),Me=ce.a.div(qe()),Ne=function(){return a.a.createElement(Me,null,a.a.createElement(Ke,{viewBox:"0 0 50 50"},a.a.createElement("circle",{className:"path",cx:"25",cy:"25",r:"20",fill:"none",strokeWidth:"5"})))};function Ve(){var e=Object(ie.a)(["\n  text-align: center;\n  margin: 0;\n"]);return Ve=function(){return e},e}function Qe(){var e=Object(ie.a)(["\n  width: 100%;\n"]);return Qe=function(){return e},e}function Je(){var e=Object(ie.a)(["\n    width: 400px;\n    height: 300px;\n\n    position: absolute;\n    \n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    margin: auto;\n"]);return Je=function(){return e},e}var Xe=ce.a.div(Je()),Ye=ce.a.img(Qe()),He=ce.a.h2(Ve()),We=t(243),Ze=t.n(We),$e=function(e){var n=e.title;return a.a.createElement(Xe,null,a.a.createElement(Ye,{src:Ze.a,alt:"Something went wrong"}),a.a.createElement(He,null,n))},en=function(e){function n(){return Object(b.a)(this,n),Object(g.a)(this,Object(v.a)(n).apply(this,arguments))}return Object(E.a)(n,e),Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,n=e.getTop,t=e.getTopSuccess,r=e.getTopFailure;n().then(function(e){return t(e)}).catch(function(e){return r(e)})}},{key:"render",value:function(){var e=this.props,n=e.books,t=e.loading,r=e.error;return t?a.a.createElement(Ne,null):r?a.a.createElement($e,{title:r}):a.a.createElement(a.a.Fragment,null,a.a.createElement(ze,{topLikes:!0,books:n[0]}),a.a.createElement(ze,{topLikes:!1,books:n[1]}))}}]),n}(r.Component);var nn=Object(l.connect)(function(e){return{books:ae(e),loading:e.books.loading,error:e.books.error}},{getTop:function(){return function(e){return A.getTop().then(e({type:F}))}},getTopSuccess:function(e){return function(n){return n({type:P,data:e})}},getTopFailure:function(e){return function(n){return n(function(e){return{type:D,error:e}}(e))}}})(en),tn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?k.a.defaults.headers.common.authorization="Bearer ".concat(e):delete k.a.defaults.headers.common.authorization};function rn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}var an=function(e){return{type:x,user:e}},on=t(27),cn=t.n(on);function un(e){for(var n={},t=0;t<e.length;t++){n[e[t].context.key]=e[t].message}return n}var sn=function(e){var n=cn.a.object().keys({email:cn.a.string().email().required().error(function(e){var n=e[0];switch(n.type){case"any.empty":case"any.required":n.message="Email should not be empty.";break;case"string.email":n.message="Email should have @"}return n}).optional(),password:cn.a.string().required().error(function(){return"Password should not be empty."}).optional()}),t=cn.a.validate(e,n,{abortEarly:!1});return null===t.error?{}:un(t.error.details)},ln=function(e){var n=e.text;return" "!==n?a.a.createElement("span",{style:{color:"#ff4040"}},n):a.a.createElement("span",{style:{visibility:"hidden"}},"hidden")};function dn(){var e=Object(ie.a)(["\n  width: 100%;\n   padding: 0.75em;\n   margin-top: 2em;\n   color: ",";\n   background-color: ",";\n   font-size: 1em;\n   font-weight: 600;\n   border: none;\n   cursor: pointer;\n"]);return dn=function(){return e},e}function mn(){var e=Object(ie.a)(["\n  width: 90%;\n  height: 2.5em;\n  font-size: 1em;\n  padding: 0 0.8em;\n"]);return mn=function(){return e},e}function fn(){var e=Object(ie.a)(["\n  margin: 1.2em 0;\n  text-align: center;\n"]);return fn=function(){return e},e}var pn=ce.a.div(fn()),bn=ce.a.input(mn()),hn=ce.a.button(dn(),"#FFFFFF","#EC6C10");function gn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function vn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?gn(t,!0).forEach(function(n){Object($.a)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):gn(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var En=function(e){function n(){var e,t;Object(b.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(g.a)(this,(e=Object(v.a)(n)).call.apply(e,[this].concat(a)))).state={data:{email:"",password:""},errors:{}},t.onChange=function(e){var n=t.state.data;t.setState({data:vn({},n,Object($.a)({},e.target.name,e.target.value))})},t.onSubmit=function(e){e.preventDefault();var n=t.state.data,r=sn(n);t.setState({errors:r}),0===Object.keys(r).length&&t.props.submit(n).catch(function(e){t.setState({errors:e.response.data.errors})})},t}return Object(E.a)(n,e),Object(h.a)(n,[{key:"render",value:function(){var e=this.state,n=e.data,t=e.errors;return a.a.createElement("form",{onSubmit:this.onSubmit},a.a.createElement(pn,null,a.a.createElement(bn,{type:"email",id:"email",name:"email",placeholder:"Enter your email",value:n.email,onChange:this.onChange}),a.a.createElement(ln,{text:t.email||" "})),a.a.createElement(pn,null,a.a.createElement(bn,{type:"password",id:"password",name:"password",placeholder:"Enter your password",value:n.password,onChange:this.onChange}),a.a.createElement(ln,{text:t.password||" "})),a.a.createElement(hn,null,"Login"))}}]),n}(r.Component);function On(){var e=Object(ie.a)(["\n  text-align: center;\n  margin: 0.5em;\n"]);return On=function(){return e},e}function yn(){var e=Object(ie.a)(["\n  background-color: ",";\n  color: ",";\n  margin: 1em 0;\n  padding: 0.5em;\n  text-align: center;\n"]);return yn=function(){return e},e}function jn(){var e=Object(ie.a)(["\n   color: ",";\n   margin-bottom: 3em;\n   font-size: 1.25em;\n"]);return jn=function(){return e},e}function kn(){var e=Object(ie.a)(["\n  width: 400px;\n  height: 440px;\n  \n  padding: 1em 2em;\n  position: absolute;\n    \n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  \n  background: #FFFFFF;\n  box-shadow: ",";\n"]);return kn=function(){return e},e}var wn=ce.a.div(kn(),se),An=ce.a.h2(jn(),"#EC6C10"),xn=ce.a.div(yn(),"#414141","#FFFFFF"),Cn=ce.a.div(On()),Sn=function(e){var n=e.submit;return a.a.createElement(wn,null,a.a.createElement(An,null,"Login"),a.a.createElement(En,{submit:n}),a.a.createElement(xn,null,a.a.createElement(c.b,{to:"/signup",style:{textDecoration:"none",color:"#FFFFFF",fontSize:"1em",fontWeight:"600",width:"100%",height:"100%",display:"block"}},"Sign up")),a.a.createElement(Cn,null,a.a.createElement(c.b,{style:{textDecoration:"none",color:"#414141",fontSize:"0.8em"},to:"/forgot_password"},"Forgot Password?")))},Fn=function(e){function n(){var e,t;Object(b.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(g.a)(this,(e=Object(v.a)(n)).call.apply(e,[this].concat(a)))).submit=function(e){return t.props.login(e).then(function(){return t.props.history.push("/")})},t}return Object(E.a)(n,e),Object(h.a)(n,[{key:"render",value:function(){return a.a.createElement(Sn,{submit:this.submit})}}]),n}(r.Component),Pn=Object(l.connect)(null,{login:function(e){return function(n){return w.login(e).then(function(e){localStorage.bookwormJWT=e.token,tn(e.token),n(an(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?rn(t,!0).forEach(function(n){Object($.a)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):rn(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({},e,{loaded:!0})))})}}})(Fn);function Dn(){var e=Object(ie.a)(["\n  margin: 0.5em 0;\n"]);return Dn=function(){return e},e}function Bn(){var e=Object(ie.a)(["\n  border: 1px solid #b58105;\n  background-color: #fff8db;\n  text-align: center;\n  color: #b58105;\n  margin: 1em;\n"]);return Bn=function(){return e},e}var In=ce.a.div(Bn()),Ln=ce.a.p(Dn()),Tn=function(){return a.a.createElement(In,null,a.a.createElement(Ln,null,"Please, verify your email to unlock awesomeness"))};function Rn(){var e=Object(ie.a)(["\n  background-color: ",";\n    width: 100%;\n    padding: 0.6em 0;\n    font-size: 0.9em;\n    margin: 0.35em 0;\n    font-weight: 600;\n    color: ",";\n    box-shadow: ",";\n    cursor: pointer;\n    border: none;\n"]);return Rn=function(){return e},e}var Un=ce.a.button(Rn(),"#414141","#FFFFFF",se),_n=Object(l.connect)(null,{deleteBook:function(e){return function(n){return A.delete(e).then(function(e){n({type:Y,data:e})})}},deleteBookInList:function(e){return function(n){return A.deleteBookInList(e).then(function(e){n(function(e){return{type:N,id:e}}(e))})}}})(function(e){var n=e.id,t=e.deleteBook,r=e.deleteBookInList,o=e.inList;return a.a.createElement(Un,{onClick:function(e){e.preventDefault(),(o?r(n):t(n)).then(function(){return m.toastr.success("Successful","Changes installed successfully")}).catch(function(e){return m.toastr.error("Server Error",e.response.data.error)})}},"Delete")});function zn(){var e=Object(ie.a)(["\n  background-color: ",";\n    width: 100%;\n    padding: 0.6em 0;\n    font-size: 0.9em;\n    margin: 0.35em 0;\n    font-weight: 600;\n    color: ",";\n    box-shadow: ",";\n    cursor: pointer;\n    border: none;\n"]);return zn=function(){return e},e}var qn=ce.a.button(zn(),"#EC6C10","#FFFFFF",se),Gn=Object(l.connect)(null,{addLike:function(e){return function(n){return A.addLike(e).then(function(e){n({type:J,data:e})})}},deleteLike:function(e){return function(n){return A.deleteLike(e).then(function(e){n({type:X,data:e})})}},addLikeInList:function(e){return function(n){return A.addLike(e).then(function(e){n({type:K,data:e})})}},deleteLikeInList:function(e){return function(n){return A.deleteLike(e).then(function(e){n({type:V,data:e})})}}})(function(e){var n=e.id,t=e.likeStatus,r=e.addLike,o=e.deleteLike,i=e.inList,c=e.deleteLikeInList,u=e.addLikeInList;return a.a.createElement(qn,{onClick:function(e){e.preventDefault(),i?(t?c(n):u(n)).then(function(){return m.toastr.success("Successful","Changes installed successfully")}).catch(function(e){return m.toastr.error("Server Error",e.response.data.error)}):(t?o(n):r(n)).then(function(){return m.toastr.success("Successful","Changes installed successfully")}).catch(function(e){return m.toastr.error("Server Error",e.response.data.error)})}},t?"Dislike":"Like")});function Kn(){var e=Object(ie.a)(["\n  font-size: 0.8em;\n  margin-bottom: 1em;\n  text-align: center;\n"]);return Kn=function(){return e},e}function Mn(){var e=Object(ie.a)(["\n  width: 2.5em;\n  margin: 0.2em 0;\n"]);return Mn=function(){return e},e}function Nn(){var e=Object(ie.a)(["\n  width: 100%;\n"]);return Nn=function(){return e},e}function Vn(){var e=Object(ie.a)(["\n  background-color: ",";\n  width: 100%;\n  padding: 0.8em 0;\n  font-size: 0.75em;\n  margin: 0.35em 0;\n  font-weight: 600;\n  color: ",";\n  box-shadow: ",";\n  cursor: pointer;\n  border: none;\n"]);return Vn=function(){return e},e}function Qn(){var e=Object(ie.a)(["\n    text-align: center;\n    font-size: 0.8em;\n    margin-bottom: 1.25em;\n"]);return Qn=function(){return e},e}var Jn=ce.a.div(Qn()),Xn=ce.a.button(Vn(),"#EC6C10","#FFFFFF",se),Yn=ce.a.progress(Nn()),Hn=ce.a.input(Mn()),Wn=ce.a.div(Kn()),Zn=function(e){function n(){var e,t;Object(b.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(g.a)(this,(e=Object(v.a)(n)).call.apply(e,[this].concat(a)))).state={visibilityProgress:!1},t.onChange=function(e){return t.setState(Object($.a)({},e.target.name,e.target.value))},t.saveProgressClick=function(e){e.preventDefault();var n=t.props,r=n.pages,a=n.goodreadsId,o=n.updateBookProgress,i=n.inList,c=n.updateBookProgressInList,u=parseInt(t.state.readPages);isNaN(u)||u<0||u>r?m.toastr.error("Error","Invalid value"):i?c(u,a).then(function(){t.setState({visibilityProgress:!1}),m.toastr.success("Successful","Changes installed successfully")}).catch(function(e){return m.toastr.error("Server Error",e.response.data.error)}):o(u,a).then(function(){t.setState({visibilityProgress:!1}),m.toastr.success("Successful","Changes installed successfully")}).catch(function(e){return m.toastr.error("Server Error",e.response.data.error)})},t}return Object(E.a)(n,e),Object(h.a)(n,[{key:"render",value:function(){var e=this,n=this.props,t=n.pages,r=n.readPages||0;return this.state.visibilityProgress?a.a.createElement("div",null,a.a.createElement(Wn,null,a.a.createElement("span",null,"Currently on "),a.a.createElement(Hn,{type:"text",name:"readPages",id:"readPages",defaultValue:r,onChange:this.onChange}),a.a.createElement("span",null,"of ",t)),a.a.createElement(Xn,{onClick:this.saveProgressClick},"Save")):a.a.createElement("div",null,a.a.createElement(Yn,{value:r,max:t}),a.a.createElement(Jn,null,r,"/",t),a.a.createElement(Xn,{onClick:function(){return e.setState({visibilityProgress:!0})}},"Update progress"))}}]),n}(r.Component),$n=Object(l.connect)(null,{updateBookProgress:function(e,n){return function(t){return A.updateProgress(e,n).then(function(e){t({type:W,data:e})})}},updateBookProgressInList:function(e,n){return function(t){return A.updateProgress(e,n).then(function(e){t({type:Q,data:e})})}}})(Zn);function et(){var e=Object(ie.a)(["\n  margin-top: 0.85em;\n"]);return et=function(){return e},e}function nt(){var e=Object(ie.a)(["\n  margin-rigth: 25px;\n  width: 120px;\n  text-align: center\n"]);return nt=function(){return e},e}function tt(){var e=Object(ie.a)(["\n  width: 40%;\n"]);return tt=function(){return e},e}function rt(){var e=Object(ie.a)(["\n  text-align: center;\n  margin-top: 1.75em;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return rt=function(){return e},e}function at(){var e=Object(ie.a)(["\n  position: absolute;\n  top: 2px;\n  padding-left: 0.4em;\n"]);return at=function(){return e},e}function ot(){var e=Object(ie.a)(["\n  position: relative;\n  margin-bottom: 0.4em;\n"]);return ot=function(){return e},e}function it(){var e=Object(ie.a)(["\n  margin: 0.35em 0;\n  font-size: 0.85em;\n"]);return it=function(){return e},e}function ct(){var e=Object(ie.a)(["\n  margin: 0;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]);return ct=function(){return e},e}function ut(){var e=Object(ie.a)(["\n  width: 220px;\n  margin: 0 15px;\n"]);return ut=function(){return e},e}function st(){var e=Object(ie.a)(["\n  width: 100px;\n  height: 150px;\n  margin-bottom: 0.9em;\n"]);return st=function(){return e},e}function lt(){var e=Object(ie.a)(["\n  width: 100px;\n"]);return lt=function(){return e},e}function dt(){var e=Object(ie.a)(["\n  width: 470px;\n  height: 150px;\n  display: flex;\n  flex-wrap: wrap;\n  margin: 10px;\n  padding: 15px;\n  box-shadow: ",";\n"]);return dt=function(){return e},e}var mt=ce.a.article(dt(),se),ft=ce.a.div(lt()),pt=ce.a.img(st()),bt=ce.a.div(ut()),ht=ce.a.h4(ct()),gt=ce.a.div(it()),vt=ce.a.div(ot()),Et=ce.a.span(at()),Ot=ce.a.div(rt()),yt=ce.a.div(tt()),jt=ce.a.div(nt()),kt=ce.a.h5(et());function wt(){var e=Object(ie.a)(["\n  background-color: ",";\n  width: 100%;\n  padding: 0.6em 0;\n  font-size: 0.9em;\n  margin: 0.35em 0;\n  font-weight: 600;\n  color: ",";\n  box-shadow: ",";\n  cursor: pointer;\n  border: none;\n"]);return wt=function(){return e},e}var At=ce.a.button(wt(),"#EC6C10","#FFFFFF",se),xt=Object(l.connect)(null,{readBook:function(e){return function(n){return A.create(e).then(function(e){n(function(e){return{type:H,data:e}}(e))})}},readBookInList:function(e){return function(n){return A.create(e).then(function(e){n(function(e){return{type:M,data:e}}({goodreadsId:e.goodreadsId,readStatus:e.readStatus}))})}}})(function(e){var n=e.book,t=e.readBook,r=e.readBookInList,o=e.inList;return a.a.createElement(At,{onClick:function(e){e.preventDefault(),(o?r(n):t(n)).then(function(){return m.toastr.success("Successful","Changes installed successfully")}).catch(function(e){return m.toastr.error("Server Error",e.response.data.error)})}},"Read")}),Ct=function(e){function n(){return Object(b.a)(this,n),Object(g.a)(this,Object(v.a)(n).apply(this,arguments))}return Object(E.a)(n,e),Object(h.a)(n,[{key:"render",value:function(){var e=this.props.book;return a.a.createElement(mt,null,a.a.createElement(ft,null,a.a.createElement(pt,{src:e.image_url,alt:"Cover"})),a.a.createElement(bt,null,a.a.createElement(c.b,{style:{textDecoration:"none",color:"#414141"},to:"/books/new/".concat(e.goodreadsId)},a.a.createElement(ht,null,e.title)),a.a.createElement(gt,null,e.authors),a.a.createElement(vt,null,a.a.createElement(oe.a,{initialRating:e.average_rating,emptySymbol:a.a.createElement("img",{src:De.a,alt:"star"}),fullSymbol:a.a.createElement("img",{src:Ie.a,alt:"star"}),readonly:!0}),a.a.createElement(Et,null,e.average_rating)),a.a.createElement(Ot,null,a.a.createElement(yt,null,e.readStatus?a.a.createElement(_n,{id:e.goodreadsId,inList:!0}):a.a.createElement(xt,{book:e,inList:!0})),a.a.createElement(yt,null,a.a.createElement(Gn,{id:e.goodreadsId,likeStatus:e.likeStatus,inList:!0})))),e.readStatus&&a.a.createElement(jt,null,a.a.createElement(kt,null,"Your progress"),a.a.createElement($n,{pages:e.pages,readPages:e.readPages,goodreadsId:e.goodreadsId,inList:!0})))}}]),n}(r.Component);function St(){var e=Object(ie.a)(["\n  margin: 3em auto 0 auto;\n  width: 1044px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n"]);return St=function(){return e},e}var Ft=ce.a.section(St()),Pt=function(e){var n=e.books;return a.a.createElement(Ft,null,n&&n.map(function(e){return a.a.createElement(Ct,{book:e,key:e._id})}))};function Dt(){var e=Object(ie.a)(["\n  border: none;\n  background-color: white;\n  color: ",";\n  cursor: pointer;\n  font-size: 1em;\n  margin: 0.5em 2em;\n  font-weight: 600;\n"]);return Dt=function(){return e},e}function Bt(){var e=Object(ie.a)(["\n  text-align: center;\n"]);return Bt=function(){return e},e}function It(){var e=Object(ie.a)(["\n   margin: 3em auto;\n   width: ",";\n"]);return It=function(){return e},e}function Lt(){var e=Object(ie.a)(["\n  text-align: center;\n  margin-top: 3em;\n"]);return Lt=function(){return e},e}var Tt=ce.a.div(Lt()),Rt=ce.a.section(It(),"1024px"),Ut=ce.a.div(Bt()),_t=ce.a.button(Dt(),"#EC6C10"),zt=function(e){var n=e.booksLength,t=e.content,r=e.filtersBtn,o=e.changeFilters;return a.a.createElement(Rt,null,a.a.createElement("h2",null,"My books"),a.a.createElement(Ut,null,0!==n&&r.map(function(e){return a.a.createElement(_t,{key:e.id,onClick:function(){return o(e.id)}},e.text)})),t)},qt=function(e){function n(){var e,t;Object(b.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=Object(g.a)(this,(e=Object(v.a)(n)).call.apply(e,[this].concat(o)))).filterBooks=function(e,n){switch(n){case"read":return e.filter(function(e){return e.readStatus});case"like":return e.filter(function(e){return e.likeStatus});default:return e}},t.showContent=function(e,n){return 0===e.length?a.a.createElement(Tt,null,"You don't have books"):0===n.length?a.a.createElement(Tt,null,"No books"):a.a.createElement(Pt,{books:n})},t}return Object(E.a)(n,e),Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,n=e.getUserBooks,t=e.getUserBooksSuccess,r=e.getUserBooksFailure;n().then(function(e){return t(e)}).catch(function(e){return r(e)})}},{key:"render",value:function(){var e=this.props,n=e.isConfirmed,t=e.books,r=e.loading,o=e.filter,i=e.changeFilters,c=this.filterBooks(t,o),u=this.showContent(t,c);return r?a.a.createElement(Ne,{booksLength:t.length,content:u,filtersBtn:[{text:"Read",id:"read"},{text:"Like",id:"like"}],changeFilters:i}):a.a.createElement(a.a.Fragment,null,!n&&a.a.createElement(Tn,null),a.a.createElement(zt,{content:u}))}}]),n}(r.Component);var Gt=Object(l.connect)(function(e){return{books:ae(e),loading:e.books.loading,error:e.books.error,filter:e.books.filter,isConfirmed:!!e.user.confirmed}},{getUserBooks:function(){return function(e){return A.fetchUserBooks().then(e({type:T}))}},getUserBooksSuccess:function(e){return function(n){return n({type:R,data:e})}},getUserBooksFailure:function(e){return function(n){return n(function(e){return{type:U,error:e}}(e))}},changeFilters:function(e){return function(n){return n(function(e){return{type:G,filter:e}}(e))}}})(qt),Kt=function(e){return{type:S,user:e}},Mt=function(){return function(e){return w.fetchCurrentUser().then(function(n){return e(Kt(n))})}},Nt=function(e){var n=cn.a.object().keys({username:cn.a.string().min(4).max(20).regex(/^[a-zA-Z0-9.-]+$/).required().error(function(e){var n=e[0];switch(n.type){case"any.empty":case"any.required":n.message="The username should not be empty.";break;case"string.min":n.message="The username should have at least ".concat(n.context.limit," characters");break;case"string.regex.base":n.message="The username may contain letters or numbers.";break;case"string.max":n.message="The username should have at most ".concat(n.context.limit," characters")}return n}),email:cn.a.string().email().min(16).max(40).required().error(function(e){var n=e[0];switch(n.type){case"any.empty":case"any.required":n.message="Email should not be empty.";break;case"string.email":n.message="Email should have @";break;case"string.min":n.message="Email should have at least ".concat(n.context.limit," characters");break;case"string.max":n.message="Email should have at most ".concat(n.context.limit," characters")}return n}).optional(),password:cn.a.string().min(6).max(20).required().error(function(e){var n=e[0];switch(n.type){case"any.empty":case"any.required":n.message="Password should not be empty.";break;case"string.min":n.message="Password should have at least ".concat(n.context.limit," characters");break;case"string.max":n.message="Password should have at most ".concat(n.context.limit," characters")}return n}).optional()}),t=cn.a.validate(e,n,{abortEarly:!1});return null===t.error?{}:un(t.error.details)};function Vt(){var e=Object(ie.a)(["\n   width: 100%;\n   padding: 0.75em;\n   margin-top: 2em;\n   color: ",";\n   background-color: ",";\n   font-size: 1em;\n   font-weight: 600;\n   border: none;\n   cursor: pointer;\n"]);return Vt=function(){return e},e}function Qt(){var e=Object(ie.a)(["\n  width: 90%;\n  height: 2.5em;\n  font-size: 1em;\n  padding: 0 0.8em;\n"]);return Qt=function(){return e},e}function Jt(){var e=Object(ie.a)(["\n  margin-top: 1em;\n  text-align: center;\n"]);return Jt=function(){return e},e}function Xt(){var e=Object(ie.a)(["\n  display: flex;\n  flex-direction: column;\n  align-content: space-around;\n"]);return Xt=function(){return e},e}var Yt=ce.a.form(Xt()),Ht=ce.a.div(Jt()),Wt=ce.a.input(Qt()),Zt=ce.a.button(Vt(),"#FFFFFF","#EC6C10");function $t(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function er(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?$t(t,!0).forEach(function(n){Object($.a)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$t(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var nr=function(e){function n(){var e,t;Object(b.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(g.a)(this,(e=Object(v.a)(n)).call.apply(e,[this].concat(a)))).state={data:{username:"",email:"",password:""},loading:!1,errors:{}},t.onSubmit=function(e){e.preventDefault();var n=t.state.data,r=Nt(n);0===Object.keys(r).length&&(t.setState({loading:!0}),t.props.submit(n).catch(function(e){t.setState({errors:e.response.data.errors,loading:!1})})),t.setState({errors:r})},t.onChange=function(e){var n=t.state.data;t.setState({data:er({},n,Object($.a)({},e.target.name,e.target.value))})},t}return Object(E.a)(n,e),Object(h.a)(n,[{key:"render",value:function(){var e=this.state,n=e.data,t=e.errors;return a.a.createElement(Yt,{onSubmit:this.onSubmit},a.a.createElement(Ht,null,a.a.createElement(Wt,{type:"text",id:"username",name:"username",placeholder:"Enter your username",value:n.username,onChange:this.onChange}),a.a.createElement(ln,{text:t.username||" "})),a.a.createElement(Ht,null,a.a.createElement(Wt,{type:"text",id:"email",name:"email",placeholder:"Enter your email",value:n.email,onChange:this.onChange}),a.a.createElement(ln,{text:t.email||" "})),a.a.createElement(Ht,null,a.a.createElement(Wt,{type:"password",id:"password",name:"password",placeholder:"Enter your password",value:n.password,onChange:this.onChange}),a.a.createElement(ln,{text:t.password||" "})),a.a.createElement(Zt,null,"Sign up"))}}]),n}(r.Component);function tr(){var e=Object(ie.a)(["\n  background-color: ",";\n  color: ",";\n  margin: 1em 0;\n  padding: 0.5em;\n  text-align: center;\n"]);return tr=function(){return e},e}function rr(){var e=Object(ie.a)(["\n   color: ",";\n   margin-bottom: 2em;\n   font-size: 1.25em;\n"]);return rr=function(){return e},e}function ar(){var e=Object(ie.a)(["\n  width: 400px;\n  height: 470px;\n  \n  padding: 1em 2em;\n  position: absolute;\n    \n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  \n  background: #FFFFFF;\n  box-shadow: ",";\n"]);return ar=function(){return e},e}var or=ce.a.div(ar(),se),ir=ce.a.h2(rr(),"#EC6C10"),cr=ce.a.div(tr(),"#414141","#FFFFFF"),ur=function(e){var n=e.submit;return a.a.createElement(or,null,a.a.createElement(ir,null,"Sing up"),a.a.createElement(nr,{submit:n}),a.a.createElement(cr,null,a.a.createElement(c.b,{to:"/login",style:{textDecoration:"none",color:"#FFFFFF",fontSize:"1em",fontWeight:"600",width:"100%",height:"100%",display:"block"}},"Login")))},sr=function(e){function n(){var e,t;Object(b.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(g.a)(this,(e=Object(v.a)(n)).call.apply(e,[this].concat(a)))).submit=function(e){return t.props.signup(e).then(function(){t.props.history.push("/")})},t}return Object(E.a)(n,e),Object(h.a)(n,[{key:"render",value:function(){return a.a.createElement(ur,{submit:this.submit})}}]),n}(r.Component),lr=Object(l.connect)(null,{signup:function(e){return function(n){return w.signup(e).then(function(e){localStorage.bookwormJWT=e.token,n(an(e))})}}})(sr);function dr(){var e=Object(ie.a)(["\n  margin: 0.5em 0;\n"]);return dr=function(){return e},e}function mr(){var e=Object(ie.a)(["\n  border: 1px solid #b58105;\n  background-color: #fff8db;\n  text-align: center;\n  color: #b58105;\n  margin: 1em;\n"]);return mr=function(){return e},e}function fr(){var e=Object(ie.a)(["\n  border: 1px solid #e0b4b4;\n  background-color: #fff6f6;\n  text-align: center;\n  color: #a95857;\n  margin: 1em;\n"]);return fr=function(){return e},e}function pr(){var e=Object(ie.a)(["\n  border: 1px solid #a3c293;\n  background-color: #fcfff5;\n  text-align: center;\n  color: #366836;\n  margin: 1em;\n"]);return pr=function(){return e},e}var br=ce.a.div(pr()),hr=ce.a.div(fr()),gr=ce.a.div(mr()),vr=ce.a.p(dr()),Er=function(e){var n=e.loading,t=e.success;return a.a.createElement("div",null,n&&a.a.createElement(gr,null,a.a.createElement(vr,null,"Validation your email...")),!n&&t&&a.a.createElement(br,null,a.a.createElement(vr,null,"Thank you. Your account has been verified")),!n&&!t&&a.a.createElement(hr,null,a.a.createElement(vr,null,"Ooops. Invalid token it seems.")))},Or=function(e){function n(){var e,t;Object(b.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(g.a)(this,(e=Object(v.a)(n)).call.apply(e,[this].concat(a)))).state={loading:!0,success:!1},t}return Object(E.a)(n,e),Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.confirm(this.props.match.params.token).then(function(){e.setState({loading:!1,success:!0})}).catch(function(){e.setState({loading:!1,success:!1})})}},{key:"render",value:function(){var e=this.state,n=e.loading,t=e.success;return a.a.createElement(Er,{loading:n,success:t})}}]),n}(r.Component),yr=Object(l.connect)(null,{confirm:function(e){return function(n){return w.confirm(e).then(function(e){localStorage.bookwormJWT=e.token,n(an(e))})}}})(Or),jr=function(e){var n=cn.a.object().keys({email:cn.a.string().email().min(16).max(40).required().error(function(e){var n=e[0];switch(n.type){case"any.empty":case"any.required":n.message="Email should not be empty.";break;case"string.email":n.message="Email should have @";break;case"string.min":n.message="Email should have at least ".concat(n.context.limit," characters");break;case"string.max":n.message="Email should have at most ".concat(n.context.limit," characters")}return n}).optional()}),t=cn.a.validate(e,n,{abortEarly:!1});return null===t.error?{}:un(t.error.details)};function kr(){var e=Object(ie.a)(["\n  width: 100%;\n   padding: 0.75em;\n   margin: 1.5em 0;\n   color: ",";\n   background-color: ",";\n   font-size: 1em;\n   font-weight: 600;\n   border: none;\n   cursor: pointer;\n"]);return kr=function(){return e},e}function wr(){var e=Object(ie.a)(["\n  width: 90%;\n  height: 2.5em;\n  font-size: 1em;\n  padding: 0 0.8em;\n"]);return wr=function(){return e},e}function Ar(){var e=Object(ie.a)(["\n  margin: 2em 0;\n  text-align: center;\n"]);return Ar=function(){return e},e}var xr=ce.a.div(Ar()),Cr=ce.a.input(wr()),Sr=ce.a.button(kr(),"#FFFFFF","#EC6C10");function Fr(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function Pr(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Fr(t,!0).forEach(function(n){Object($.a)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Fr(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var Dr=function(e){function n(){var e,t;Object(b.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(g.a)(this,(e=Object(v.a)(n)).call.apply(e,[this].concat(a)))).state={data:{email:""},loading:!1,errors:{}},t.onSubmit=function(e){e.preventDefault();var n=t.state.data,r=jr(n);t.setState({errors:r}),0===Object.keys(r).length&&(t.setState({loading:!0}),t.props.submit(n).catch(function(e){t.setState({errors:e.response.data.errors,loading:!1})}))},t.onChange=function(e){var n=t.state.data;t.setState({data:Pr({},n,Object($.a)({},e.target.name,e.target.value))})},t}return Object(E.a)(n,e),Object(h.a)(n,[{key:"render",value:function(){var e=this.state,n=e.data,t=e.errors;return a.a.createElement("form",{onSubmit:this.onSubmit},a.a.createElement(xr,{error:!!t.email},a.a.createElement(Cr,{type:"text",id:"email",name:"email",placeholder:"Enter your email",value:n.email,onChange:this.onChange}),a.a.createElement(ln,{text:t.email||" "})),a.a.createElement(Sr,null,"Continue"))}}]),n}(r.Component);function Br(){var e=Object(ie.a)(["\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    margin: auto;\n    width: 300px;\n    text-align: center;\n    height: 60px;\n    font-size: 1.2em;\n"]);return Br=function(){return e},e}function Ir(){var e=Object(ie.a)(["\n  width: 50px;\n"]);return Ir=function(){return e},e}function Lr(){var e=Object(ie.a)(["\n   color: ",";\n   margin-bottom: 3em;\n   font-size: 1.25em;\n"]);return Lr=function(){return e},e}function Tr(){var e=Object(ie.a)(["\n  width: 400px;\n  height: 275px;\n  \n  padding: 1em 2em;\n  position: absolute;\n    \n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  \n  background: #FFFFFF;\n  box-shadow: ",";\n"]);return Tr=function(){return e},e}var Rr=ce.a.div(Tr(),se),Ur=ce.a.h2(Lr(),"#EC6C10"),_r=ce.a.img(Ir()),zr=ce.a.span(Br()),qr=t(244),Gr=t.n(qr),Kr=function(e){var n=e.success,t=e.submit;return a.a.createElement(Rr,null,n?a.a.createElement(zr,null,a.a.createElement(_r,{src:Gr.a,alt:""}),a.a.createElement("p",null,"Email has been sent.")):a.a.createElement(a.a.Fragment,null,a.a.createElement(Ur,null,"Forgot password"),a.a.createElement(Dr,{submit:t})))},Mr=function(e){function n(){var e,t;Object(b.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(g.a)(this,(e=Object(v.a)(n)).call.apply(e,[this].concat(a)))).state={success:!1},t.submit=function(e){return t.props.resetPasswordRequest(e).then(function(){return t.setState({success:!0})})},t}return Object(E.a)(n,e),Object(h.a)(n,[{key:"render",value:function(){return a.a.createElement(Kr,{success:this.state.success,submit:this.submit})}}]),n}(r.Component),Nr=Object(l.connect)(null,{resetPasswordRequest:function(e){var n=e.email;return function(){return w.resetPasswordRequest(n)}}})(Mr),Vr=t(557),Qr=function(e){var n=cn.a.object().keys({password:cn.a.string().min(6).max(20).required().error(function(e){var n=e[0];switch(n.type){case"any.empty":case"any.required":n.message="Password should not be empty.";break;case"string.min":n.message="Password should have at least ".concat(n.context.limit," characters");break;case"string.max":n.message="Password should have at most ".concat(n.context.limit," characters")}return n}).optional(),passwordConfirmation:cn.a.string().min(6).max(20).required().error(function(e){var n=e[0];switch(n.type){case"any.empty":case"any.required":n.message="Password should not be empty.";break;case"string.min":n.message="Password should have at least ".concat(n.context.limit," characters");break;case"string.max":n.message="Password should have at most ".concat(n.context.limit," characters")}return n}).optional()}),t=cn.a.validate(e,n,{abortEarly:!1,allowUnknown:!0});return null===t.error?{}:un(t.error.details)};function Jr(){var e=Object(ie.a)(["\n  width: 100%;\n   padding: 0.75em;\n   margin: 1.5em 0;\n   color: ",";\n   background-color: ",";\n   font-size: 1em;\n   font-weight: 600;\n   border: none;\n   cursor: pointer;\n"]);return Jr=function(){return e},e}function Xr(){var e=Object(ie.a)(["\n  width: 90%;\n  height: 2.5em;\n  font-size: 1em;\n  padding: 0 0.8em;\n"]);return Xr=function(){return e},e}function Yr(){var e=Object(ie.a)(["\n  margin: 2em 0;\n  text-align: center;\n"]);return Yr=function(){return e},e}function Hr(){var e=Object(ie.a)(["\n   color: ",";\n   margin-bottom: 3em;\n   font-size: 1.25em;\n"]);return Hr=function(){return e},e}function Wr(){var e=Object(ie.a)(["\n  width: 400px;\n  height: 330px;\n  \n  padding: 1em 2em;\n  position: absolute;\n    \n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  \n  background: #FFFFFF;\n  box-shadow: ",";\n"]);return Wr=function(){return e},e}var Zr=ce.a.form(Wr(),se),$r=ce.a.h2(Hr(),"#EC6C10"),ea=ce.a.div(Yr()),na=ce.a.input(Xr()),ta=ce.a.button(Jr(),"#FFFFFF","#EC6C10");function ra(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function aa(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ra(t,!0).forEach(function(n){Object($.a)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ra(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var oa=function(e){function n(){var e,t;Object(b.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(g.a)(this,(e=Object(v.a)(n)).call.apply(e,[this].concat(a)))).state={data:{token:t.props.token,password:"",passwordConfirmation:""},errors:{}},t.onSubmit=function(e){e.preventDefault();var n=t.state.data,r=Qr(n);n.password!==n.passwordConfirmation&&(r.passwordConfirmation="Password must match"),t.setState({errors:r}),0===Object.keys(r).length&&t.props.submit(n).catch(function(e){t.setState({errors:e.response.data.errors})})},t.onChange=function(e){var n=t.state.data;t.setState({data:aa({},n,Object($.a)({},e.target.name,e.target.value))})},t}return Object(E.a)(n,e),Object(h.a)(n,[{key:"render",value:function(){var e=this.state,n=e.data,t=e.errors;return a.a.createElement(Zr,{onSubmit:this.onSubmit},a.a.createElement($r,null," Reset password "),a.a.createElement(ea,null,a.a.createElement(na,{type:"password",id:"password",name:"password",placeholder:"Your new password",value:n.password,onChange:this.onChange}),a.a.createElement(ln,{text:t.password||" "})),a.a.createElement(ea,null,a.a.createElement(na,{type:"password",id:"passwordConfirmation",name:"passwordConfirmation",placeholder:"Type it again, please",value:n.passwordConfirmation,onChange:this.onChange}),t.passwordConfirmation&&a.a.createElement(ln,{text:t.passwordConfirmation||" "})),a.a.createElement(ta,null,"Reset"))}}]),n}(r.Component),ia=function(e){function n(){var e,t;Object(b.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(g.a)(this,(e=Object(v.a)(n)).call.apply(e,[this].concat(a)))).state={loading:!0,success:!1},t.submit=function(e){return t.props.resetPassword(e).then(function(){t.props.history.push("/login")})},t}return Object(E.a)(n,e),Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.validateToken(this.props.match.params.token).then(function(){return e.setState({loading:!1,success:!0})}).catch(function(){return e.setState({loading:!1,success:!1})})}},{key:"render",value:function(){var e=this.state,n=e.loading,t=e.success,r=this.props.match.params.token;return a.a.createElement(a.a.Fragment,null,n&&a.a.createElement(Vr.a,null,"Loading"),!n&&t&&a.a.createElement(oa,{submit:this.submit,token:r}),!n&&!t&&a.a.createElement(Vr.a,null,"Invalid Token"))}}]),n}(r.Component),ca=Object(l.connect)(null,{validateToken:function(e){return function(){return w.validateToken(e)}},resetPassword:function(e){return function(){return w.resetPassword(e)}}})(ia),ua=t(106);var sa=Object(l.connect)(function(e){return{isAuthenticated:!!e.user.email}})(function(e){var n=e.isAuthenticated,t=e.component,r=Object(ua.a)(e,["isAuthenticated","component"]);return a.a.createElement(u.b,Object.assign({},r,{render:function(e){return n?a.a.createElement(t,e):a.a.createElement(u.a,{to:"/"})}}))});var la=Object(l.connect)(function(e){return{isAuthenticated:!!e.user.email}})(function(e){var n=e.isAuthenticated,t=e.component,r=Object(ua.a)(e,["isAuthenticated","component"]);return a.a.createElement(u.b,Object.assign({},r,{render:function(e){return n?a.a.createElement(u.a,{to:"/"}):a.a.createElement(t,e)}}))}),da=t(252),ma=t.n(da);function fa(){var e=Object(ie.a)(["\n    width: 1.25em;\n    height: 1.5em;\n\n    animation: rotate 2s linear infinite;\n\n    stroke: ",";\n  \n    & .path {\n      animation: dash 1.5s ease-in-out infinite;\n      \n      stroke: hsl(210, 70, 75);\n      stroke-linecap: round;\n    }\n    \n    @keyframes rotate {\n    100% {\n      transform: rotate(360deg);\n      }\n    }\n  \n    @keyframes dash {\n      0% {\n        stroke-dasharray: 1, 150;\n        stroke-dashoffset: 0;\n      }\n      50% {\n        stroke-dasharray: 90, 150;\n        stroke-dashoffset: -35;\n      }\n      100% {\n        stroke-dasharray: 90, 150;\n        stroke-dashoffset: -124;\n      }\n    }  \n"]);return fa=function(){return e},e}function pa(){var e=Object(ie.a)(["\n    position: absolute;\n\n    padding: .17em;\n\n    vertical-align: middle;\n\n    border: ",";\n    border-left: none;\n"]);return pa=function(){return e},e}function ba(){var e=Object(ie.a)(["\n    position: absolute;\n\n    display: inline;\n\n    width: 1.7em;\n    height: 1.5em;\n    padding: .1em 0;\n\n    text-align: center;\n\n    border: ",";\n    border-left: none;\n"]);return ba=function(){return e},e}var ha=ce.a.div(ba(),ue),ga=ce.a.img(pa(),ue),va=ce.a.svg(fa(),"#C4C4C4"),Ea=function(e){return e.loading?a.a.createElement(ha,null,a.a.createElement(va,{viewBox:"0 0 50 50"},a.a.createElement("circle",{className:"path",cx:"25",cy:"25",r:"20",fill:"none",strokeWidth:"5"}))):a.a.createElement(ga,{src:ma.a,alt:"Search"})};function Oa(){var e=Object(ie.a)(["\n    font-size: .85em;\n    font-weight: normal;\n\n    overflow: hidden;\n\n    white-space: nowrap;\n    text-overflow: ellipsis;\n\n    color: ",";\n"]);return Oa=function(){return e},e}function ya(){var e=Object(ie.a)(["\n    font-size: .95em;\n    font-weight: bold;\n\n    overflow: hidden;\n\n    white-space: nowrap;\n    text-overflow: ellipsis;\n\n    color: ",";\n"]);return ya=function(){return e},e}function ja(){var e=Object(ie.a)(["\n  width: 16em;\n"]);return ja=function(){return e},e}function ka(){var e=Object(ie.a)(["\n  width: 2.5em;\n  height: 100%;\n  padding: 0 .5em; \n"]);return ka=function(){return e},e}function wa(){var e=Object(ie.a)(["\n    display: flex;\n\n    height: 3.5em;\n\n    border: ",";\n    border-top: none;\n\n    align-items: center;\n"]);return wa=function(){return e},e}var Aa=ce.a.div(wa(),ue),xa=ce.a.img(ka()),Ca=ce.a.div(ja()),Sa=ce.a.div(ya(),"#414141"),Fa=ce.a.div(Oa(),"#414141"),Pa=function(e){var n=e.book;return a.a.createElement(c.b,{style:{textDecoration:"none"},to:{pathname:"/books/new/".concat(n.goodreadsId)}},a.a.createElement(Aa,null,a.a.createElement(xa,{src:n.image_url,alt:"".concat(n.title," cover")}),a.a.createElement(Ca,null,a.a.createElement(Sa,null,n.title),a.a.createElement(Fa,null,"by ",n.authors))))};function Da(){var e=Object(ie.a)(["\n    font-size: .9em;\n    font-weight: bold;\n    \n    padding: .5em;\n\n    text-align: center;\n\n    border: ",";\n    border-top: none;\n    \n    color: ",";\n"]);return Da=function(){return e},e}function Ba(){var e=Object(ie.a)(["\n    position: absolute;\n    z-index: 10;\n    top: 2.5em;\n\n    width: 21em;\n\n    background-color: white;\n    box-shadow: 0 .1em .2em rgba(0,0,0,.15);\n"]);return Ba=function(){return e},e}var Ia=ce.a.div(Ba()),La=ce.a.div(Da(),ue,"#414141"),Ta=Object(l.connect)(null,{getBookData:Z})(function(e){var n=e.books,t=e.query,r=e.visibility,o=Array.isArray(n)&&n.map(function(e){return a.a.createElement(Pa,{key:e.goodreadsId,book:e})}),i="string"===typeof n&&a.a.createElement(La,null,n),u=Array.isArray(n)&&t&&a.a.createElement(c.b,{style:{textDecoration:"none"},to:{pathname:"/search",search:"?q=".concat(t,"&page=1")}},a.a.createElement(La,null,'Show all results for "',t,'"'));return r?a.a.createElement(Ia,null,o,u,i):null});function Ra(){var e=Object(ie.a)(["\n    font-size: .85em;\n\n    width: 22em;\n    height: 2em;\n    padding: 0 .25em;\n\n    color: ",";\n    border: ",";\n    border-right: 0;\n    outline: none;\n    background: ",";\n\n  &::-webkit-input-placeholder {\n    color: ",";\n  }\n"]);return Ra=function(){return e},e}function Ua(){var e=Object(ie.a)(["\n    font-weight: normal;\n    font-style: normal;\n\n    margin-left: 2%;\n\n    color: ",";\n\n    flex-grow: 2;\n"]);return Ua=function(){return e},e}var _a=ce.a.div(Ua(),"#C4C4C4"),za=ce.a.input(Ra(),"#C4C4C4",ue,"#414141","#C4C4C4"),qa=function(e){function n(){var e,t;Object(b.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=Object(g.a)(this,(e=Object(v.a)(n)).call.apply(e,[this].concat(o)))).state={query:"",loading:!1,books:[],visibilityDropdownList:!1},t.myRef=a.a.createRef(),t.handleChange=function(e){var n;clearTimeout(t.timer),t.setState((n={},Object($.a)(n,e.target.id,e.target.value),Object($.a)(n,"visibilityDropdownList",!1),n)),t.timer=setTimeout(t.fetchOptions,500)},t.fetchOptions=function(){var e=t.state.query;e&&(t.setState({loading:!0}),e&&t.props.search(e).then(function(e){var n;if(Array.isArray(e)){n=[];for(var r=e.length>5?5:e.length,a=0;a<r;a++)n.push(e[a])}else n=e;t.setState({books:n,loading:!1,visibilityDropdownList:!0})}))},t.handleClickOutside=function(e){t.myRef.current.contains(e.target)||t.setState({visibilityDropdownList:!1})},t.handleClickInside=function(){return t.setState({visibilityDropdownList:!1})},t}return Object(E.a)(n,e),Object(h.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"render",value:function(){var e=this.state,n=e.books,t=e.loading,r=e.query,o=e.visibilityDropdownList;return a.a.createElement(_a,{ref:this.myRef,onClick:this.handleClickInside},a.a.createElement(za,{id:"query",type:"text",placeholder:"Search books",onChange:this.handleChange}),a.a.createElement(Ea,{loading:t}),a.a.createElement(Ta,{books:n,query:r,visibility:o}))}}]),n}(r.Component),Ga=Object(l.connect)(null,{search:function(e){return function(){return A.search(e)}}})(qa);function Ka(){var e=Object(ie.a)(["\n    background-color: #414141;\n    border: none;\n    color: white;\n    font-size: 1.1em;\n    cursor: pointer;\n"]);return Ka=function(){return e},e}function Ma(){var e=Object(ie.a)(["\n  margin: 0.5em 0;\n"]);return Ma=function(){return e},e}function Na(){var e=Object(ie.a)(["\n    position: absolute;\n    font-size: 0.85em;\n    padding: 0.25em 0.75em;\n    text-align: center;\n    z-index: 10;\n    top: 3.25em;\n    right: 5em;\n    background-color: #414141;\n    box-shadow: 0 0.1em 0.2em rgba(0,0,0,.15)\n"]);return Na=function(){return e},e}var Va=ce.a.div(Na()),Qa=ce.a.div(Ma()),Ja=ce.a.button(Ka()),Xa=Object(l.connect)(null,{logout:function(){return function(e){localStorage.removeItem("bookwormJWT"),tn(),e({type:C})}}})(function(e){var n=e.visibility,t=e.logout;return n?a.a.createElement(Va,null,a.a.createElement(Qa,null,a.a.createElement(c.b,{style:{textDecoration:"none",color:"white",fontSize:"1.1em"},to:"/dashboard"},"My Books")),a.a.createElement(Qa,null,a.a.createElement(Ja,{onClick:function(){return t()}},"Logout"))):null}),Ya=t(253),Ha=t.n(Ya);function Wa(){var e=Object(ie.a)(["\n  color: ",";\n  font-size: 1.1em;\n  cursor: default;\n"]);return Wa=function(){return e},e}function Za(){var e=Object(ie.a)(["\n  margin: 0 0.8em;\n  cursor: pointer;\n"]);return Za=function(){return e},e}function $a(){var e=Object(ie.a)(["\n  height: 50px;\n  \n  display: flex;\n  padding: 0 5%;\n  align-items: center;\n  position: relative;\n  \n  background: ",";\n"]);return $a=function(){return e},e}var eo=ce.a.header($a(),"#414141"),no=ce.a.img(Za()),to=ce.a.span(Wa(),"#C4C4C4"),ro=function(e){function n(){var e,t;Object(b.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=Object(g.a)(this,(e=Object(v.a)(n)).call.apply(e,[this].concat(o)))).state={visibilityDropdownList:!1},t.myRef=a.a.createRef(),t.handleClickOutside=function(e){t.myRef.current.contains(e.target)||t.setState({visibilityDropdownList:!1})},t.handleClickInside=function(){return t.setState({visibilityDropdownList:!0})},t}return Object(E.a)(n,e),Object(h.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"render",value:function(){var e=this.state.visibilityDropdownList;return a.a.createElement("div",{ref:this.myRef,onClick:this.handleClickInside},a.a.createElement(no,{src:Ha.a,alt:"User menu"}),a.a.createElement(Xa,{visibility:e}))}}]),n}(r.Component),ao=t(254),oo=t.n(ao);var io=Object(l.connect)(function(e){return{username:e.user.username,isAuthenticated:!!e.user.email}})(function(e){var n=e.isAuthenticated,t=e.username;return a.a.createElement(eo,null,a.a.createElement(c.b,{to:"/"},a.a.createElement(no,{src:oo.a,alt:"Go to main page"})),a.a.createElement(Ga,null),n?a.a.createElement(r.Fragment,null,a.a.createElement(to,null,t),a.a.createElement(ro,null)):a.a.createElement(c.b,{style:{textDecoration:"none",color:"#FFFFFF",fontSize:"1.1em"},to:"/login"},"Login"))});function co(){var e=Object(ie.a)(["\n  text-align: center;\n  margin-top: 0;\n  margin-bottom: 1em;\n"]);return co=function(){return e},e}function uo(){var e=Object(ie.a)(["\n  width: 10em;\n"]);return uo=function(){return e},e}function so(){var e=Object(ie.a)(["\n  padding-top: 1.25em;\n  font-size: 0.8em;\n"]);return so=function(){return e},e}function lo(){var e=Object(ie.a)(["\n  text-align: justify;\n  padding-bottom: 1.25em;\n  border-bottom: 1px solid ",";\n"]);return lo=function(){return e},e}function mo(){var e=Object(ie.a)(["\n  position: absolute;\n  top: 2px;\n  padding-left: 0.4em;\n"]);return mo=function(){return e},e}function fo(){var e=Object(ie.a)(["\n  position: relative;\n  margin-bottom: 1.5em;\n"]);return fo=function(){return e},e}function po(){var e=Object(ie.a)(["\n  font-size: 1.25em;\n  margin-bottom: 0.25em;\n"]);return po=function(){return e},e}function bo(){var e=Object(ie.a)(["\n  margin-top: 0;\n  margin-bottom: 0.25em;\n  font-size: 1.4em;\n"]);return bo=function(){return e},e}function ho(){var e=Object(ie.a)(["\n  margin: 0 1.25em;\n  width: 41em;\n"]);return ho=function(){return e},e}function go(){var e=Object(ie.a)(["\n  width: 160px;\n  height: 220px;\n"]);return go=function(){return e},e}function vo(){var e=Object(ie.a)(["\n  text-align: center;\n  width: 10em;\n"]);return vo=function(){return e},e}function Eo(){var e=Object(ie.a)(["\n  margin: 3em auto;\n  width: ",";\n  display: flex;\n  flex-wrap: wrap;\n"]);return Eo=function(){return e},e}var Oo=ce.a.div(Eo(),"1024px"),yo=ce.a.div(vo()),jo=ce.a.img(go()),ko=ce.a.div(ho()),wo=ce.a.h2(bo()),Ao=ce.a.div(po()),xo=ce.a.div(fo()),Co=ce.a.span(mo()),So=ce.a.div(lo(),"#C4C4C4"),Fo=ce.a.div(so()),Po=ce.a.div(uo()),Do=ce.a.h4(co()),Bo=function(e){var n=e.book,t=e.confirmed,r=t&&a.a.createElement("div",null,n.readStatus?a.a.createElement(_n,{id:n.goodreadsId,inList:!1}):a.a.createElement(xt,{book:n,inList:!1})),o=t&&a.a.createElement("div",null,a.a.createElement(Gn,{id:n.goodreadsId,likeStatus:n.likeStatus,inList:!1})),i=t&&n.readStatus&&a.a.createElement(Po,null,a.a.createElement(Do,null,"Your progress"),a.a.createElement($n,{pages:n.pages,readPages:n.readPages,goodreadsId:n.goodreadsId,inList:!1}));return a.a.createElement(Oo,null,a.a.createElement(yo,null,a.a.createElement(jo,{src:n.image_url,alt:"".concat(n.title," cover")}),r,o),a.a.createElement(ko,null,a.a.createElement(wo,null,n.title),a.a.createElement(Ao,null,"by ",n.authors),a.a.createElement(xo,null,a.a.createElement(oe.a,{initialRating:n.average_rating,emptySymbol:a.a.createElement("img",{src:De.a,alt:"star"}),fullSymbol:a.a.createElement("img",{src:Ie.a,alt:"star"}),readonly:!0}),a.a.createElement(Co,null,n.average_rating)),a.a.createElement(So,{dangerouslySetInnerHTML:{__html:n.description}}),a.a.createElement(Fo,null,a.a.createElement("div",null,n.format,", pages ",n.pages),a.a.createElement("div",null,"Published ",n.publication_month,"/",n.publication_day,"/",n.publication_year," by ",n.publisher))),i)},Io=function(e){function n(){var e,t;Object(b.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(g.a)(this,(e=Object(v.a)(n)).call.apply(e,[this].concat(a)))).fetchBook=function(){var e=t.props.match.params.id,n=t.props,r=n.getBookData,a=n.getBookDataSuccess,o=n.getBookDataFailure;r(e).then(function(e){return a(e)}).catch(function(e){return o(e)})},t}return Object(E.a)(n,e),Object(h.a)(n,[{key:"componentDidMount",value:function(){this.fetchBook()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.id!==e.match.params.id&&this.fetchBook()}},{key:"render",value:function(){var e=this.props,n=e.book,t=e.loading,r=e.error,o=e.confirmed;return t?a.a.createElement(Ne,null):r?a.a.createElement($e,{title:r}):a.a.createElement(Bo,{book:n,confirmed:o})}}]),n}(r.Component);var Lo=Object(l.connect)(function(e){return{book:e.books.data,loading:e.books.loading,error:e.books.error,confirmed:e.user.confirmed}},{getBookData:Z,getBookDataSuccess:function(e){return function(n){return n({type:I,data:e})}},getBookDataFailure:function(e){return function(n){return n(function(e){return{type:L,error:e}}(e))}}})(Io),To=t(255),Ro=t.n(To),Uo=t(555);function _o(){var e=Object(ie.a)(["\n  position: absolute;\n  top: 2px;\n  padding-left: 0.4em;\n"]);return _o=function(){return e},e}function zo(){var e=Object(ie.a)(["\n  position: relative;\n"]);return zo=function(){return e},e}function qo(){var e=Object(ie.a)(["\n  margin: 0.15em 0;\n  font-size: 0.9em;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"]);return qo=function(){return e},e}function Go(){var e=Object(ie.a)(["\n  margin: 0 0 0.2em 0;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"]);return Go=function(){return e},e}function Ko(){var e=Object(ie.a)(["\n  padding: 0 1em;\n  overflow: hidden;\n  width: 100%;\n"]);return Ko=function(){return e},e}function Mo(){var e=Object(ie.a)(["\n  height: 75px;\n  width: 55px;\n"]);return Mo=function(){return e},e}function No(){var e=Object(ie.a)(["\n  display: flex;\n  align-items: center;\n  padding: 0.25em 0;\n  color: ",";\n  width: 510px;\n  height: 75px;\n  margin: 0.75em 0;\n"]);return No=function(){return e},e}var Vo=ce.a.article(No(),"#414141"),Qo=ce.a.img(Mo()),Jo=ce.a.div(Ko()),Xo=ce.a.h4(Go()),Yo=ce.a.div(qo()),Ho=ce.a.div(zo()),Wo=ce.a.span(_o()),Zo=function(e){var n=e.book;return a.a.createElement(c.b,{to:{pathname:"/books/new/".concat(n.goodreadsId)},style:{textDecoration:"none"}},a.a.createElement(Vo,null,a.a.createElement("div",null,a.a.createElement(Qo,{src:n.image_url,alt:""})),a.a.createElement(Jo,null,a.a.createElement(Xo,null,n.title),a.a.createElement(Yo,null,"by ",n.authors),a.a.createElement(Ho,null,a.a.createElement(oe.a,{initialRating:n.rating,emptySymbol:a.a.createElement("img",{src:De.a,alt:"star"}),fullSymbol:a.a.createElement("img",{src:Ie.a,alt:"star"}),readonly:!0}),a.a.createElement(Wo,null,n.rating)))))};function $o(){var e=Object(ie.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n"]);return $o=function(){return e},e}var ei=ce.a.div($o()),ni=function(e){var n=e.books;return a.a.createElement(ei,null,Array.isArray(n)&&n.map(function(e){return a.a.createElement(Zo,{book:e,key:e.goodreadsId})}))};function ti(){var e=Object(ie.a)(["\n  text-align: center;\n  margin: 1em 0;\n"]);return ti=function(){return e},e}function ri(){var e=Object(ie.a)(["\n  font-size: 0.9em;\n  text-align: center;\n  margin-top: 1.5em;\n"]);return ri=function(){return e},e}function ai(){var e=Object(ie.a)(["\n  margin-left: 0.5em;\n    padding: 0.45em 1.5em;\n    font-weight: 600;\n    background-color: ",";\n    color: ",";\n    box-shadow: ",";\n}\n\n"]);return ai=function(){return e},e}function oi(){var e=Object(ie.a)(["\n  width: 25em;\n  height: 2em;\n  font-size: 1em;\n  border: ",";\n  box-sizing: border-box;\n  padding: 0.25rem;\n  outline: none;\n"]);return oi=function(){return e},e}function ii(){var e=Object(ie.a)(["\n  text-align: center;\n"]);return ii=function(){return e},e}function ci(){var e=Object(ie.a)(["\n  margin: 1em 0;\n"]);return ci=function(){return e},e}function ui(){var e=Object(ie.a)(["\n  margin: 0 auto;\n  width: ",";\n"]);return ui=function(){return e},e}var si=ce.a.div(ui(),"1024px"),li=ce.a.h1(ci()),di=ce.a.form(ii()),mi=ce.a.input(oi(),ue),fi=ce.a.button(ai(),"#EC6C10","#FFFFFF",se),pi=ce.a.div(ri()),bi=ce.a.div(ti());t(519);function hi(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function gi(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?hi(t,!0).forEach(function(n){Object($.a)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):hi(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var vi=function(e){function n(){var e,t;Object(b.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(g.a)(this,(e=Object(v.a)(n)).call.apply(e,[this].concat(a)))).state={query:Ro.a.parse(t.props.location.search),inputValue:null},t.fetchBooksByPage=function(){var e=t.state.query,n=t.props,r=n.history,a=n.searchByPage,o=n.searchBooksSuccess,i=n.searchBooksFailure;""!==t.state.query.q?a(e.q,e.page).then(r.push("/search?q=".concat(e.q,"&page=").concat(e.page))).then(function(e){return o(e)}).catch(function(e){return i(e)}):m.toastr.error("Error","Invalid value")},t.handlePageChange=function(e,n){t.setState({query:gi({},t.state.query,{page:n.activePage})}),document.getElementById("inputValue").scrollIntoView({block:"center",behavior:"smooth"})},t.onChange=function(e){t.setState(Object($.a)({},e.target.name,e.target.value))},t.onSubmit=function(e){e.preventDefault(),t.setState({query:{q:t.state.inputValue,page:1}})},t}return Object(E.a)(n,e),Object(h.a)(n,[{key:"componentDidMount",value:function(){""!==this.state.query.q?this.fetchBooksByPage():this.props.history.push("/")}},{key:"componentDidUpdate",value:function(e,n){this.state.query!==n.query&&this.fetchBooksByPage()}},{key:"render",value:function(){var e=this.props,n=e.books,t=e.loading,r=e.query_time_seconds,o=e.total_results,i=e.error,c=this.state.query,u="string"===typeof n,s="object"===typeof n&&20===n.length,l=u?a.a.createElement("p",null,n):a.a.createElement(ni,{books:n}),d=t?a.a.createElement(pi,null,"loading..."):a.a.createElement(pi,null,"Page ",c.page," of about ",o," results (",r," seconds)"),m=t||u||!s?null:a.a.createElement(a.a.Fragment,null,a.a.createElement("hr",null),a.a.createElement(bi,null,a.a.createElement(Uo.a,{boundaryRange:0,activePage:c.page,ellipsisItem:null,firstItem:null,lastItem:null,siblingRange:2,totalPages:20,onPageChange:this.handlePageChange})));return i?a.a.createElement($e,{title:i}):a.a.createElement(si,null,a.a.createElement(li,null,"Search"),a.a.createElement(di,{onSubmit:this.onSubmit},a.a.createElement(mi,{type:"text",id:"inputValue",name:"inputValue",placeholder:"Search by Book Title",defaultValue:c.q,onChange:this.onChange}),a.a.createElement(fi,null,"Search")),d,a.a.createElement("hr",null),l,m)}}]),n}(r.Component);var Ei=Object(l.connect)(function(e){return{books:e.books.data.books,query_time_seconds:e.books.data.query_time_seconds,total_results:e.books.data.total_results,loading:e.books.loading,error:e.books.error}},{searchByPage:function(e,n){return function(t){return A.searchByPage(e,n).then(t({type:_}))}},searchBooksSuccess:function(e){return function(n){return n({type:z,data:e})}},searchBooksFailure:function(e){return function(n){return n(function(e){return{type:q,error:e}}(e))}}})(vi),Oi=function(e){function n(){return Object(b.a)(this,n),Object(g.a)(this,Object(v.a)(n).apply(this,arguments))}return Object(E.a)(n,e),Object(h.a)(n,[{key:"componentDidMount",value:function(){this.props.isAuthenticated&&this.props.fetchCurrentUser()}},{key:"render",value:function(){var e=this.props,n=e.location,t=e.loaded;return a.a.createElement("div",null,a.a.createElement(y.a,{loaded:t},a.a.createElement(io,null),a.a.createElement(u.b,{location:n,path:"/",exact:!0,component:nn}),a.a.createElement(u.b,{location:n,path:"/confirmation/:token",exact:!0,component:yr}),a.a.createElement(u.b,{location:n,path:"/search",component:Ei}),a.a.createElement(u.b,{location:n,path:"/books/new/:id",exact:!0,component:Lo}),a.a.createElement(la,{location:n,path:"/login",exact:!0,component:Pn}),a.a.createElement(la,{location:n,path:"/signup",exact:!0,component:lr}),a.a.createElement(la,{location:n,path:"/forgot_password",exact:!0,component:Nr}),a.a.createElement(la,{location:n,path:"/reset_password/:token",exact:!0,component:ca}),a.a.createElement(sa,{location:n,path:"/dashboard",exact:!0,component:Gt})))}}]),n}(r.Component);var yi=Object(l.connect)(function(e){return{isAuthenticated:!!e.user.email,loaded:e.user.loaded}},{fetchCurrentUser:Mt})(Oi);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ji(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function ki(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ji(t,!0).forEach(function(n){Object($.a)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ji(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var wi=Object(s.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loaded:!1},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(n.type){case x:return ki({},n.user,{loaded:!0});case S:return ki({},e,{},n.user,{loaded:!0});case C:return{loaded:!0};default:return e}},books:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(n.type){case H:return te({},e,{data:te({},n.data)});case J:case X:return te({},e,{data:n.data,loading:!1,error:null});case Y:return te({},e,{data:n.data});case W:return te({},e,{data:te({},e.data,{readPages:n.data.readPages})});case M:return te({},e,{data:e.data.map(function(e){return e.goodreadsId===n.data.goodreadsId?te({},e,{readStatus:n.data.readStatus}):e})});case K:case V:return te({},e,{data:e.data.map(function(e){return e.goodreadsId===n.data.goodreadsId?te({},e,{likeStatus:n.data.likeStatus}):e}),loading:!1,error:null});case N:var t=e.data.findIndex(function(e){return e.goodreadsId===n.id});return!0===e.data[t].likeStatus?te({},e,{data:e.data.map(function(e,n){return t===n?te({},e,{readStatus:!1}):e})}):te({},e,{data:te({},e.data.slice(0,t),{},e.data.slice(t+1)),loading:!1,error:null});case Q:return te({},e,{data:e.data.map(function(e){return e.goodreadsId===n.data.goodreadsId?te({},e,{readPages:n.data.readPages}):e}),loading:!1,error:null});case F:case B:case T:case _:return te({},e,{loading:!0,error:null});case P:case I:case R:case z:return te({},e,{data:n.data,loading:!1,error:null});case D:case L:case U:case q:return te({},e,{loading:!1,error:n.error.response.data.error});case G:return te({},e,{filter:n.filter});default:return e}},toastr:m.reducer}),Ai=(t(551),Object(s.createStore)(wi,Object(p.composeWithDevTools)(Object(s.applyMiddleware)(d.a))));localStorage.bookwormJWT?(tn(localStorage.bookwormJWT),Ai.dispatch(Mt())):Ai.dispatch(Kt({})),i.a.render(a.a.createElement(c.a,null,a.a.createElement(l.Provider,{store:Ai},a.a.createElement(f.a,{timeOut:4e3,position:"bottom-right",transitionIn:"fadeIn",transitionOut:"fadeOut",closeOnToastrClick:!0}),a.a.createElement(u.b,{component:yi}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},56:function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGDSURBVHgB3ZRBTsJAFIb/adH1GNCEFXADjtCeQG4A7IzEUG6gJxBTFi65iXgCOQKuSIgJY1y20/FNbUNbWzq65E/aTjvvfe/NmzcFTlZ7j3fp4qb2lqlhJDGNQkxN7Y3BpIECPNOsjcAfd3ykFLo05AhwbeJjlrHCMB1KhpGJC6sz2N/yvrTwlo8D93IhVkbg7Q3v2ha4ZdGSGThT6OgnURwC9QtOa7qtaE4ohncq00Z/D0Ns2s8iHjdS4/MGhgS4T1NSybNMcSCVBFOH7Iih/R9yGWvtJtyzGB7xDxHIay7EU+Y9rx3VlMrxAt0BZhI2w+DCF6+FQL+1pVN2Jgn+02LVotoGEm5a16xK2609J0OFGepkwyuDVoK1aCkd1IhF1Ss6BnZQI3XEphIcFZwYw5yiLQtmDv4C1qcNh65Y0a47TV/MWr4YBw30KMAmmeP7Ce8Yg6UdN7/QvdlaCDfbSnpjKUAvYhjrALIi61Iw/XvXX5RZtuGLuvLFMrDhEvwTJ6Fvaet8ACbdZTYAAAAASUVORK5CYII="}},[[272,1,2]]]);
//# sourceMappingURL=main.0ee2ebb8.chunk.js.map