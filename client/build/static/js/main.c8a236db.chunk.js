(window["webpackJsonpbookworm-react"]=window["webpackJsonpbookworm-react"]||[]).push([[0],{244:function(e,t,n){e.exports=n.p+"static/media/error.9cadfc24.png"},252:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAAwmAAAMJgE29OC7AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFYSURBVHgB7ZTfaYRAEMbXf+BbLMESzkcfBO3EDlLCaQfpIEkH18GKIj56JVjC5U1RNN8cKxGju5c7CATywbI7s7O/WZ1Rxv6aNNlmXddO27aObdsXz/Mu7FFwURShpmlHLMOF+2wYxovv++/sHjCgiYCSMqybaZrcOQnWaRAECfsJuCzLGAdfMZphGCKomfc4565pmhyJXOxHgGcysL40cOCZ5jWURDb5r7f5eiI1GDdyMB1w6LSGLuGYMoxQxKvBqPwcKK0+vXOan6CbwGirK1AUalfz/gd0ExiPSeAMI6yqyt0KFv6Q4kS8Gixuk9I8jiNfw8kmvzDfmELf+hgtd0SCRJhbfdzgQzl1XZfKbr355eV5Huu6Tq13WLgz+BKAqddj2Oe+76M9uPRfQS1F1adCzQDyWZbFRdJduBQsS6iC6+wOEYRgBCW4SMIeBq/h9Ndj//p1fQLcd8FSeD+nqgAAAABJRU5ErkJggg=="},253:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHLSURBVHgB7VXLbcJAEN015u4SSAVJjnxjd+BUgFugAkwFIRXgVBA6iAMCjpgK4hIscUBIfPIGrRUrGJglygHJT1p5dryet288OytEgQL/BCk0MR6PbSllF+YDhoURlkqloFqtvunE0SIGqa9Ij7Df73vNZtMXTLCJJ5OJh+ADRZJgA4GyXdgVZTsgDznxDMEEgrbVM95sNo+NRqNDA7YDd3JQcSIbfyIGbBV86DhOnDqVHajpg2BChzhhrLEEEzrEkXp6s9mskjrJRhZcNQ0FEyZ3IVUtCGyY1m63+5hOp0Pyb7dbT/woDZjh9I4TKruLDfi5gaT06/V6TzCh3UBGo5FnGAZVuK2OVYS5X6vVPsUtgK14Pp9by+XSNU3zHkotjMohgJRU7RH+9aJcLkdonTEnnrxEtlqt2igmqlpb8MDq3SeJ6TLAvxukyrKg7gWlsZpSRR81DnqPLHRardZQcIlxVFyofM8QJdhEH8HC9Xq9QLdKcr55osxkezcBvuc88lxiHJsvUkqESBtV7KvQgKr8F5hUCzEujrvfa3I7V5peUqlLSoDCAKr7ZGfVZ3G2c2EDNtSLa0Dfnnt/qWXalwJcC51LokCB28A3FubXg5Vy1F0AAAAASUVORK5CYII="},254:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANlSURBVHgBxVhNUtswFP4ku3tlSjvDquEEhBM0nKBwgoZdp9BpOAHhBKEDdLoLvQGcgPQG9AQNW1om6nSZ2Or3HMuYYKchCc2bcWRZlvTp/XzvxQol8nPP1NnUFfBaKVSdQ9WPsd+Dg3VAj+NXbL+vnNhzzChq/EG/aarREB0BwKsbaBwhwlXl1F7/aBpjIqzHDjWn0EQOWBxj4+Vne4V5Qdy8Nw1u2uapLdtG5dh+mzT5ds8cUAstuQ8ISIBiHhACQGtqwKE3iLC5+sX2plng9oPpEHSD5lCYUbT8iAlEA+mz1rQAEnGYyQQPQIgPUK1GtLByar8+aoEQF4mjziGhjwLpcLEzPFIqR4nW1jCHaK3wJusodLEE0XSqmu/QIX9jCSI+kYF4ptDHEkRAGCxZwnxn4FBhMxXhiEO7GDbiVfbOtKEeSnj5vEDHXGczMe773Dwaaa+jNIzW94aFsXpu1Jpfe6YmuSUGLsIhzioloMQx8wN1/EMGTGbkE4morhoDzP7R8xO7QfbclHYQYi1NcgdxgEuycq1oTZXnfzkJF6hgShGTcINL3y+jbmrkMj2gDQiM3HLPhJqM9ynXNyl5TSVhmNOiK2dNHvLQrx8P8XF8XCeockypXZLGFyovTmzXU7vLUUK2p/wEAfbhX6LNmRnbWLDkfM8UghBtxBG2eWvTCU2apYX/JFmASVVEb97wGhGPvt01nf47Uy2ayPRvMMRbTC+JGWiWBxRQ6M1JxCg0cuVbVxyPvGBJUIYL1VLbei/3ZUBhNhWtyqHk/cEQG+MkposmMcYPV47tWqCSQrepMMqucXoSElTrT4iKhDP7EwvcHADxymYRi85cknnx5R1EKw7nWRRQi7zfciNH7PJArbKaNcQCJauwVLJxw40en1Nj25PmLQ4EK/Tnp9aTkrCk+Eyd15YQoHBF2VSNJxJG2g5SxxUCTKLpqUDk/5nlZZW1pyS05B0SIHnoAE8FYpIkeenOUZtleWluEGpCZSZMzM13ss1KzDK/OVBsDi9p8srMEg3QXiiIVL2jk6lyjeiAqfwufBvjeWkmshKVDoeosRzs3PtkwOKIp72WjDkekuMFkHI4cxoJec3GE/w8APnTxIXkFKTxHj8NVNPFXwEPi18BdbNr9gm8ndS1osE4+fbR+wsv8WieKY7RqQAAAABJRU5ErkJggg=="},271:function(e,t,n){e.exports=n(551)},322:function(e,t){},324:function(e,t){},359:function(e,t){},360:function(e,t){},518:function(e,t,n){},55:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAWCAYAAAAinad/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAG/SURBVHgB1VRBTsJAFH3TVrcO0bC1nMByAssJ5AbKVjDiCTyCmIhxZzyBeAK4AdzAulUJk+iCCO34pgWDUKDRFZNMpjP/zZv33/wpsNFtcCq9LDgrCyiycJ8Ft5bsvSbLGvDeatL/N5kQOIpH4HItdlVwUJduOMYzP1vsvu2gkGsohb8oC0P4HBRJKmYejXGMdcqoQA6HkI4Dl2m5tsZOxJGhso7Q2WuqSv9MXiFCmce3oKG0wIvWCBhXW9sIjGJnyrrt4NEYTSDC5JTAbLIFGrEqjSdLwCfBCafS4ESSW495l36UTdUxjTYxrj1GMXengmXpTLzsEht8OigVJj6KOVBMyFOlFaKURmiIohBtKlWzRAtkC4RbVDgDXkWUZDzXzGYrQoUGu6Ov+BJ+NXrm0vRKIaVEUksjtGISlb9VPTOfVj8PCsw6L+IgbZ+TtsjyOKSC3sRo8y59PqsWL+aCN90TFszDf8ikjEQezTTedemdy+863fUiG22zbuJp+5a9AE8nvfPBS9i9UdcjGyVtoRPXIpDplxT/u5jSoF+T52nx16qsm/igKvfXKhuZPk7UpJHlm6oxclAcChSwMe0b7bPMl2jMbVsAAAAASUVORK5CYII="},551:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(84),i=n.n(o),c=n(23),u=n(59),s=n(53),l=n(3),d=n(237),m=n(25),f=n.n(m),p=n(238),h=n(7),b=n(8),g=n(11),v=n(9),O=n(10),y=n(239),E=n.n(y),j=n(26),k=n.n(j),w={login:function(e){return k.a.post("/api/auth",{credentials:e}).then(function(e){return e.data.user})},signup:function(e){return k.a.post("/api/users",{user:e}).then(function(e){return e.data.user})},confirm:function(e){return k.a.post("/api/auth/confirmation",{token:e}).then(function(e){return e.data.user})},resetPasswordRequest:function(e){return k.a.post("/api/auth/reset_password_request",{email:e})},validateToken:function(e){return k.a.post("/api/auth/validate_token",{token:e})},resetPassword:function(e){return k.a.post("/api/auth/reset_password",{data:e})},fetchCurrentUser:function(){return k.a.get("/api/users/current_user").then(function(e){return e.data.user})}},A={search:function(e){return k.a.get("/api/books/search?q=".concat(e)).then(function(e){return e.data.books})},searchByPage:function(e,t){return k.a.get("/api/books/search_by_page?q=".concat(e,"&page=").concat(t)).then(function(e){return e.data})},getBookData:function(e){return k.a.get("/api/books/fetch_book_data?goodreadsId=".concat(e)).then(function(e){return e.data.book})},fetchUserBooks:function(){return k.a.get("/api/books").then(function(e){return e.data.books})},create:function(e){return k.a.post("/api/books",{book:e}).then(function(e){return e.data.book})},delete:function(e){return k.a.post("/api/books/delete_book",{id:e}).then(function(e){return e.data.book})},deleteBookInList:function(e){return k.a.post("/api/books/delete_book",{id:e}).then(function(e){return e.data.book.goodreadsId})},addLike:function(e){return k.a.post("/api/books/add_like",{id:e}).then(function(e){return e.data.book})},deleteLike:function(e){return k.a.post("/api/books/delete_like",{id:e}).then(function(e){return e.data.book})},getTop:function(){return k.a.get("/api/books/get_top").then(function(e){return e.data.books})},updateProgress:function(e,t){return k.a.post("/api/books/save_progress",{num:e,id:t}).then(function(e){return e.data.progress})}},S="USER_LOGGED_IN",C="USER_LOGGED_OUT",x="USER_FETCHED",F="FETCH_TOP_REQUEST",P="FETCH_TOP_SUCCESS",D="FETCH_TOP_FAILURE",B="FETCH_BOOK_DATA_REQUEST",I="FETCH_BOOK_DATA_SUCCESS",L="FETCH_BOOK_DATA_FAILURE",T="FETCH_USER_BOOKS_REQUEST",R="FETCH_USER_BOOKS_SUCCESS",U="FETCH_USER_BOOKS_FAILURE",_="SEARCH_BOOKS_BY_PAGE_REQUEST",q="SEARCH_BOOKS_BY_PAGE_SUCCESS",z="SEARCH_BOOKS_BY_PAGE_FAILURE",G="CHANGE_FILTERS",K="ADD_LIKE_IN_LIST",M="ADD_BOOK_IN_LIST",N="BOOK_DELETE_IN_LIST",V="DELETE_LIKE_IN_LIST",Q="UPDATE_PROGRESS_IN_LIST",J="ADD_LIKE",X="DELETE_LIKE",Y="DELETE_BOOK",H="ADD_BOOK",W="UPDATE_PROGRESS",Z=function(e){return function(t){return A.getBookData(e).then(t({type:B}))}},$=n(21),ee=n(240);function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(n,!0).forEach(function(t){Object($.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var re={loading:!1,error:null,data:{},filter:"all"};var ae=Object(ee.a)(function(e){return e.books.data},function(e){return Object.values(e)}),oe=n(54),ie=n(1),ce=n(2);function ue(){var e=Object(ie.a)(["\n  width: 100%; \n  overflow: hidden;\n  text-overflow: ellipsis;\n  text-align: justify;\n  -webkit-line-clamp: 6;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  font-size: 0.85em;\n"]);return ue=function(){return e},e}function se(){var e=Object(ie.a)(["\n  position: absolute;\n  top: 2px;\n  padding-left: 0.4em;\n"]);return se=function(){return e},e}function le(){var e=Object(ie.a)(["\n  position: relative;\n  margin-bottom: 0.4em;\n"]);return le=function(){return e},e}function de(){var e=Object(ie.a)(["\n  margin: 0.35em 0;\n  font-size: 0.85em;\n"]);return de=function(){return e},e}function me(){var e=Object(ie.a)(["\n  margin: 0;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]);return me=function(){return e},e}function fe(){var e=Object(ie.a)(["\n  width: 340px;\n  margin: 0 45px 0 15px;\n"]);return fe=function(){return e},e}function pe(){var e=Object(ie.a)(["\n  width: 100px;\n  height: 150px;\n  margin-bottom: 0.9em;\n"]);return pe=function(){return e},e}function he(){var e=Object(ie.a)(["\n  width: 100px;\n"]);return he=function(){return e},e}function be(){var e=Object(ie.a)(["\n  width: 510px;\n  height: 230px;\n  display: flex;\n  flex-wrap: wrap;\n"]);return be=function(){return e},e}var ge=ce.a.article(be()),ve=ce.a.div(he()),Oe=ce.a.img(pe()),ye=ce.a.div(fe()),Ee=ce.a.h4(me()),je=ce.a.div(de()),ke=ce.a.div(le()),we=ce.a.span(se()),Ae=ce.a.div(ue()),Se=n(55),Ce=n.n(Se),xe=n(56),Fe=n.n(xe),Pe=function(e){var t=e.book;return a.a.createElement(ge,null,a.a.createElement(ve,null,a.a.createElement(Oe,{src:t.image_url,alt:""}),a.a.createElement(c.b,{style:{textDecoration:"none",backgroundColor:"#EC6C10",padding:"0.25em 2.7em",color:"white",fontSize:"0.8em"},to:"/books/new/".concat(t.goodreadsId)},"Open")),a.a.createElement(ye,null,a.a.createElement(Ee,null,t.title),a.a.createElement(je,null,"by ",t.authors),a.a.createElement(ke,null,a.a.createElement(oe.a,{initialRating:t.average_rating,emptySymbol:a.a.createElement("img",{src:Ce.a,alt:"star"}),fullSymbol:a.a.createElement("img",{src:Fe.a,alt:"star"}),readonly:!0}),a.a.createElement(we,null,t.average_rating)),a.a.createElement(Ae,{dangerouslySetInnerHTML:{__html:t.description}})))};function De(){var e=Object(ie.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n"]);return De=function(){return e},e}var Be=ce.a.section(De()),Ie=function(e){var t=e.books,n=e.topLikes;return a.a.createElement(r.Fragment,null,a.a.createElement("h2",null,n?"Top likes":"Top reads"),a.a.createElement(Be,null,Array.isArray(t)&&t.map(function(e){return a.a.createElement(Pe,{key:e.goodreadsId,book:e})})))},Le="1px solid ".concat("#C4C4C4"),Te="0px 2px 4px rgba(0,0,0,0.25)";function Re(){var e=Object(ie.a)(["\n   width: 100%;\n   height: 100%;\n   position: absolute;\n   top: 0;\n   left: 0;\n   overflow: auto;\n"]);return Re=function(){return e},e}function Ue(){var e=Object(ie.a)(["\n    width: 2.5em;\n    height: 2.5em;\n\n    position: absolute;\n    \n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    margin: auto;\n\n    animation: rotate 2s linear infinite;\n\n    stroke: ",";\n  \n    & .path {\n      animation: dash 1.5s ease-in-out infinite;\n      \n      stroke: hsl(210, 70, 75);\n      stroke-linecap: round;\n    }\n    \n    @keyframes rotate {\n    100% {\n      transform: rotate(360deg);\n      }\n    }\n  \n    @keyframes dash {\n      0% {\n        stroke-dasharray: 1, 150;\n        stroke-dashoffset: 0;\n      }\n      50% {\n        stroke-dasharray: 90, 150;\n        stroke-dashoffset: -35;\n      }\n      100% {\n        stroke-dasharray: 90, 150;\n        stroke-dashoffset: -124;\n      }\n    }  \n"]);return Ue=function(){return e},e}var _e=ce.a.svg(Ue(),"#414141"),qe=ce.a.div(Re()),ze=function(){return a.a.createElement(qe,null,a.a.createElement(_e,{viewBox:"0 0 50 50"},a.a.createElement("circle",{className:"path",cx:"25",cy:"25",r:"20",fill:"none",strokeWidth:"5"})))};function Ge(){var e=Object(ie.a)(["\n  text-align: center;\n  margin: 0;\n"]);return Ge=function(){return e},e}function Ke(){var e=Object(ie.a)(["\n  width: 100%;\n"]);return Ke=function(){return e},e}function Me(){var e=Object(ie.a)(["\n    width: 400px;\n    height: 300px;\n\n    position: absolute;\n    \n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    margin: auto;\n"]);return Me=function(){return e},e}var Ne=ce.a.div(Me()),Ve=ce.a.img(Ke()),Qe=ce.a.h2(Ge()),Je=n(244),Xe=n.n(Je),Ye=function(e){var t=e.title;return a.a.createElement(Ne,null,a.a.createElement(Ve,{src:Xe.a,alt:"Something went wrong"}),a.a.createElement(Qe,null,t))};function He(){var e=Object(ie.a)(["\n   margin: 3em auto;\n   width: ",";\n"]);return He=function(){return e},e}var We=ce.a.div(He(),"1024px"),Ze=function(e){function t(){return Object(h.a)(this,t),Object(g.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.getTop,n=e.getTopSuccess,r=e.getTopFailure;t().then(function(e){return n(e)}).catch(function(e){return r(e)})}},{key:"render",value:function(){var e=this.props,t=e.books,n=e.loading,r=e.error;return n?a.a.createElement(ze,null):r?a.a.createElement(Ye,{title:r}):a.a.createElement(We,null,a.a.createElement(Ie,{topLikes:!0,books:t[0]}),a.a.createElement(Ie,{topLikes:!1,books:t[1]}))}}]),t}(r.Component);var $e=Object(l.connect)(function(e){return{books:ae(e),loading:e.books.loading,error:e.books.error}},{getTop:function(){return function(e){return A.getTop().then(e({type:F}))}},getTopSuccess:function(e){return function(t){return t({type:P,data:e})}},getTopFailure:function(e){return function(t){return t(function(e){return{type:D,error:e}}(e))}}})(Ze),et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?k.a.defaults.headers.common.authorization="Bearer ".concat(e):delete k.a.defaults.headers.common.authorization};function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var nt=function(e){return{type:S,user:e}},rt=n(27),at=n.n(rt);function ot(e){for(var t={},n=0;n<e.length;n++){t[e[n].context.key]=e[n].message}return t}var it=function(e){var t=at.a.object().keys({email:at.a.string().email().required().error(function(e){var t=e[0];switch(t.type){case"any.empty":case"any.required":t.message="Email should not be empty.";break;case"string.email":t.message="Email should have @"}return t}).optional(),password:at.a.string().required().error(function(){return'"Password should not be empty.'}).optional()}),n=at.a.validate(e,t,{abortEarly:!1});return null===n.error?{}:ot(n.error.details)},ct=function(e){var t=e.text;return a.a.createElement("span",{style:{color:"#ff4040"}},t)};function ut(){var e=Object(ie.a)(["\n  width: 100%;\n   padding: 0.75em;\n   margin-top: 2em;\n   color: ",";\n   background-color: ",";\n   font-size: 1em;\n   font-weight: 600;\n   border: none;\n   cursor: pointer;\n"]);return ut=function(){return e},e}function st(){var e=Object(ie.a)(["\n  width: 90%;\n  height: 2.5em;\n  font-size: 1em;\n  padding: 0 0.8em;\n"]);return st=function(){return e},e}function lt(){var e=Object(ie.a)(["\n  margin: 2em 0;\n  text-align: center;\n"]);return lt=function(){return e},e}var dt=ce.a.div(lt()),mt=ce.a.input(st()),ft=ce.a.button(ut(),"#FFFFFF","#EC6C10");function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(n,!0).forEach(function(t){Object($.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var bt=function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).state={data:{email:"",password:""},errors:{}},n.onChange=function(e){var t=n.state.data;n.setState({data:ht({},t,Object($.a)({},e.target.name,e.target.value))})},n.onSubmit=function(e){e.preventDefault();var t=n.state.data,r=it(t);n.setState({errors:r}),0===Object.keys(r).length&&n.props.submit(t).catch(function(e){n.setState({errors:e.response.data.errors})})},n}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.state,t=e.data,n=e.errors;return a.a.createElement("form",{onSubmit:this.onSubmit},a.a.createElement(dt,null,a.a.createElement(mt,{type:"email",id:"email",name:"email",placeholder:"Enter your email",value:t.email,onChange:this.onChange}),n.email&&a.a.createElement(ct,{text:n.email})),a.a.createElement(dt,null,a.a.createElement(mt,{type:"password",id:"password",name:"password",placeholder:"Enter your password",value:t.password,onChange:this.onChange}),n.password&&a.a.createElement(ct,{text:n.password})),a.a.createElement(ft,null,"Login"))}}]),t}(r.Component);function gt(){var e=Object(ie.a)(["\n  text-align: center;\n  margin: 0.5em;\n"]);return gt=function(){return e},e}function vt(){var e=Object(ie.a)(["\n  background-color: ",";\n  color: ",";\n  margin: 1em 0;\n  padding: 0.5em;\n  text-align: center;\n"]);return vt=function(){return e},e}function Ot(){var e=Object(ie.a)(["\n   color: ",";\n   margin-bottom: 3em;\n   font-size: 1.25em;\n"]);return Ot=function(){return e},e}function yt(){var e=Object(ie.a)(["\n  width: 400px;\n  height: 430px;\n  \n  padding: 1em 2em;\n  position: absolute;\n    \n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  \n  background: #FFFFFF;\n  box-shadow: ",";\n"]);return yt=function(){return e},e}var Et=ce.a.div(yt(),Te),jt=ce.a.h2(Ot(),"#EC6C10"),kt=ce.a.div(vt(),"#414141","#FFFFFF"),wt=ce.a.div(gt()),At=function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).submit=function(e){return n.props.login(e).then(function(){return n.props.history.push("/")})},n}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return a.a.createElement(Et,null,a.a.createElement(jt,null,"Login"),a.a.createElement(bt,{submit:this.submit}),a.a.createElement(kt,null,a.a.createElement(c.b,{to:"/signup",style:{textDecoration:"none",color:"#FFFFFF",fontSize:"1em",fontWeight:"600",width:"100%",height:"100%",display:"block"}},"Sign up")),a.a.createElement(wt,null,a.a.createElement(c.b,{style:{textDecoration:"none",color:"#414141",fontSize:"0.8em"},to:"/forgot_password"},"Forgot Password?")))}}]),t}(r.Component),St=Object(l.connect)(null,{login:function(e){return function(t){return w.login(e).then(function(e){localStorage.bookwormJWT=e.token,et(e.token),t(nt(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(n,!0).forEach(function(t){Object($.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{loaded:!0})))})}}})(At);function Ct(){var e=Object(ie.a)(["\n  margin: 0.5em 0;\n"]);return Ct=function(){return e},e}function xt(){var e=Object(ie.a)(["\n  border: 1px solid #b58105;\n  background-color: #fff8db;\n  text-align: center;\n  color: #b58105;\n  margin: 1em;\n"]);return xt=function(){return e},e}var Ft=ce.a.div(xt()),Pt=ce.a.p(Ct()),Dt=function(){return a.a.createElement(Ft,null,a.a.createElement(Pt,null,"Please, verify your email to unlock awesomeness"))};function Bt(){var e=Object(ie.a)(["\n  background-color: ",";\n    width: 100%;\n    padding: 0.6em 0;\n    font-size: 0.9em;\n    margin: 0.35em 0;\n    font-weight: 600;\n    color: ",";\n    box-shadow: ",";\n"]);return Bt=function(){return e},e}var It=ce.a.button(Bt(),"#414141","#FFFFFF",Te),Lt=Object(l.connect)(null,{deleteBook:function(e){return function(t){return A.delete(e).then(function(e){t({type:Y,data:e})})}},deleteBookInList:function(e){return function(t){return A.deleteBookInList(e).then(function(e){t(function(e){return{type:N,id:e}}(e))})}}})(function(e){var t=e.id,n=e.deleteBook,r=e.deleteBookInList,o=e.inList;return a.a.createElement(It,{onClick:function(e){e.preventDefault(),(o?r(t):n(t)).then(function(){return m.toastr.success("Successful","Changes installed successfully")}).catch(function(e){return m.toastr.error("Server Error",e.response.data.error)})}},"Delete")});function Tt(){var e=Object(ie.a)(["\n  background-color: ",";\n    width: 100%;\n    padding: 0.6em 0;\n    font-size: 0.9em;\n    margin: 0.35em 0;\n    font-weight: 600;\n    color: ",";\n    box-shadow: ",";\n"]);return Tt=function(){return e},e}var Rt=ce.a.button(Tt(),"#EC6C10","#FFFFFF",Te),Ut=Object(l.connect)(null,{addLike:function(e){return function(t){return A.addLike(e).then(function(e){t({type:J,data:e})})}},deleteLike:function(e){return function(t){return A.deleteLike(e).then(function(e){t({type:X,data:e})})}},addLikeInList:function(e){return function(t){return A.addLike(e).then(function(e){t({type:K,data:e})})}},deleteLikeInList:function(e){return function(t){return A.deleteLike(e).then(function(e){t({type:V,data:e})})}}})(function(e){var t=e.id,n=e.likeStatus,r=e.addLike,o=e.deleteLike,i=e.inList,c=e.deleteLikeInList,u=e.addLikeInList;return a.a.createElement(Rt,{onClick:function(e){e.preventDefault(),i?(n?c(t):u(t)).then(function(){return m.toastr.success("Successful","Changes installed successfully")}).catch(function(e){return m.toastr.error("Server Error",e.response.data.error)}):(n?o(t):r(t)).then(function(){return m.toastr.success("Successful","Changes installed successfully")}).catch(function(e){return m.toastr.error("Server Error",e.response.data.error)})}},n?"Dislike":"Like")});function _t(){var e=Object(ie.a)(["\n  font-size: 0.8em;\n  margin-bottom: 1em;\n  text-align: center;\n"]);return _t=function(){return e},e}function qt(){var e=Object(ie.a)(["\n  width: 2.5em;\n  margin: 0.2em 0;\n"]);return qt=function(){return e},e}function zt(){var e=Object(ie.a)(["\n  width: 100%;\n"]);return zt=function(){return e},e}function Gt(){var e=Object(ie.a)(["\n  background-color: ",";\n  width: 100%;\n  padding: 0.8em 0;\n  font-size: 0.75em;\n  margin: 0.35em 0;\n  font-weight: 600;\n  color: ",";\n  box-shadow: ",";\n"]);return Gt=function(){return e},e}function Kt(){var e=Object(ie.a)(["\n    text-align: center;\n    font-size: 0.8em;\n    margin-bottom: 1.25em;\n"]);return Kt=function(){return e},e}var Mt=ce.a.div(Kt()),Nt=ce.a.button(Gt(),"#EC6C10","#FFFFFF",Te),Vt=ce.a.progress(zt()),Qt=ce.a.input(qt()),Jt=ce.a.div(_t()),Xt=function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).state={visibilityProgress:!1},n.onChange=function(e){return n.setState(Object($.a)({},e.target.name,e.target.value))},n.saveProgressClick=function(e){e.preventDefault();var t=n.props,r=t.pages,a=t.goodreadsId,o=t.updateBookProgress,i=t.inList,c=t.updateBookProgressInList,u=parseInt(n.state.readPages);isNaN(u)||u<0||u>r?m.toastr.error("Error","Invalid value"):i?c(u,a).then(function(){n.setState({visibilityProgress:!1}),m.toastr.success("Successful","Changes installed successfully")}).catch(function(e){return m.toastr.error("Server Error",e.response.data.error)}):o(u,a).then(function(){n.setState({visibilityProgress:!1}),m.toastr.success("Successful","Changes installed successfully")}).catch(function(e){return m.toastr.error("Server Error",e.response.data.error)})},n}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.pages,r=t.readPages||0;return this.state.visibilityProgress?a.a.createElement("div",null,a.a.createElement(Jt,null,a.a.createElement("span",null,"Currently on "),a.a.createElement(Qt,{type:"text",name:"readPages",id:"readPages",defaultValue:r,onChange:this.onChange}),a.a.createElement("span",null,"of ",n)),a.a.createElement(Nt,{onClick:this.saveProgressClick},"Save")):a.a.createElement("div",null,a.a.createElement(Vt,{value:r,max:n}),a.a.createElement(Mt,null,r,"/",n),a.a.createElement(Nt,{onClick:function(){return e.setState({visibilityProgress:!0})}},"Update progress"))}}]),t}(r.Component),Yt=Object(l.connect)(null,{updateBookProgress:function(e,t){return function(n){return A.updateProgress(e,t).then(function(e){n({type:W,data:e})})}},updateBookProgressInList:function(e,t){return function(n){return A.updateProgress(e,t).then(function(e){n({type:Q,data:e})})}}})(Xt);function Ht(){var e=Object(ie.a)(["\n  margin-top: 0.85em;\n"]);return Ht=function(){return e},e}function Wt(){var e=Object(ie.a)(["\n  margin-rigth: 25px;\n  width: 120px;\n  text-align: center\n"]);return Wt=function(){return e},e}function Zt(){var e=Object(ie.a)(["\n  width: 40%;\n"]);return Zt=function(){return e},e}function $t(){var e=Object(ie.a)(["\n  text-align: center;\n  margin-top: 1.75em;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return $t=function(){return e},e}function en(){var e=Object(ie.a)(["\n  position: absolute;\n  top: 2px;\n  padding-left: 0.4em;\n"]);return en=function(){return e},e}function tn(){var e=Object(ie.a)(["\n  position: relative;\n  margin-bottom: 0.4em;\n"]);return tn=function(){return e},e}function nn(){var e=Object(ie.a)(["\n  margin: 0.35em 0;\n  font-size: 0.85em;\n"]);return nn=function(){return e},e}function rn(){var e=Object(ie.a)(["\n  margin: 0;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]);return rn=function(){return e},e}function an(){var e=Object(ie.a)(["\n  width: 220px;\n  margin: 0 15px;\n"]);return an=function(){return e},e}function on(){var e=Object(ie.a)(["\n  width: 100px;\n  height: 150px;\n  margin-bottom: 0.9em;\n"]);return on=function(){return e},e}function cn(){var e=Object(ie.a)(["\n  width: 100px;\n"]);return cn=function(){return e},e}function un(){var e=Object(ie.a)(["\n  width: 510px;\n  height: 230px;\n  display: flex;\n  flex-wrap: wrap;\n"]);return un=function(){return e},e}var sn=ce.a.article(un()),ln=ce.a.div(cn()),dn=ce.a.img(on()),mn=ce.a.div(an()),fn=ce.a.h4(rn()),pn=ce.a.div(nn()),hn=ce.a.div(tn()),bn=ce.a.span(en()),gn=ce.a.div($t()),vn=ce.a.div(Zt()),On=ce.a.div(Wt()),yn=ce.a.h5(Ht());function En(){var e=Object(ie.a)(["\n  background-color: ",";\n  width: 100%;\n  padding: 0.6em 0;\n  font-size: 0.9em;\n  margin: 0.35em 0;\n  font-weight: 600;\n  color: ",";\n  box-shadow: ",";\n"]);return En=function(){return e},e}var jn=ce.a.button(En(),"#EC6C10","#FFFFFF",Te),kn=Object(l.connect)(null,{readBook:function(e){return function(t){return A.create(e).then(function(e){t(function(e){return{type:H,data:e}}(e))})}},readBookInList:function(e){return function(t){return A.create(e).then(function(e){t(function(e){return{type:M,data:e}}({goodreadsId:e.goodreadsId,readStatus:e.readStatus}))})}}})(function(e){var t=e.book,n=e.readBook,r=e.readBookInList,o=e.inList;return a.a.createElement(jn,{onClick:function(e){e.preventDefault(),(o?r(t):n(t)).then(function(){return m.toastr.success("Successful","Changes installed successfully")}).catch(function(e){return m.toastr.error("Server Error",e.response.data.error)})}},"Read")}),wn=function(e){function t(){return Object(h.a)(this,t),Object(g.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.props.book;return a.a.createElement(sn,null,a.a.createElement(ln,null,a.a.createElement(dn,{src:e.image_url,alt:"Cover"})),a.a.createElement(mn,null,a.a.createElement(fn,null,e.title),a.a.createElement(pn,null,e.authors),a.a.createElement(hn,null,a.a.createElement(oe.a,{initialRating:e.average_rating,emptySymbol:a.a.createElement("img",{src:Ce.a,alt:"star"}),fullSymbol:a.a.createElement("img",{src:Fe.a,alt:"star"}),readonly:!0}),a.a.createElement(bn,null,e.average_rating)),a.a.createElement(gn,null,a.a.createElement(vn,null,e.readStatus?a.a.createElement(Lt,{id:e.goodreadsId,inList:!0}):a.a.createElement(kn,{book:e,inList:!0})),a.a.createElement(vn,null,a.a.createElement(Ut,{id:e.goodreadsId,likeStatus:e.likeStatus,inList:!0})))),a.a.createElement(On,null,a.a.createElement(yn,null,"Your progress"),a.a.createElement(Yt,{pages:e.pages,readPages:e.readPages,goodreadsId:e.goodreadsId,inList:!0})))}}]),t}(r.Component);function An(){var e=Object(ie.a)(["\n  margin: 3em auto 0 auto;\n  width: ",";\n  display: flex;\n  flex-wrap: wrap;\n"]);return An=function(){return e},e}var Sn=ce.a.section(An(),"1024px"),Cn=function(e){var t=e.books;return a.a.createElement(Sn,null,t&&t.map(function(e){return a.a.createElement(wn,{book:e,key:e._id})}))},xn=function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).filterBooks=function(e,t){switch(t){case"read":return e.filter(function(e){return!e.likeStatus});case"like":return e.filter(function(e){return e.likeStatus});default:return e}},n}return Object(O.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.getUserBooks,n=e.getUserBooksSuccess,r=e.getUserBooksFailure;t().then(function(e){return n(e)}).catch(function(e){return r(e)})}},{key:"render",value:function(){var e=this.props,t=e.isConfirmed,n=e.books,r=e.loading,o=e.filter,i=e.changeFilters,c=this.filterBooks(n,o);return r?a.a.createElement(ze,null):a.a.createElement("div",null,!t&&a.a.createElement(Dt,null),a.a.createElement("h2",null,"My books"),[{text:"All",id:"all"},{text:"Read",id:"read"},{text:"Like",id:"like"}].map(function(e){return a.a.createElement("button",{key:e.id,onClick:function(){return i(e.id)}},e.text)}),0===n.length?a.a.createElement("h3",null,"No books("):a.a.createElement(Cn,{books:c}))}}]),t}(r.Component);var Fn=Object(l.connect)(function(e){return{books:ae(e),loading:e.books.loading,error:e.books.error,filter:e.books.filter,isConfirmed:!!e.user.confirmed}},{getUserBooks:function(){return function(e){return A.fetchUserBooks().then(e({type:T}))}},getUserBooksSuccess:function(e){return function(t){return t({type:R,data:e})}},getUserBooksFailure:function(e){return function(t){return t(function(e){return{type:U,error:e}}(e))}},changeFilters:function(e){return function(t){return t(function(e){return{type:G,filter:e}}(e))}}})(xn),Pn=function(e){return{type:x,user:e}},Dn=function(){return function(e){return w.fetchCurrentUser().then(function(t){return e(Pn(t))})}},Bn=function(e){var t=at.a.object().keys({username:at.a.string().min(4).max(20).regex(/^[a-zA-Z0-9.-]+$/).required().error(function(e){var t=e[0];switch(t.type){case"any.empty":case"any.required":t.message="The username should not be empty.";break;case"string.min":t.message="The username should have at least ".concat(t.context.limit," characters");break;case"string.regex.base":t.message="The username may contain letters or numbers.";break;case"string.max":t.message="The username should have at most ".concat(t.context.limit," characters")}return t}),email:at.a.string().email().min(16).max(40).required().error(function(e){var t=e[0];switch(t.type){case"any.empty":case"any.required":t.message="Email should not be empty.";break;case"string.email":t.message="Email should have @";break;case"string.min":t.message="Email should have at least ".concat(t.context.limit," characters");break;case"string.max":t.message="Email should have at most ".concat(t.context.limit," characters")}return t}).optional(),password:at.a.string().min(6).max(20).required().error(function(e){var t=e[0];switch(t.type){case"any.empty":case"any.required":t.message="Password should not be empty.";break;case"string.min":t.message="Password should have at least ".concat(t.context.limit," characters");break;case"string.max":t.message="Password should have at most ".concat(t.context.limit," characters")}return t}).optional()}),n=at.a.validate(e,t,{abortEarly:!1});return null===n.error?{}:ot(n.error.details)};function In(){var e=Object(ie.a)(["\n   width: 100%;\n   padding: 0.75em;\n   margin-top: 2em;\n   color: ",";\n   background-color: ",";\n   font-size: 1em;\n   font-weight: 600;\n   border: none;\n   cursor: pointer;\n"]);return In=function(){return e},e}function Ln(){var e=Object(ie.a)(["\n  width: 90%;\n  height: 2.5em;\n  font-size: 1em;\n  padding: 0 0.8em;\n"]);return Ln=function(){return e},e}function Tn(){var e=Object(ie.a)(["\n  margin: 1em 0;\n  text-align: center;\n"]);return Tn=function(){return e},e}function Rn(){var e=Object(ie.a)(["\n  display: flex;\n  flex-direction: column;\n  align-content: space-around;\n"]);return Rn=function(){return e},e}var Un=ce.a.form(Rn()),_n=ce.a.div(Tn()),qn=ce.a.input(Ln()),zn=ce.a.button(In(),"#FFFFFF","#EC6C10");function Gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gn(n,!0).forEach(function(t){Object($.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gn(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Mn=function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).state={data:{username:"",email:"",password:""},loading:!1,errors:{}},n.onSubmit=function(e){e.preventDefault();var t=n.state.data,r=Bn(t);0===Object.keys(r).length&&(n.setState({loading:!0}),n.props.submit(t).catch(function(e){n.setState({errors:e.response.data.errors,loading:!1})})),n.setState({errors:r})},n.onChange=function(e){var t=n.state.data;n.setState({data:Kn({},t,Object($.a)({},e.target.name,e.target.value))})},n}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.state,t=e.data,n=e.errors;return a.a.createElement(Un,{onSubmit:this.onSubmit},a.a.createElement(_n,null,a.a.createElement(qn,{type:"text",id:"username",name:"username",placeholder:"Enter your username",value:t.username,onChange:this.onChange}),n.username&&a.a.createElement(ct,{text:n.username})),a.a.createElement(_n,null,a.a.createElement(qn,{type:"text",id:"email",name:"email",placeholder:"Enter your email",value:t.email,onChange:this.onChange}),n.email&&a.a.createElement(ct,{text:n.email})),a.a.createElement(_n,null,a.a.createElement(qn,{type:"password",id:"password",name:"password",placeholder:"Enter your password",value:t.password,onChange:this.onChange}),n.password&&a.a.createElement(ct,{text:n.password})),a.a.createElement(zn,null,"Sign up"))}}]),t}(r.Component);function Nn(){var e=Object(ie.a)(["\n  background-color: ",";\n  color: ",";\n  margin: 1em 0;\n  padding: 0.5em;\n  text-align: center;\n"]);return Nn=function(){return e},e}function Vn(){var e=Object(ie.a)(["\n   color: ",";\n   margin-bottom: 1.5em;\n   font-size: 1.25em;\n"]);return Vn=function(){return e},e}function Qn(){var e=Object(ie.a)(["\n  width: 400px;\n  height: 500px;\n  \n  padding: 1em 2em;\n  position: absolute;\n    \n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  \n  background: #FFFFFF;\n  box-shadow: ",";\n"]);return Qn=function(){return e},e}var Jn=ce.a.div(Qn(),Te),Xn=ce.a.h2(Vn(),"#EC6C10"),Yn=ce.a.div(Nn(),"#414141","#FFFFFF"),Hn=function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).submit=function(e){return n.props.signup(e).then(function(){n.props.history.push("/")})},n}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return a.a.createElement(Jn,null,a.a.createElement(Xn,null,"Sing up"),a.a.createElement(Mn,{submit:this.submit}),a.a.createElement(Yn,null,a.a.createElement(c.b,{to:"/login",style:{textDecoration:"none",color:"#FFFFFF",fontSize:"1em",fontWeight:"600",width:"100%",height:"100%",display:"block"}},"Login")))}}]),t}(r.Component),Wn=Object(l.connect)(null,{signup:function(e){return function(t){return w.signup(e).then(function(e){localStorage.bookwormJWT=e.token,t(nt(e))})}}})(Hn);function Zn(){var e=Object(ie.a)(["\n  margin: 0.5em 0;\n"]);return Zn=function(){return e},e}function $n(){var e=Object(ie.a)(["\n  border: 1px solid #b58105;\n  background-color: #fff8db;\n  text-align: center;\n  color: #b58105;\n  margin: 1em;\n"]);return $n=function(){return e},e}function er(){var e=Object(ie.a)(["\n  border: 1px solid #e0b4b4;\n  background-color: #fff6f6;\n  text-align: center;\n  color: #a95857;\n  margin: 1em;\n"]);return er=function(){return e},e}function tr(){var e=Object(ie.a)(["\n  border: 1px solid #a3c293;\n  background-color: #fcfff5;\n  text-align: center;\n  color: #366836;\n  margin: 1em;\n"]);return tr=function(){return e},e}var nr=ce.a.div(tr()),rr=ce.a.div(er()),ar=ce.a.div($n()),or=ce.a.p(Zn()),ir=function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).state={loading:!0,success:!1},n}return Object(O.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.confirm(this.props.match.params.token).then(function(){e.setState({loading:!1,success:!0})}).catch(function(){e.setState({loading:!1,success:!1})})}},{key:"render",value:function(){var e=this.state,t=e.loading,n=e.success;return a.a.createElement("div",null,t&&a.a.createElement(ar,null,a.a.createElement(or,null,"Validation your email...")),!t&&n&&a.a.createElement(nr,null,a.a.createElement(or,null,"Thank you. Your account has been verified")),!t&&!n&&a.a.createElement(rr,null,a.a.createElement(or,null,"Ooops. Invalid token it seems.")))}}]),t}(r.Component),cr=Object(l.connect)(null,{confirm:function(e){return function(t){return w.confirm(e).then(function(e){localStorage.bookwormJWT=e.token,t(nt(e))})}}})(ir),ur=n(556),sr=function(e){var t=at.a.object().keys({email:at.a.string().email().min(16).max(40).required().error(function(e){var t=e[0];switch(t.type){case"any.empty":case"any.required":t.message="Email should not be empty.";break;case"string.email":t.message="Email should have @";break;case"string.min":t.message="Email should have at least ".concat(t.context.limit," characters");break;case"string.max":t.message="Email should have at most ".concat(t.context.limit," characters")}return t}).optional()}),n=at.a.validate(e,t,{abortEarly:!1});return null===n.error?{}:ot(n.error.details)};function lr(){var e=Object(ie.a)(["\n  width: 100%;\n   padding: 0.75em;\n   margin: 1.5em 0;\n   color: ",";\n   background-color: ",";\n   font-size: 1em;\n   font-weight: 600;\n   border: none;\n   cursor: pointer;\n"]);return lr=function(){return e},e}function dr(){var e=Object(ie.a)(["\n  width: 90%;\n  height: 2.5em;\n  font-size: 1em;\n  padding: 0 0.8em;\n"]);return dr=function(){return e},e}function mr(){var e=Object(ie.a)(["\n  margin: 2em 0;\n  text-align: center;\n"]);return mr=function(){return e},e}var fr=ce.a.div(mr()),pr=ce.a.input(dr()),hr=ce.a.button(lr(),"#FFFFFF","#EC6C10");function br(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function gr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?br(n,!0).forEach(function(t){Object($.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):br(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var vr=function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).state={data:{email:""},loading:!1,errors:{}},n.onSubmit=function(e){e.preventDefault();var t=n.state.data,r=sr(t);n.setState({errors:r}),0===Object.keys(r).length&&(n.setState({loading:!0}),n.props.submit(t).catch(function(e){n.setState({errors:e.response.data.errors,loading:!1})}))},n.onChange=function(e){var t=n.state.data;n.setState({data:gr({},t,Object($.a)({},e.target.name,e.target.value))})},n}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.state,t=e.data,n=e.errors;return a.a.createElement("form",{onSubmit:this.onSubmit},a.a.createElement(fr,{error:!!n.email},a.a.createElement(pr,{type:"text",id:"email",name:"email",placeholder:"Enter your email",value:t.email,onChange:this.onChange}),n.email&&a.a.createElement(ct,{text:n.email})),a.a.createElement(hr,null,"Continue"))}}]),t}(r.Component);function Or(){var e=Object(ie.a)(["\n   color: ",";\n   margin-bottom: 3em;\n   font-size: 1.25em;\n"]);return Or=function(){return e},e}function yr(){var e=Object(ie.a)(["\n  width: 400px;\n  height: 275px;\n  \n  padding: 1em 2em;\n  position: absolute;\n    \n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  \n  background: #FFFFFF;\n  box-shadow: ",";\n"]);return yr=function(){return e},e}var Er=ce.a.div(yr(),Te),jr=ce.a.h2(Or(),"#EC6C10"),kr=function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).state={success:!1},n.submit=function(e){return n.props.resetPasswordRequest(e).then(function(){n.setState({success:!0})})},n}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return a.a.createElement(Er,null,this.state.success?a.a.createElement(ur.a,null,"Email has been sent."):a.a.createElement(a.a.Fragment,null,a.a.createElement(jr,null,"Forgot password"),a.a.createElement(vr,{submit:this.submit})))}}]),t}(r.Component),wr=Object(l.connect)(null,{resetPasswordRequest:function(e){var t=e.email;return function(){return w.resetPasswordRequest(t)}}})(kr),Ar=function(e){var t=at.a.object().keys({password:at.a.string().min(6).max(20).required().error(function(e){var t=e[0];switch(t.type){case"any.empty":case"any.required":t.message="Password should not be empty.";break;case"string.min":t.message="Password should have at least ".concat(t.context.limit," characters");break;case"string.max":t.message="Password should have at most ".concat(t.context.limit," characters")}return t}).optional(),passwordConfirmation:at.a.string().min(6).max(20).required().error(function(e){var t=e[0];switch(t.type){case"any.empty":case"any.required":t.message="Password should not be empty.";break;case"string.min":t.message="Password should have at least ".concat(t.context.limit," characters");break;case"string.max":t.message="Password should have at most ".concat(t.context.limit," characters")}return t}).optional()}),n=at.a.validate(e,t,{abortEarly:!1,allowUnknown:!0});return null===n.error?{}:ot(n.error.details)};function Sr(){var e=Object(ie.a)(["\n  width: 100%;\n   padding: 0.75em;\n   margin: 1.5em 0;\n   color: ",";\n   background-color: ",";\n   font-size: 1em;\n   font-weight: 600;\n   border: none;\n   cursor: pointer;\n"]);return Sr=function(){return e},e}function Cr(){var e=Object(ie.a)(["\n  width: 90%;\n  height: 2.5em;\n  font-size: 1em;\n  padding: 0 0.8em;\n"]);return Cr=function(){return e},e}function xr(){var e=Object(ie.a)(["\n  margin: 2em 0;\n  text-align: center;\n"]);return xr=function(){return e},e}function Fr(){var e=Object(ie.a)(["\n   color: ",";\n   margin-bottom: 3em;\n   font-size: 1.25em;\n"]);return Fr=function(){return e},e}function Pr(){var e=Object(ie.a)(["\n  width: 400px;\n  height: 330px;\n  \n  padding: 1em 2em;\n  position: absolute;\n    \n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  \n  background: #FFFFFF;\n  box-shadow: ",";\n"]);return Pr=function(){return e},e}var Dr=ce.a.form(Pr(),Te),Br=ce.a.h2(Fr(),"#EC6C10"),Ir=ce.a.div(xr()),Lr=ce.a.input(Cr()),Tr=ce.a.button(Sr(),"#FFFFFF","#EC6C10");function Rr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ur(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rr(n,!0).forEach(function(t){Object($.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rr(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var _r=function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).state={data:{token:n.props.token,password:"",passwordConfirmation:""},errors:{}},n.onSubmit=function(e){e.preventDefault();var t=n.state.data,r=Ar(t);t.password!==t.passwordConfirmation&&(r.passwordConfirmation="Password must match"),n.setState({errors:r}),0===Object.keys(r).length&&n.props.submit(t).catch(function(e){n.setState({errors:e.response.data.errors})})},n.onChange=function(e){var t=n.state.data;n.setState({data:Ur({},t,Object($.a)({},e.target.name,e.target.value))})},n}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.state,t=e.data,n=e.errors;return a.a.createElement(Dr,{onSubmit:this.onSubmit},a.a.createElement(Br,null," Reset password "),a.a.createElement(Ir,null,a.a.createElement(Lr,{type:"password",id:"password",name:"password",placeholder:"Your new password",value:t.password,onChange:this.onChange}),n.password&&a.a.createElement(ct,{text:n.password})),a.a.createElement(Ir,null,a.a.createElement(Lr,{type:"password",id:"passwordConfirmation",name:"passwordConfirmation",placeholder:"Type it again, please",value:t.passwordConfirmation,onChange:this.onChange}),n.passwordConfirmation&&a.a.createElement(ct,{text:n.passwordConfirmation})),a.a.createElement(Tr,null,"Reset"))}}]),t}(r.Component),qr=function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).state={loading:!0,success:!1},n.submit=function(e){return n.props.resetPassword(e).then(function(){n.props.history.push("/login")})},n}return Object(O.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.validateToken(this.props.match.params.token).then(function(){return e.setState({loading:!1,success:!0})}).catch(function(){return e.setState({loading:!1,success:!1})})}},{key:"render",value:function(){var e=this.state,t=e.loading,n=e.success,r=this.props.match.params.token;return a.a.createElement("div",null,t&&a.a.createElement(ur.a,null,"Loading"),!t&&n&&a.a.createElement(_r,{submit:this.submit,token:r}),!t&&!n&&a.a.createElement(ur.a,null,"Invalid Token"))}}]),t}(r.Component),zr=Object(l.connect)(null,{validateToken:function(e){return function(){return w.validateToken(e)}},resetPassword:function(e){return function(){return w.resetPassword(e)}}})(qr),Gr=n(106);var Kr=Object(l.connect)(function(e){return{isAuthenticated:!!e.user.email}})(function(e){var t=e.isAuthenticated,n=e.component,r=Object(Gr.a)(e,["isAuthenticated","component"]);return a.a.createElement(u.b,Object.assign({},r,{render:function(e){return t?a.a.createElement(n,e):a.a.createElement(u.a,{to:"/"})}}))});var Mr=Object(l.connect)(function(e){return{isAuthenticated:!!e.user.email}})(function(e){var t=e.isAuthenticated,n=e.component,r=Object(Gr.a)(e,["isAuthenticated","component"]);return a.a.createElement(u.b,Object.assign({},r,{render:function(e){return t?a.a.createElement(u.a,{to:"/"}):a.a.createElement(n,e)}}))}),Nr=n(252),Vr=n.n(Nr);function Qr(){var e=Object(ie.a)(["\n    width: 1.25em;\n    height: 1.5em;\n\n    animation: rotate 2s linear infinite;\n\n    stroke: ",";\n  \n    & .path {\n      animation: dash 1.5s ease-in-out infinite;\n      \n      stroke: hsl(210, 70, 75);\n      stroke-linecap: round;\n    }\n    \n    @keyframes rotate {\n    100% {\n      transform: rotate(360deg);\n      }\n    }\n  \n    @keyframes dash {\n      0% {\n        stroke-dasharray: 1, 150;\n        stroke-dashoffset: 0;\n      }\n      50% {\n        stroke-dasharray: 90, 150;\n        stroke-dashoffset: -35;\n      }\n      100% {\n        stroke-dasharray: 90, 150;\n        stroke-dashoffset: -124;\n      }\n    }  \n"]);return Qr=function(){return e},e}function Jr(){var e=Object(ie.a)(["\n    position: absolute;\n\n    padding: .17em;\n\n    vertical-align: middle;\n\n    border: ",";\n    border-left: none;\n"]);return Jr=function(){return e},e}function Xr(){var e=Object(ie.a)(["\n    position: absolute;\n\n    display: inline;\n\n    width: 1.7em;\n    height: 1.5em;\n    padding: .1em 0;\n\n    text-align: center;\n\n    border: ",";\n    border-left: none;\n"]);return Xr=function(){return e},e}var Yr=ce.a.div(Xr(),Le),Hr=ce.a.img(Jr(),Le),Wr=ce.a.svg(Qr(),"#C4C4C4"),Zr=function(e){return e.loading?a.a.createElement(Yr,null,a.a.createElement(Wr,{viewBox:"0 0 50 50"},a.a.createElement("circle",{className:"path",cx:"25",cy:"25",r:"20",fill:"none",strokeWidth:"5"}))):a.a.createElement(Hr,{src:Vr.a,alt:"Search"})};function $r(){var e=Object(ie.a)(["\n    font-size: .85em;\n    font-weight: normal;\n\n    overflow: hidden;\n\n    white-space: nowrap;\n    text-overflow: ellipsis;\n\n    color: ",";\n"]);return $r=function(){return e},e}function ea(){var e=Object(ie.a)(["\n    font-size: .95em;\n    font-weight: bold;\n\n    overflow: hidden;\n\n    white-space: nowrap;\n    text-overflow: ellipsis;\n\n    color: ",";\n"]);return ea=function(){return e},e}function ta(){var e=Object(ie.a)(["\n  width: 16em;\n"]);return ta=function(){return e},e}function na(){var e=Object(ie.a)(["\n  width: 2.5em;\n  height: 100%;\n  padding: 0 .5em; \n"]);return na=function(){return e},e}function ra(){var e=Object(ie.a)(["\n    display: flex;\n\n    height: 3.5em;\n\n    border: ",";\n    border-top: none;\n\n    align-items: center;\n"]);return ra=function(){return e},e}var aa=ce.a.div(ra(),Le),oa=ce.a.img(na()),ia=ce.a.div(ta()),ca=ce.a.div(ea(),"#414141"),ua=ce.a.div($r(),"#414141"),sa=function(e){var t=e.book;return a.a.createElement(c.b,{style:{textDecoration:"none"},to:{pathname:"/books/new/".concat(t.goodreadsId)}},a.a.createElement(aa,null,a.a.createElement(oa,{src:t.image_url,alt:"".concat(t.title," cover")}),a.a.createElement(ia,null,a.a.createElement(ca,null,t.title),a.a.createElement(ua,null,"by ",t.authors))))};function la(){var e=Object(ie.a)(["\n    font-size: .9em;\n    font-weight: bold;\n    \n    padding: .5em;\n\n    text-align: center;\n\n    border: ",";\n    border-top: none;\n    \n    color: ",";\n"]);return la=function(){return e},e}function da(){var e=Object(ie.a)(["\n    position: absolute;\n    z-index: 10;\n    top: 2.5em;\n\n    width: 21em;\n\n    background-color: white;\n    box-shadow: 0 .1em .2em rgba(0,0,0,.15);\n"]);return da=function(){return e},e}var ma=ce.a.div(da()),fa=ce.a.div(la(),Le,"#414141"),pa=Object(l.connect)(null,{getBookData:Z})(function(e){var t=e.books,n=e.query,r=e.visibility,o=Array.isArray(t)&&t.map(function(e){return a.a.createElement(sa,{key:e.goodreadsId,book:e})}),i="string"===typeof t&&a.a.createElement(fa,null,t),u=Array.isArray(t)&&n&&a.a.createElement(c.b,{style:{textDecoration:"none"},to:{pathname:"/search",search:"?q=".concat(n,"&page=1")}},a.a.createElement(fa,null,'Show all results for "',n,'"'));return r?a.a.createElement(ma,null,o,u,i):null});function ha(){var e=Object(ie.a)(["\n    font-size: .85em;\n\n    width: 22em;\n    height: 2em;\n    padding: 0 .25em;\n\n    color: ",";\n    border: ",";\n    border-right: 0;\n    outline: none;\n    background: ",";\n\n  &::-webkit-input-placeholder {\n    color: ",";\n  }\n"]);return ha=function(){return e},e}function ba(){var e=Object(ie.a)(["\n    font-weight: normal;\n    font-style: normal;\n\n    margin-left: 2%;\n\n    color: ",";\n\n    flex-grow: 2;\n"]);return ba=function(){return e},e}var ga=ce.a.div(ba(),"#C4C4C4"),va=ce.a.input(ha(),"#C4C4C4",Le,"#414141","#C4C4C4"),Oa=function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(o)))).state={query:"",loading:!1,books:[],visibilityDropdownList:!1},n.myRef=a.a.createRef(),n.handleChange=function(e){var t;clearTimeout(n.timer),n.setState((t={},Object($.a)(t,e.target.id,e.target.value),Object($.a)(t,"visibilityDropdownList",!1),t)),n.timer=setTimeout(n.fetchOptions,500)},n.fetchOptions=function(){var e=n.state.query;e&&(n.setState({loading:!0}),e&&n.props.search(e).then(function(e){var t;if(Array.isArray(e)){t=[];for(var r=e.length>5?5:e.length,a=0;a<r;a++)t.push(e[a])}else t=e;n.setState({books:t,loading:!1,visibilityDropdownList:!0})}))},n.handleClickOutside=function(e){n.myRef.current.contains(e.target)||n.setState({visibilityDropdownList:!1})},n.handleClickInside=function(){return n.setState({visibilityDropdownList:!1})},n}return Object(O.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"render",value:function(){var e=this.state,t=e.books,n=e.loading,r=e.query,o=e.visibilityDropdownList;return a.a.createElement(ga,{ref:this.myRef,onClick:this.handleClickInside},a.a.createElement(va,{id:"query",type:"text",placeholder:"Search books",onChange:this.handleChange}),a.a.createElement(Zr,{loading:n}),a.a.createElement(pa,{books:t,query:r,visibility:o}))}}]),t}(r.Component),ya=Object(l.connect)(null,{search:function(e){return function(){return A.search(e)}}})(Oa);function Ea(){var e=Object(ie.a)(["\n    background-color: #414141;\n    border: none;\n    color: white;\n    font-size: 1.1em;\n"]);return Ea=function(){return e},e}function ja(){var e=Object(ie.a)(["\n  margin: 0.5em 0;\n"]);return ja=function(){return e},e}function ka(){var e=Object(ie.a)(["\n    position: absolute;\n    font-size: 0.85em;\n    padding: 0.25em 0.75em;\n    text-align: center;\n    z-index: 10;\n    top: 3.25em;\n    right: 5em;\n    background-color: #414141;\n    box-shadow: 0 0.1em 0.2em rgba(0,0,0,.15)\n"]);return ka=function(){return e},e}var wa=ce.a.div(ka()),Aa=ce.a.div(ja()),Sa=ce.a.button(Ea()),Ca=Object(l.connect)(null,{logout:function(){return function(e){localStorage.removeItem("bookwormJWT"),et(),e({type:C})}}})(function(e){var t=e.visibility,n=e.logout;return t?a.a.createElement(wa,null,a.a.createElement(Aa,null,a.a.createElement(c.b,{style:{textDecoration:"none",color:"white",fontSize:"1.1em"},to:"/dashboard"},"My Books")),a.a.createElement(Aa,null,a.a.createElement(Sa,{onClick:function(){return n()}},"Logout"))):null}),xa=n(253),Fa=n.n(xa);function Pa(){var e=Object(ie.a)(["\n  margin: 0 0.8em;\n"]);return Pa=function(){return e},e}function Da(){var e=Object(ie.a)(["\n  height: 50px;\n  \n  display: flex;\n  padding: 0 5%;\n  align-items: center;\n  position: relative;\n  \n  background: ",";\n"]);return Da=function(){return e},e}var Ba=ce.a.header(Da(),"#414141"),Ia=ce.a.img(Pa()),La=function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(o)))).state={visibilityDropdownList:!1},n.myRef=a.a.createRef(),n.handleClickOutside=function(e){n.myRef.current.contains(e.target)||n.setState({visibilityDropdownList:!1})},n.handleClickInside=function(){return n.setState({visibilityDropdownList:!0})},n}return Object(O.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"render",value:function(){var e=this.state.visibilityDropdownList;return a.a.createElement("div",{ref:this.myRef,onClick:this.handleClickInside},a.a.createElement(Ia,{src:Fa.a,alt:"User menu"}),a.a.createElement(Ca,{visibility:e}))}}]),t}(r.Component),Ta=n(254),Ra=n.n(Ta);var Ua=Object(l.connect)(function(e){return{user:e.user,isAuthenticated:!!e.user.email}})(function(e){var t=e.isAuthenticated;return a.a.createElement(Ba,null,a.a.createElement(c.b,{to:"/"},a.a.createElement(Ia,{src:Ra.a,alt:"Go to main page"})),a.a.createElement(ya,null),t?a.a.createElement(La,null):a.a.createElement(c.b,{style:{textDecoration:"none",color:"#FFFFFF",fontSize:"1.1em"},to:"/login"},"Login"))});function _a(){var e=Object(ie.a)(["\n  text-align: center;\n  margin-top: 0;\n  margin-bottom: 1em;\n"]);return _a=function(){return e},e}function qa(){var e=Object(ie.a)(["\n  width: 10em;\n"]);return qa=function(){return e},e}function za(){var e=Object(ie.a)(["\n  padding-top: 1.25em;\n  font-size: 0.8em;\n"]);return za=function(){return e},e}function Ga(){var e=Object(ie.a)(["\n  text-align: justify;\n  padding-bottom: 1.25em;\n  border-bottom: 1px solid ",";\n"]);return Ga=function(){return e},e}function Ka(){var e=Object(ie.a)(["\n  position: absolute;\n  top: 2px;\n  padding-left: 0.4em;\n"]);return Ka=function(){return e},e}function Ma(){var e=Object(ie.a)(["\n  position: relative;\n  margin-bottom: 1.5em;\n"]);return Ma=function(){return e},e}function Na(){var e=Object(ie.a)(["\n  font-size: 1.25em;\n  margin-bottom: 0.25em;\n"]);return Na=function(){return e},e}function Va(){var e=Object(ie.a)(["\n  margin-top: 0;\n  margin-bottom: 0.25em;\n  font-size: 1.4em;\n"]);return Va=function(){return e},e}function Qa(){var e=Object(ie.a)(["\n  margin: 0 1.25em;\n  width: 41em;\n"]);return Qa=function(){return e},e}function Ja(){var e=Object(ie.a)(["\n  width: 160px;\n  height: 220px;\n"]);return Ja=function(){return e},e}function Xa(){var e=Object(ie.a)(["\n  text-align: center;\n  width: 10em;\n"]);return Xa=function(){return e},e}function Ya(){var e=Object(ie.a)(["\n  margin: 3em auto;\n  width: ",";\n  display: flex;\n  flex-wrap: wrap;\n"]);return Ya=function(){return e},e}var Ha=ce.a.div(Ya(),"1024px"),Wa=ce.a.div(Xa()),Za=ce.a.img(Ja()),$a=ce.a.div(Qa()),eo=ce.a.h2(Va()),to=ce.a.div(Na()),no=ce.a.div(Ma()),ro=ce.a.span(Ka()),ao=ce.a.div(Ga(),"#C4C4C4"),oo=ce.a.div(za()),io=ce.a.div(qa()),co=ce.a.h4(_a()),uo=function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).fetchBook=function(){var e=n.props.match.params.id,t=n.props,r=t.getBookData,a=t.getBookDataSuccess,o=t.getBookDataFailure;r(e).then(function(e){return a(e)}).catch(function(e){return o(e)})},n.createDescription=function(){return{__html:n.props.book.description}},n}return Object(O.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){this.fetchBook()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.id!==e.match.params.id&&this.fetchBook()}},{key:"render",value:function(){var e=this.props,t=e.book,n=e.loading,r=e.error,o=e.confirmed;return n?a.a.createElement(ze,null):r?a.a.createElement(Ye,{title:r}):a.a.createElement(Ha,null,a.a.createElement(Wa,null,a.a.createElement(Za,{src:t.image_url,alt:"".concat(t.title," cover")}),o&&a.a.createElement("div",null,t.readStatus?a.a.createElement(Lt,{id:t.goodreadsId,inList:!1}):a.a.createElement(kn,{book:t,inList:!1})),o&&a.a.createElement("div",null,a.a.createElement(Ut,{id:t.goodreadsId,likeStatus:t.likeStatus,inList:!1}))),a.a.createElement($a,null,a.a.createElement(eo,null,t.title),a.a.createElement(to,null,"by ",t.authors),a.a.createElement(no,null,a.a.createElement(oe.a,{initialRating:t.average_rating,emptySymbol:a.a.createElement("img",{src:Ce.a,alt:"star"}),fullSymbol:a.a.createElement("img",{src:Fe.a,alt:"star"}),readonly:!0}),a.a.createElement(ro,null,t.average_rating)),a.a.createElement(ao,{dangerouslySetInnerHTML:this.createDescription()}),a.a.createElement(oo,null,a.a.createElement("div",null,t.format,", pages ",t.pages),a.a.createElement("div",null,"Published ",t.publication_month,"/",t.publication_day,"/",t.publication_year," by ",t.publisher))),o&&t.readStatus&&a.a.createElement(io,null,a.a.createElement(co,null,"Your progress"),a.a.createElement(Yt,{pages:t.pages,readPages:t.readPages,goodreadsId:t.goodreadsId,inList:!1})))}}]),t}(r.Component);var so=Object(l.connect)(function(e){return{book:e.books.data,loading:e.books.loading,error:e.books.error,isAuthenticated:!!e.user.email,confirmed:e.user.confirmed}},{getBookData:Z,getBookDataSuccess:function(e){return function(t){return t({type:I,data:e})}},getBookDataFailure:function(e){return function(t){return t(function(e){return{type:L,error:e}}(e))}}})(uo),lo=n(255),mo=n.n(lo),fo=n(554);function po(){var e=Object(ie.a)(["\n  position: absolute;\n  top: 2px;\n  padding-left: 0.4em;\n"]);return po=function(){return e},e}function ho(){var e=Object(ie.a)(["\n  position: relative;\n"]);return ho=function(){return e},e}function bo(){var e=Object(ie.a)(["\n  margin: 0.15em 0;\n  font-size: 0.9em;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"]);return bo=function(){return e},e}function go(){var e=Object(ie.a)(["\n  margin: 0 0 0.2em 0;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"]);return go=function(){return e},e}function vo(){var e=Object(ie.a)(["\n  padding: 0 1em;\n  overflow: hidden;\n  width: 100%;\n"]);return vo=function(){return e},e}function Oo(){var e=Object(ie.a)(["\n  height: 75px;\n  width: 55px;\n"]);return Oo=function(){return e},e}function yo(){var e=Object(ie.a)(["\n  display: flex;\n  align-items: center;\n  padding: 0.25em 0;\n  color: ",";\n  width: 510px;\n  height: 75px;\n  margin: 0.75em 0;\n"]);return yo=function(){return e},e}var Eo=ce.a.article(yo(),"#414141"),jo=ce.a.img(Oo()),ko=ce.a.div(vo()),wo=ce.a.h4(go()),Ao=ce.a.div(bo()),So=ce.a.div(ho()),Co=ce.a.span(po()),xo=function(e){var t=e.book;return a.a.createElement(c.b,{to:{pathname:"/books/new/".concat(t.goodreadsId)},style:{textDecoration:"none"}},a.a.createElement(Eo,null,a.a.createElement("div",null,a.a.createElement(jo,{src:t.image_url,alt:""})),a.a.createElement(ko,null,a.a.createElement(wo,null,t.title),a.a.createElement(Ao,null,"by ",t.authors),a.a.createElement(So,null,a.a.createElement(oe.a,{initialRating:t.rating,emptySymbol:a.a.createElement("img",{src:Ce.a,alt:"star"}),fullSymbol:a.a.createElement("img",{src:Fe.a,alt:"star"}),readonly:!0}),a.a.createElement(Co,null,t.rating)))))};function Fo(){var e=Object(ie.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n"]);return Fo=function(){return e},e}var Po=ce.a.div(Fo()),Do=function(e){var t=e.books;return a.a.createElement(Po,null,Array.isArray(t)&&t.map(function(e){return a.a.createElement(xo,{book:e,key:e.goodreadsId})}))};function Bo(){var e=Object(ie.a)(["\n  text-align: center;\n  margin: 1em 0;\n"]);return Bo=function(){return e},e}function Io(){var e=Object(ie.a)(["\n  font-size: 0.9em;\n  text-align: center;\n  margin-top: 1.5em;\n"]);return Io=function(){return e},e}function Lo(){var e=Object(ie.a)(["\n  margin-left: 0.5em;\n    padding: 0.45em 1.5em;\n    font-weight: 600;\n    background-color: ",";\n    color: ",";\n    box-shadow: ",";\n}\n\n"]);return Lo=function(){return e},e}function To(){var e=Object(ie.a)(["\n  width: 25em;\n  height: 2em;\n  font-size: 1em;\n  border: ",";\n  box-sizing: border-box;\n  padding: 0.25rem;\n  outline: none;\n"]);return To=function(){return e},e}function Ro(){var e=Object(ie.a)(["\n  text-align: center;\n"]);return Ro=function(){return e},e}function Uo(){var e=Object(ie.a)(["\n  margin: 1em 0;\n"]);return Uo=function(){return e},e}function _o(){var e=Object(ie.a)(["\n  margin: 0 auto;\n  width: ",";\n"]);return _o=function(){return e},e}var qo=ce.a.div(_o(),"1024px"),zo=ce.a.h1(Uo()),Go=ce.a.form(Ro()),Ko=ce.a.input(To(),Le),Mo=ce.a.button(Lo(),"#EC6C10","#FFFFFF",Te),No=ce.a.div(Io()),Vo=ce.a.div(Bo());n(518);function Qo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Jo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qo(n,!0).forEach(function(t){Object($.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qo(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Xo=function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).state={query:mo.a.parse(n.props.location.search),inputValue:null},n.fetchBooksByPage=function(){var e=n.state.query,t=n.props,r=t.history,a=t.searchByPage,o=t.searchBooksSuccess,i=t.searchBooksFailure;""!==n.state.query.q?a(e.q,e.page).then(r.push("/search?q=".concat(e.q,"&page=").concat(e.page))).then(function(e){return o(e)}).catch(function(e){return i(e)}):m.toastr.error("Error","Invalid value")},n.handlePageChange=function(e,t){n.setState({query:Jo({},n.state.query,{page:t.activePage})}),document.getElementById("inputValue").scrollIntoView({block:"center",behavior:"smooth"})},n.onChange=function(e){n.setState(Object($.a)({},e.target.name,e.target.value))},n.onSubmit=function(e){e.preventDefault(),n.setState({query:{q:n.state.inputValue,page:1}})},n}return Object(O.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){""!==this.state.query.q?this.fetchBooksByPage():this.props.history.push("/")}},{key:"componentDidUpdate",value:function(e,t){this.state.query!==t.query&&this.fetchBooksByPage()}},{key:"render",value:function(){var e=this.props,t=e.books,n=e.loading,r=e.query_time_seconds,o=e.total_results,i=e.error,c=this.state.query,u="string"===typeof t,s="object"===typeof t&&20===t.length,l=u?a.a.createElement("p",null,t):a.a.createElement(Do,{books:t}),d=n?a.a.createElement(No,null,"loading..."):a.a.createElement(No,null,"Page ",c.page," of about ",o," results (",r," seconds)"),m=n||u||!s?null:a.a.createElement(a.a.Fragment,null,a.a.createElement("hr",null),a.a.createElement(Vo,null,a.a.createElement(fo.a,{boundaryRange:0,activePage:c.page,ellipsisItem:null,firstItem:null,lastItem:null,siblingRange:2,totalPages:20,onPageChange:this.handlePageChange})));return i?a.a.createElement(Ye,{title:i}):a.a.createElement(qo,null,a.a.createElement(zo,null,"Search"),a.a.createElement(Go,{onSubmit:this.onSubmit},a.a.createElement(Ko,{type:"text",id:"inputValue",name:"inputValue",placeholder:"Search by Book Title",defaultValue:c.q,onChange:this.onChange}),a.a.createElement(Mo,null,"Search")),d,a.a.createElement("hr",null),l,m)}}]),t}(r.Component);var Yo=Object(l.connect)(function(e){return{books:e.books.data.books,query_time_seconds:e.books.data.query_time_seconds,total_results:e.books.data.total_results,loading:e.books.loading,error:e.books.error}},{searchByPage:function(e,t){return function(n){return A.searchByPage(e,t).then(n({type:_}))}},searchBooksSuccess:function(e){return function(t){return t({type:q,data:e})}},searchBooksFailure:function(e){return function(t){return t(function(e){return{type:z,error:e}}(e))}}})(Xo),Ho=function(e){function t(){return Object(h.a)(this,t),Object(g.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){this.props.isAuthenticated&&this.props.fetchCurrentUser()}},{key:"render",value:function(){var e=this.props,t=e.location,n=e.loaded;return a.a.createElement("div",null,a.a.createElement(E.a,{loaded:n},a.a.createElement(Ua,null),a.a.createElement(u.b,{location:t,path:"/",exact:!0,component:$e}),a.a.createElement(u.b,{location:t,path:"/confirmation/:token",exact:!0,component:cr}),a.a.createElement(u.b,{location:t,path:"/search",component:Yo}),a.a.createElement(u.b,{location:t,path:"/books/new/:id",exact:!0,component:so}),a.a.createElement(Mr,{location:t,path:"/login",exact:!0,component:St}),a.a.createElement(Mr,{location:t,path:"/signup",exact:!0,component:Wn}),a.a.createElement(Mr,{location:t,path:"/forgot_password",exact:!0,component:wr}),a.a.createElement(Mr,{location:t,path:"/reset_password/:token",exact:!0,component:zr}),a.a.createElement(Kr,{location:t,path:"/dashboard",exact:!0,component:Fn})))}}]),t}(r.Component);var Wo=Object(l.connect)(function(e){return{isAuthenticated:!!e.user.email,loaded:e.user.loaded}},{fetchCurrentUser:Dn})(Ho);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Zo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zo(n,!0).forEach(function(t){Object($.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zo(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ei=Object(s.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loaded:!1},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case S:return $o({},t.user,{loaded:!0});case x:return $o({},e,{},t.user,{loaded:!0});case C:return{loaded:!0};default:return e}},books:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case H:return ne({},e,{data:ne({},t.data)});case J:case X:return ne({},e,{data:t.data,loading:!1,error:null});case Y:return ne({},e,{data:t.data});case W:return ne({},e,{data:ne({},e.data,{readPages:t.data.readPages})});case M:return ne({},e,{data:e.data.map(function(e){return e.goodreadsId===t.data.goodreadsId?ne({},e,{readStatus:t.data.readStatus}):e})});case K:case V:return ne({},e,{data:e.data.map(function(e){return e.goodreadsId===t.data.goodreadsId?ne({},e,{likeStatus:t.data.likeStatus}):e}),loading:!1,error:null});case N:var n=e.data.findIndex(function(e){return e.goodreadsId===t.id});return!0===e.data[n].likeStatus?ne({},e,{data:e.data.map(function(e,t){return n===t?ne({},e,{readStatus:!1}):e})}):ne({},e,{data:ne({},e.data.slice(0,n),{},e.data.slice(n+1)),loading:!1,error:null});case Q:return ne({},e,{data:e.data.map(function(e){return e.goodreadsId===t.data.goodreadsId?ne({},e,{readPages:t.data.readPages}):e}),loading:!1,error:null});case F:case B:case T:case _:return ne({},e,{loading:!0,error:null});case P:case I:case R:case q:return ne({},e,{data:t.data,loading:!1,error:null});case D:case L:case U:case z:return ne({},e,{loading:!1,error:t.error.response.data.error});case G:return ne({},e,{filter:t.filter});default:return e}},toastr:m.reducer}),ti=(n(550),Object(s.createStore)(ei,Object(p.composeWithDevTools)(Object(s.applyMiddleware)(d.a))));localStorage.bookwormJWT?(et(localStorage.bookwormJWT),ti.dispatch(Dn())):ti.dispatch(Pn({})),i.a.render(a.a.createElement(c.a,null,a.a.createElement(l.Provider,{store:ti},a.a.createElement(f.a,{timeOut:4e3,position:"bottom-right",transitionIn:"fadeIn",transitionOut:"fadeOut",closeOnToastrClick:!0}),a.a.createElement(u.b,{component:Wo}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},56:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGDSURBVHgB3ZRBTsJAFIb/adH1GNCEFXADjtCeQG4A7IzEUG6gJxBTFi65iXgCOQKuSIgJY1y20/FNbUNbWzq65E/aTjvvfe/NmzcFTlZ7j3fp4qb2lqlhJDGNQkxN7Y3BpIECPNOsjcAfd3ykFLo05AhwbeJjlrHCMB1KhpGJC6sz2N/yvrTwlo8D93IhVkbg7Q3v2ha4ZdGSGThT6OgnURwC9QtOa7qtaE4ohncq00Z/D0Ns2s8iHjdS4/MGhgS4T1NSybNMcSCVBFOH7Iih/R9yGWvtJtyzGB7xDxHIay7EU+Y9rx3VlMrxAt0BZhI2w+DCF6+FQL+1pVN2Jgn+02LVotoGEm5a16xK2609J0OFGepkwyuDVoK1aCkd1IhF1Ss6BnZQI3XEphIcFZwYw5yiLQtmDv4C1qcNh65Y0a47TV/MWr4YBw30KMAmmeP7Ce8Yg6UdN7/QvdlaCDfbSnpjKUAvYhjrALIi61Iw/XvXX5RZtuGLuvLFMrDhEvwTJ6Fvaet8ACbdZTYAAAAASUVORK5CYII="}},[[271,1,2]]]);
//# sourceMappingURL=main.c8a236db.chunk.js.map