{"version":3,"sources":["img/error.png","img/search.png","img/perm_identity.png","img/vector.png","img/star_border.png","api.js","types.js","actions/books.js","reducers/books.js","components/items/top-books-item/style.js","components/items/top-books-item/top-books-item.js","components/lists/top-books-list/style.js","components/lists/top-books-list/top-books-list.js","style-constants.js","components/loaders/center-loader/style.js","components/loaders/center-loader/center-loader.js","components/errors/page-error/style.js","components/errors/page-error/page-error.js","components/pages/home-page/style.js","components/pages/home-page/home-page.js","utils/set-authorization-header.js","actions/auth.js","utils/validation/helper.js","utils/validation/login-validation.js","components/messages/inline-error.js","components/forms/login-form/style.js","components/forms/login-form/login-form.js","components/pages/login-page/style.js","components/pages/login-page/login-page.js","components/messages/confirm-email-message.js","components/buttons/delete-button/style.js","components/buttons/delete-button/delete-button.js","components/buttons/like-button/style.js","components/buttons/like-button/like-button.js","components/widgets/read-progress-widget/style.js","components/widgets/read-progress-widget/read-progress-widget.js","components/items/user-book-item/style.js","components/buttons/read-button/style.js","components/buttons/read-button/read-button.js","components/items/user-book-item/user-book-item.js","components/lists/user-books-list/style.js","components/lists/user-books-list/user-books-list.js","components/pages/dashboard-page/dashboard-page.js","actions/users.js","utils/validation/signup-validation.js","components/forms/singup-form/style.js","components/forms/singup-form/signup-form.js","components/pages/singup-page/style.js","components/pages/singup-page/signup-page.js","components/pages/confirmation-page/style.js","components/pages/confirmation-page/confirmation-page.js","utils/validation/forgot-password-validation.js","components/forms/forgot-password-form/style.js","components/forms/forgot-password-form/forgot-password-form.js","components/pages/forgot-password-page/style.js","components/pages/forgot-password-page/forgot-password-page.js","utils/validation/reset-password-validation.js","components/forms/reset-password-form/style.js","components/forms/reset-password-form/reset-password-form.js","components/pages/reset-password-page.js","components/routes/user-route.js","components/routes/guest-route.js","components/loaders/search-loading/style.js","components/loaders/search-loading/search-loading.js","components/items/dropdown-book-item/style.js","components/items/dropdown-book-item/dropdown-book-item.js","components/lists/dropdown-book-list/style.js","components/lists/dropdown-book-list/dropdown-book-list.js","components/search/search/style.js","components/search/search/search.js","components/lists/dropdown-user-list/style.js","components/lists/dropdown-user-list/dropdown-user-list.js","components/navigation/top-navigation/style.js","components/buttons/user-button/user-button.js","components/navigation/top-navigation/top-navigation.js","components/pages/book-page/style.js","components/pages/book-page/book-page.js","components/items/search-all-results-item/style.js","components/items/search-all-results-item/search-all-results-item.js","components/lists/search-all-results-list/style.js","components/lists/search-all-results-list/search-all-results-list.js","components/pages/search-all-results-page/style.js","components/pages/search-all-results-page/search-all-result-page.js","app.js","serviceWorker.js","root-reducer.js","reducers/user.js","index.js","img/star.png"],"names":["module","exports","login","credentials","axios","post","then","res","data","user","signup","confirm","token","resetPasswordRequest","email","validateToken","resetPassword","fetchCurrentUser","get","search","title","books","searchByPage","pageNum","getBookData","id","book","fetchUserBooks","create","delete","deleteBookInList","goodreadsId","addLike","deleteLike","getTop","updateProgress","num","progress","USER_LOGGED_IN","USER_LOGGED_OUT","USER_FETCHED","FETCH_TOP_REQUEST","FETCH_TOP_SUCCESS","FETCH_TOP_FAILURE","FETCH_BOOK_DATA_REQUEST","FETCH_BOOK_DATA_SUCCESS","FETCH_BOOK_DATA_FAILURE","FETCH_USER_BOOKS_REQUEST","FETCH_USER_BOOKS_SUCCESS","FETCH_USER_BOOKS_FAILURE","SEARCH_BOOKS_BY_PAGE_REQUEST","SEARCH_BOOKS_BY_PAGE_SUCCESS","SEARCH_BOOKS_BY_PAGE_FAILURE","CHANGE_FILTERS","ADD_LIKE_IN_LIST","ADD_BOOK_IN_LIST","BOOK_DELETE_IN_LIST","DELETE_LIKE_IN_LIST","UPDATE_PROGRESS_IN_LIST","ADD_LIKE","DELETE_LIKE","DELETE_BOOK","ADD_BOOK","UPDATE_PROGRESS","dispatch","api","type","initialState","loading","error","filter","allBooksSelector","createSelector","state","booksHash","Object","values","StyledArticle","styled","article","StyledLeft","div","StyledCover","img","StyledRight","StyledTitle","h4","StyledAthor","StyledRating","StyledRatingNum","span","StyledDescription","TopBooksItem","src","image_url","alt","style","textDecoration","backgroundColor","padding","color","fontSize","to","authors","initialRating","average_rating","emptySymbol","starBorder","fullSymbol","star","readonly","dangerouslySetInnerHTML","__html","description","Section","section","TopBooksList","topLikes","Array","isArray","map","item","key","border","boxShadowButton","StyledSpinner","svg","StyledContainer","CenterLoading","viewBox","className","cx","cy","r","fill","strokeWidth","Container","ImgError","Title","h2","PageError","pageError","HomePage","this","props","getTopSuccess","getTopFailure","catch","Component","connect","fetchTopFailure","defaults","headers","common","authorization","userLoggedIn","createErrorObj","arr","errorObj","i","length","context","message","loginValidation","schema","Joi","object","keys","string","required","errors","firstError","optional","password","result","validate","abortEarly","details","InlineError","text","FormField","FormInput","input","LoginButton","button","LoginForm","onChange","e","setState","target","name","value","onSubmit","preventDefault","submit","err","response","placeholder","Header","SingUp","ForgotPassword","LoginPage","history","push","fontWeight","width","height","display","localStorage","bookwormJWT","setAuthorizationHeader","loaded","Message","p","ConfirmEmailMessage","StyledButton","deleteBook","bookId","bookDeleteInList","inList","onClick","toastr","success","addLikeInList","deleteLikeInList","likeStatus","StyledStat","StyledProgress","StyledInput","StyledDiv","ReadProgressWidget","visibilityProgress","saveProgressClick","pages","updateBookProgress","updateBookProgressInList","readPages","parseInt","isNaN","defaultValue","max","StyledCenter","StyledAuthor","StyledButtonsDiv","StyledButtonItem","StyledProgressH5","h5","readBook","addBook","readBookInList","addBookInList","readStatus","UserBookItem","UserBooksList","_id","DashboardPage","filterBooks","getUserBooks","getUserBooksSuccess","getUserBooksFailure","isConfirmed","changeFilters","btn","confirmed","fetchUserBooksFailure","changeBookFilters","userFetched","signUpValidation","username","min","regex","limit","Form","form","SingUpButton","SingupForm","SignupPage","ContainerSuccess","ContainerFailure","ContainerLoading","ConfirmationPage","match","params","forgotPasswordValidation","Button","ForgotPasswordForm","ForgotPasswordPage","resetPasswordValidation","passwordConfirmation","allowUnknown","ResetPasswordForm","ResetPasswordPage","isAuthenticated","component","rest","render","StyledSearchImg","SearchLoading","searchImg","StyledBookImg","StyledData","DropdownBookItem","pathname","StyledAllResults","query","visibility","haveResults","notFound","haveQuery","StyledSearch","StyledSearchInput","Search","visibilityDropdownList","myRef","React","createRef","handleChange","clearTimeout","timer","setTimeout","fetchOptions","booksCount","handleClickOutside","current","contains","handleClickInside","document","addEventListener","removeEventListener","ref","Item","logout","removeItem","StyledHeader","header","StyledIcon","UserButton","permIndentity","vectorGR","Left","Cover","Center","Author","Rating","RatingNum","Description","Publish","Right","ProgressHeader","BookPage","fetchBook","getBookDataSuccess","getBookDataFailure","createDescription","prevProps","format","publication_month","publication_day","publication_year","publisher","fetchBookDataFailure","StyledSearchArticle","StyledDataDiv","SearchAllResultsItem","rating","StyledSection","SearchAllResultsList","HeadingH1","h1","SearchForm","SearchInput","SearchButton","Results","PaginationDiv","SearchAllResultPage","queryString","parse","location","inputValue","fetchBooksByPage","searchBooksSuccess","searchBooksFailure","q","page","handlePageChange","activePage","getElementById","scrollIntoView","block","behavior","prevState","query_time_seconds","total_results","isBookString","statusOfResults","pagination","Pagination","boundaryRange","ellipsisItem","firstItem","lastItem","siblingRange","totalPages","onPageChange","searchFailure","App","path","exact","SignUpPage","Boolean","window","hostname","combineReducers","action","findIndex","j","slice","toastrReducer","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","ReactDOM","timeOut","position","transitionIn","transitionOut","closeOnToastrClick","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.c8a236db.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/error.9cadfc24.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAAwmAAAMJgE29OC7AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFYSURBVHgB7ZTfaYRAEMbXf+BbLMESzkcfBO3EDlLCaQfpIEkH18GKIj56JVjC5U1RNN8cKxGju5c7CATywbI7s7O/WZ1Rxv6aNNlmXddO27aObdsXz/Mu7FFwURShpmlHLMOF+2wYxovv++/sHjCgiYCSMqybaZrcOQnWaRAECfsJuCzLGAdfMZphGCKomfc4565pmhyJXOxHgGcysL40cOCZ5jWURDb5r7f5eiI1GDdyMB1w6LSGLuGYMoxQxKvBqPwcKK0+vXOan6CbwGirK1AUalfz/gd0ExiPSeAMI6yqyt0KFv6Q4kS8Gixuk9I8jiNfw8kmvzDfmELf+hgtd0SCRJhbfdzgQzl1XZfKbr355eV5Huu6Tq13WLgz+BKAqddj2Oe+76M9uPRfQS1F1adCzQDyWZbFRdJduBQsS6iC6+wOEYRgBCW4SMIeBq/h9Ndj//p1fQLcd8FSeD+nqgAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHLSURBVHgB7VXLbcJAEN015u4SSAVJjnxjd+BUgFugAkwFIRXgVBA6iAMCjpgK4hIscUBIfPIGrRUrGJglygHJT1p5dryet288OytEgQL/BCk0MR6PbSllF+YDhoURlkqloFqtvunE0SIGqa9Ij7Df73vNZtMXTLCJJ5OJh+ADRZJgA4GyXdgVZTsgDznxDMEEgrbVM95sNo+NRqNDA7YDd3JQcSIbfyIGbBV86DhOnDqVHajpg2BChzhhrLEEEzrEkXp6s9mskjrJRhZcNQ0FEyZ3IVUtCGyY1m63+5hOp0Pyb7dbT/woDZjh9I4TKruLDfi5gaT06/V6TzCh3UBGo5FnGAZVuK2OVYS5X6vVPsUtgK14Pp9by+XSNU3zHkotjMohgJRU7RH+9aJcLkdonTEnnrxEtlqt2igmqlpb8MDq3SeJ6TLAvxukyrKg7gWlsZpSRR81DnqPLHRardZQcIlxVFyofM8QJdhEH8HC9Xq9QLdKcr55osxkezcBvuc88lxiHJsvUkqESBtV7KvQgKr8F5hUCzEujrvfa3I7V5peUqlLSoDCAKr7ZGfVZ3G2c2EDNtSLa0Dfnnt/qWXalwJcC51LokCB28A3FubXg5Vy1F0AAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANlSURBVHgBxVhNUtswFP4ku3tlSjvDquEEhBM0nKBwgoZdp9BpOAHhBKEDdLoLvQGcgPQG9AQNW1om6nSZ2Or3HMuYYKchCc2bcWRZlvTp/XzvxQol8nPP1NnUFfBaKVSdQ9WPsd+Dg3VAj+NXbL+vnNhzzChq/EG/aarREB0BwKsbaBwhwlXl1F7/aBpjIqzHDjWn0EQOWBxj4+Vne4V5Qdy8Nw1u2uapLdtG5dh+mzT5ds8cUAstuQ8ISIBiHhACQGtqwKE3iLC5+sX2plng9oPpEHSD5lCYUbT8iAlEA+mz1rQAEnGYyQQPQIgPUK1GtLByar8+aoEQF4mjziGhjwLpcLEzPFIqR4nW1jCHaK3wJusodLEE0XSqmu/QIX9jCSI+kYF4ptDHEkRAGCxZwnxn4FBhMxXhiEO7GDbiVfbOtKEeSnj5vEDHXGczMe773Dwaaa+jNIzW94aFsXpu1Jpfe6YmuSUGLsIhzioloMQx8wN1/EMGTGbkE4morhoDzP7R8xO7QfbclHYQYi1NcgdxgEuycq1oTZXnfzkJF6hgShGTcINL3y+jbmrkMj2gDQiM3HLPhJqM9ynXNyl5TSVhmNOiK2dNHvLQrx8P8XF8XCeockypXZLGFyovTmzXU7vLUUK2p/wEAfbhX6LNmRnbWLDkfM8UghBtxBG2eWvTCU2apYX/JFmASVVEb97wGhGPvt01nf47Uy2ayPRvMMRbTC+JGWiWBxRQ6M1JxCg0cuVbVxyPvGBJUIYL1VLbei/3ZUBhNhWtyqHk/cEQG+MkposmMcYPV47tWqCSQrepMMqucXoSElTrT4iKhDP7EwvcHADxymYRi85cknnx5R1EKw7nWRRQi7zfciNH7PJArbKaNcQCJauwVLJxw40en1Nj25PmLQ4EK/Tnp9aTkrCk+Eyd15YQoHBF2VSNJxJG2g5SxxUCTKLpqUDk/5nlZZW1pyS05B0SIHnoAE8FYpIkeenOUZtleWluEGpCZSZMzM13ss1KzDK/OVBsDi9p8srMEg3QXiiIVL2jk6lyjeiAqfwufBvjeWkmshKVDoeosRzs3PtkwOKIp72WjDkekuMFkHI4cxoJec3GE/w8APnTxIXkFKTxHj8NVNPFXwEPi18BdbNr9gm8ndS1osE4+fbR+wsv8WieKY7RqQAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAWCAYAAAAinad/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAG/SURBVHgB1VRBTsJAFH3TVrcO0bC1nMByAssJ5AbKVjDiCTyCmIhxZzyBeAK4AdzAulUJk+iCCO34pgWDUKDRFZNMpjP/zZv33/wpsNFtcCq9LDgrCyiycJ8Ft5bsvSbLGvDeatL/N5kQOIpH4HItdlVwUJduOMYzP1vsvu2gkGsohb8oC0P4HBRJKmYejXGMdcqoQA6HkI4Dl2m5tsZOxJGhso7Q2WuqSv9MXiFCmce3oKG0wIvWCBhXW9sIjGJnyrrt4NEYTSDC5JTAbLIFGrEqjSdLwCfBCafS4ESSW495l36UTdUxjTYxrj1GMXengmXpTLzsEht8OigVJj6KOVBMyFOlFaKURmiIohBtKlWzRAtkC4RbVDgDXkWUZDzXzGYrQoUGu6Ov+BJ+NXrm0vRKIaVEUksjtGISlb9VPTOfVj8PCsw6L+IgbZ+TtsjyOKSC3sRo8y59PqsWL+aCN90TFszDf8ikjEQezTTedemdy+863fUiG22zbuJp+5a9AE8nvfPBS9i9UdcjGyVtoRPXIpDplxT/u5jSoF+T52nx16qsm/igKvfXKhuZPk7UpJHlm6oxclAcChSwMe0b7bPMl2jMbVsAAAAASUVORK5CYII=\"","import axios from 'axios';\r\n\r\nexport default {\r\n  user: {\r\n    login: (credentials) => axios.post('/api/auth', { credentials })\r\n      .then(res => res.data.user),\r\n    signup: user => axios.post('/api/users', { user })\r\n      .then(res => res.data.user),\r\n    confirm: token => axios.post('/api/auth/confirmation', { token })\r\n      .then(res => res.data.user),\r\n    resetPasswordRequest: email => axios.post('/api/auth/reset_password_request', { email }),\r\n    validateToken: token => axios.post('/api/auth/validate_token', { token }),\r\n    resetPassword: data => axios.post('/api/auth/reset_password', { data }),\r\n    fetchCurrentUser: () => axios.get('/api/users/current_user')\r\n      .then(res => res.data.user)\r\n  },\r\n  books: {\r\n    search: (title) => axios.get(`/api/books/search?q=${title}`)\r\n      .then(res => res.data.books),\r\n    searchByPage: (title, pageNum) => axios.get(`/api/books/search_by_page?q=${title}&page=${pageNum}`)\r\n      .then(res => res.data),\r\n    getBookData: (id) => axios.get(`/api/books/fetch_book_data?goodreadsId=${id}`)\r\n      .then(res => res.data.book),\r\n    fetchUserBooks: () => axios.get('/api/books')\r\n      .then(res => res.data.books),\r\n    create: book => axios.post('/api/books', { book })\r\n      .then(res => res.data.book),\r\n    delete: id => axios.post('/api/books/delete_book', { id })\r\n      .then(res => res.data.book),\r\n    deleteBookInList: id => axios.post('/api/books/delete_book', { id })\r\n      .then(res => res.data.book.goodreadsId),\r\n    addLike: id => axios.post('/api/books/add_like', { id })\r\n      .then(res => res.data.book),\r\n    deleteLike: id => axios.post('/api/books/delete_like', { id })\r\n      .then(res => res.data.book),\r\n    getTop: () => axios.get('/api/books/get_top')\r\n      .then(res => res.data.books),\r\n    updateProgress: (num, id) => axios.post('/api/books/save_progress', { num, id })\r\n      .then(res => res.data.progress)\r\n  }\r\n}\r\n","export const USER_LOGGED_IN = 'USER_LOGGED_IN';\r\nexport const USER_LOGGED_OUT = 'USER_LOGGED_OUT';\r\nexport const USER_FETCHED = 'USER_FETCHED';\r\n\r\nexport const FETCH_TOP_REQUEST = 'FETCH_TOP_REQUEST';\r\nexport const FETCH_TOP_SUCCESS = 'FETCH_TOP_SUCCESS';\r\nexport const FETCH_TOP_FAILURE = 'FETCH_TOP_FAILURE';\r\n\r\nexport const FETCH_BOOK_DATA_REQUEST = 'FETCH_BOOK_DATA_REQUEST';\r\nexport const FETCH_BOOK_DATA_SUCCESS = 'FETCH_BOOK_DATA_SUCCESS';\r\nexport const FETCH_BOOK_DATA_FAILURE = 'FETCH_BOOK_DATA_FAILURE';\r\n\r\nexport const FETCH_USER_BOOKS_REQUEST = 'FETCH_USER_BOOKS_REQUEST';\r\nexport const FETCH_USER_BOOKS_SUCCESS = 'FETCH_USER_BOOKS_SUCCESS';\r\nexport const FETCH_USER_BOOKS_FAILURE = 'FETCH_USER_BOOKS_FAILURE';\r\n\r\nexport const SEARCH_BOOKS_BY_PAGE_REQUEST = 'SEARCH_BOOKS_BY_PAGE_REQUEST';\r\nexport const SEARCH_BOOKS_BY_PAGE_SUCCESS = 'SEARCH_BOOKS_BY_PAGE_SUCCESS';\r\nexport const SEARCH_BOOKS_BY_PAGE_FAILURE = 'SEARCH_BOOKS_BY_PAGE_FAILURE';\r\n\r\nexport const CHANGE_FILTERS = 'CHANGE_FILTERS';\r\n\r\nexport const ADD_LIKE_IN_LIST = 'ADD_LIKE_IN_LIST';\r\nexport const ADD_BOOK_IN_LIST = 'ADD_BOOK_IN_LIST';\r\nexport const BOOK_DELETE_IN_LIST = 'BOOK_DELETE_IN_LIST';\r\nexport const DELETE_LIKE_IN_LIST = 'DELETE_LIKE_IN_LIST';\r\nexport const UPDATE_PROGRESS_IN_LIST = 'UPDATE_PROGRESS_IN_LIST';\r\n\r\nexport const ADD_LIKE = 'ADD_LIKE';\r\nexport const DELETE_LIKE = 'DELETE_LIKE';\r\nexport const DELETE_BOOK = 'DELETE_BOOK';\r\nexport const ADD_BOOK = 'ADD_BOOK';\r\nexport const UPDATE_PROGRESS = 'UPDATE_PROGRESS';\r\n\r\n","import api from \"../api\";\r\nimport {\r\n  FETCH_TOP_REQUEST,\r\n  FETCH_TOP_SUCCESS,\r\n  FETCH_TOP_FAILURE,\r\n  FETCH_BOOK_DATA_REQUEST,\r\n  FETCH_BOOK_DATA_SUCCESS,\r\n  FETCH_BOOK_DATA_FAILURE,\r\n  FETCH_USER_BOOKS_REQUEST,\r\n  FETCH_USER_BOOKS_SUCCESS,\r\n  FETCH_USER_BOOKS_FAILURE,\r\n  SEARCH_BOOKS_BY_PAGE_REQUEST,\r\n  SEARCH_BOOKS_BY_PAGE_SUCCESS,\r\n  SEARCH_BOOKS_BY_PAGE_FAILURE,\r\n  ADD_BOOK,\r\n  DELETE_BOOK,\r\n  ADD_LIKE,\r\n  UPDATE_PROGRESS,\r\n  BOOK_DELETE_IN_LIST,\r\n  DELETE_LIKE,\r\n  ADD_LIKE_IN_LIST,\r\n  ADD_BOOK_IN_LIST,\r\n  DELETE_LIKE_IN_LIST,\r\n  UPDATE_PROGRESS_IN_LIST,\r\n  CHANGE_FILTERS\r\n} from \"../types\";\r\n\r\nconst fetchTop = () => ({\r\n  type: FETCH_TOP_REQUEST\r\n});\r\n\r\nconst fetchTopSuccess = data => ({\r\n  type: FETCH_TOP_SUCCESS,\r\n  data\r\n});\r\n\r\nconst fetchTopFailure = error => ({\r\n  type: FETCH_TOP_FAILURE,\r\n  error\r\n});\r\n\r\nconst fetchBookData = () => ({\r\n  type: FETCH_BOOK_DATA_REQUEST\r\n});\r\n\r\nconst fetchBookDataSuccess = data => ({\r\n  type: FETCH_BOOK_DATA_SUCCESS,\r\n  data\r\n});\r\n\r\nconst fetchBookDataFailure = error => ({\r\n  type: FETCH_BOOK_DATA_FAILURE,\r\n  error\r\n});\r\n\r\nconst fetchUserBooks = () => ({\r\n  type: FETCH_USER_BOOKS_REQUEST\r\n});\r\n\r\nconst fetchUserBooksSuccess = data => ({\r\n  type: FETCH_USER_BOOKS_SUCCESS,\r\n  data\r\n});\r\n\r\nconst fetchUserBooksFailure = error => ({\r\n  type: FETCH_USER_BOOKS_FAILURE,\r\n  error\r\n});\r\n\r\nconst searchBooksByPage = () => ({\r\n  type: SEARCH_BOOKS_BY_PAGE_REQUEST\r\n});\r\n\r\nconst searchSuccess = data => ({\r\n  type: SEARCH_BOOKS_BY_PAGE_SUCCESS,\r\n  data\r\n});\r\n\r\nconst searchFailure = error => ({\r\n  type: SEARCH_BOOKS_BY_PAGE_FAILURE,\r\n  error\r\n});\r\n\r\nconst addBook = data => ({\r\n  type: ADD_BOOK,\r\n  data\r\n});\r\n\r\nconst addBookInList = data => ({\r\n  type: ADD_BOOK_IN_LIST,\r\n  data\r\n});\r\n\r\nconst bookRemoval = data => ({\r\n  type: DELETE_BOOK,\r\n  data\r\n});\r\n\r\nconst bookDeleteInList = id => ({\r\n  type: BOOK_DELETE_IN_LIST,\r\n  id\r\n});\r\n\r\nconst addBookLike = data => ({\r\n  type: ADD_LIKE,\r\n  data\r\n});\r\n\r\nconst deleteBookLike = data => ({\r\n  type: DELETE_LIKE,\r\n  data\r\n});\r\n\r\nconst addBookLikeInList = data => ({\r\n  type: ADD_LIKE_IN_LIST,\r\n  data\r\n});\r\n\r\nconst deleteBookLikeInList = data => ({\r\n  type: DELETE_LIKE_IN_LIST,\r\n  data\r\n});\r\n\r\nconst changeProgress = data => ({\r\n  type: UPDATE_PROGRESS,\r\n  data\r\n});\r\n\r\nconst updateProgressInList = data => ({\r\n  type: UPDATE_PROGRESS_IN_LIST,\r\n  data\r\n});\r\n\r\n/* ============================================= */\r\n\r\nexport const getTop = () => dispatch =>\r\n  api.books.getTop().then(dispatch(fetchTop()));\r\n\r\nexport const getTopSuccess = books => dispatch =>\r\n  dispatch(fetchTopSuccess(books));\r\n\r\nexport const getTopFailure = error => dispatch =>\r\n  dispatch(fetchTopFailure(error));\r\n\r\n/* --------------------------------------------- */\r\n\r\nexport const getBookData = id => dispatch =>\r\n  api.books.getBookData(id).then(dispatch(fetchBookData()));\r\n\r\nexport const getBookDataSuccess = book => dispatch =>\r\n  dispatch(fetchBookDataSuccess(book));\r\n\r\nexport const getBookDataFailure = error => dispatch =>\r\n  dispatch(fetchBookDataFailure(error));\r\n\r\n/* --------------------------------------------- */\r\n\r\nexport const getUserBooks = () => dispatch =>\r\n  api.books.fetchUserBooks().then(dispatch(fetchUserBooks()));\r\n\r\nexport const getUserBooksSuccess = books => dispatch =>\r\n  dispatch(fetchUserBooksSuccess(books));\r\n\r\nexport const getUserBooksFailure = error => dispatch =>\r\n  dispatch(fetchUserBooksFailure(error));\r\n\r\n/* --------------------------------------------- */\r\n\r\nexport const search = title => () => api.books.search(title);\r\n\r\nexport const searchByPage = (title, pageNum) => dispatch =>\r\n  api.books.searchByPage(title, pageNum).then(dispatch(searchBooksByPage()));\r\n\r\nexport const searchBooksSuccess = books => dispatch =>\r\n  dispatch(searchSuccess(books));\r\n\r\nexport const searchBooksFailure = error => dispatch =>\r\n  dispatch(searchFailure(error));\r\n\r\n/* --------------------------------------------- */\r\n\r\nexport const readBook = data => dispatch =>\r\n  api.books.create(data).then(book => {\r\n    dispatch(addBook(book));\r\n  });\r\n\r\nexport const readBookInList = data => dispatch =>\r\n  api.books.create(data).then(book => {\r\n    dispatch(addBookInList({ goodreadsId: book.goodreadsId, readStatus: book.readStatus }));\r\n  });\r\n\r\nexport const deleteBook = id => dispatch =>\r\n  api.books.delete(id).then(book => {\r\n    dispatch(bookRemoval(book));\r\n  });\r\n\r\nexport const deleteBookInList = id => dispatch =>\r\n  api.books.deleteBookInList(id).then(bookId => {\r\n    dispatch(bookDeleteInList(bookId));\r\n  });\r\n\r\nexport const addLike = id => dispatch =>\r\n  api.books.addLike(id).then(book => {\r\n    dispatch(addBookLike(book));\r\n  });\r\n\r\nexport const addLikeInList = id => dispatch =>\r\n  api.books.addLike(id).then(book => {\r\n    dispatch(addBookLikeInList(book));\r\n  });\r\n\r\nexport const deleteLike = id => dispatch =>\r\n  api.books.deleteLike(id).then(book => {\r\n    dispatch(deleteBookLike(book));\r\n  });\r\n\r\nexport const deleteLikeInList = id => dispatch =>\r\n  api.books.deleteLike(id).then(book => {\r\n    dispatch(deleteBookLikeInList(book));\r\n  });\r\n\r\nexport const updateBookProgress = (num, id) => dispatch =>\r\n  api.books.updateProgress(num, id).then(progress => {\r\n    dispatch(changeProgress(progress));\r\n  });\r\n\r\nexport const updateBookProgressInList = (num, id) => dispatch =>\r\n  api.books.updateProgress(num, id).then(progress => {\r\n    dispatch(updateProgressInList(progress));\r\n  });\r\n\r\nconst changeBookFilters = filter => ({\r\n  type: CHANGE_FILTERS,\r\n  filter\r\n});\r\n\r\nexport const changeFilters = filter => dispatch =>\r\n  dispatch(changeBookFilters(filter));\r\n\r\n","import { createSelector } from \"reselect\";\r\nimport {\r\n  FETCH_TOP_REQUEST,\r\n  FETCH_TOP_SUCCESS,\r\n  FETCH_TOP_FAILURE,\r\n\r\n  FETCH_BOOK_DATA_REQUEST,\r\n  FETCH_BOOK_DATA_SUCCESS,\r\n  FETCH_BOOK_DATA_FAILURE,\r\n\r\n  FETCH_USER_BOOKS_REQUEST,\r\n  FETCH_USER_BOOKS_SUCCESS,\r\n  FETCH_USER_BOOKS_FAILURE,\r\n\r\n  SEARCH_BOOKS_BY_PAGE_REQUEST,\r\n  SEARCH_BOOKS_BY_PAGE_SUCCESS,\r\n  SEARCH_BOOKS_BY_PAGE_FAILURE,\r\n\r\n  ADD_BOOK,\r\n  DELETE_BOOK,\r\n  ADD_BOOK_IN_LIST,\r\n  ADD_LIKE,\r\n  UPDATE_PROGRESS,\r\n  BOOK_DELETE_IN_LIST,\r\n  DELETE_LIKE,\r\n  ADD_LIKE_IN_LIST,\r\n  DELETE_LIKE_IN_LIST,\r\n  UPDATE_PROGRESS_IN_LIST,\r\n  CHANGE_FILTERS\r\n} from \"../types\";\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  error: null,\r\n  data: {},\r\n  filter: 'all'\r\n};\r\n\r\nexport default function books(state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case ADD_BOOK:\r\n      return { ...state, data: { ...action.data } };\r\n\r\n    case ADD_LIKE:\r\n    case DELETE_LIKE:\r\n      return {\r\n        ...state,\r\n        data: action.data,\r\n        loading: false,\r\n        error: null\r\n      };\r\n    case DELETE_BOOK:\r\n      return { ...state, data: action.data };\r\n    case UPDATE_PROGRESS:\r\n      return {\r\n        ...state,\r\n        data: { ...state.data, readPages: action.data.readPages }\r\n      };\r\n\r\n    case ADD_BOOK_IN_LIST:\r\n      return {\r\n        ...state,\r\n        data: state.data.map(item =>\r\n          item.goodreadsId === action.data.goodreadsId\r\n            ? { ...item, readStatus: action.data.readStatus }\r\n            : item\r\n        ),\r\n      };\r\n    case ADD_LIKE_IN_LIST:\r\n    case DELETE_LIKE_IN_LIST:\r\n      return {\r\n        ...state,\r\n        data: state.data.map(item =>\r\n          item.goodreadsId === action.data.goodreadsId\r\n            ? { ...item, likeStatus: action.data.likeStatus }\r\n            : item\r\n        ),\r\n        loading: false,\r\n        error: null\r\n      };\r\n    case BOOK_DELETE_IN_LIST:\r\n      const i = state.data.findIndex(item => item.goodreadsId === action.id);\r\n      if (state.data[i].likeStatus === true) {\r\n        return {\r\n          ...state,\r\n          data: state.data.map((item, j) =>\r\n            i === j\r\n              ? { ...item, readStatus: false }\r\n              : item\r\n          )\r\n        }\r\n      }\r\n      return {\r\n        ...state,\r\n        data: { ...state.data.slice(0, i), ...state.data.slice(i + 1) },\r\n        loading: false,\r\n        error: null\r\n      };\r\n    case UPDATE_PROGRESS_IN_LIST:\r\n      return {\r\n        ...state,\r\n        data: state.data.map(item =>\r\n          item.goodreadsId === action.data.goodreadsId\r\n            ? { ...item, readPages: action.data.readPages }\r\n            : item\r\n        ),\r\n        loading: false,\r\n        error: null\r\n      };\r\n\r\n    /* ----------- REQUEST ---------- */\r\n    case FETCH_TOP_REQUEST:\r\n    case FETCH_BOOK_DATA_REQUEST:\r\n    case FETCH_USER_BOOKS_REQUEST:\r\n    case SEARCH_BOOKS_BY_PAGE_REQUEST:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n        error: null\r\n      };\r\n\r\n    /* ----------- SUCCESS ---------- */\r\n    case FETCH_TOP_SUCCESS:\r\n    case FETCH_BOOK_DATA_SUCCESS:\r\n    case FETCH_USER_BOOKS_SUCCESS:\r\n    case SEARCH_BOOKS_BY_PAGE_SUCCESS:\r\n      return {\r\n        ...state,\r\n        data: action.data,\r\n        loading: false,\r\n        error: null\r\n      };\r\n\r\n    /* ----------- FAILURE ---------- */\r\n    case FETCH_TOP_FAILURE:\r\n    case FETCH_BOOK_DATA_FAILURE:\r\n    case FETCH_USER_BOOKS_FAILURE:\r\n    case SEARCH_BOOKS_BY_PAGE_FAILURE:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: action.error.response.data.error\r\n      };\r\n\r\n    case CHANGE_FILTERS:\r\n      return {\r\n        ...state,\r\n        filter: action.filter\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n// SELECTORS\r\n\r\nexport const booksSelector = state => state.books.data;\r\n\r\n\r\nexport const allBooksSelector = createSelector(\r\n  booksSelector,\r\n  booksHash => Object.values(booksHash)\r\n);\r\n","import styled from \"styled-components\";\r\n\r\nexport const StyledArticle = styled.article`\r\n  width: 510px;\r\n  height: 230px;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n`;\r\n\r\nexport const StyledLeft = styled.div`\r\n  width: 100px;\r\n`;\r\n\r\nexport const StyledCover = styled.img`\r\n  width: 100px;\r\n  height: 150px;\r\n  margin-bottom: 0.9em;\r\n`;\r\n\r\nexport const StyledRight = styled.div`\r\n  width: 340px;\r\n  margin: 0 45px 0 15px;\r\n`;\r\n\r\nexport const StyledTitle = styled.h4`\r\n  margin: 0;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n`;\r\n\r\nexport const StyledAthor = styled.div`\r\n  margin: 0.35em 0;\r\n  font-size: 0.85em;\r\n`;\r\n\r\nexport const StyledRating = styled.div`\r\n  position: relative;\r\n  margin-bottom: 0.4em;\r\n`;\r\n\r\nexport const StyledRatingNum = styled.span`\r\n  position: absolute;\r\n  top: 2px;\r\n  padding-left: 0.4em;\r\n`;\r\n\r\nexport const StyledDescription = styled.div`\r\n  width: 100%; \r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  text-align: justify;\r\n  -webkit-line-clamp: 6;\r\n  display: -webkit-box;\r\n  -webkit-box-orient: vertical;\r\n  font-size: 0.85em;\r\n`;\r\n","import React from \"react\";\r\nimport Rating from \"react-rating\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport {\r\n  StyledArticle,\r\n  StyledLeft,\r\n  StyledCover,\r\n  StyledRight,\r\n  StyledTitle,\r\n  StyledAthor,\r\n  StyledRating,\r\n  StyledRatingNum,\r\n  StyledDescription\r\n} from \"./style\";\r\n\r\nimport starBorder from \"../../../img/star_border.png\";\r\nimport star from \"../../../img/star.png\";\r\n\r\nconst TopBooksItem = ({ book }) => {\r\n  const createDescription = () => {\r\n    const { description } = book;\r\n    return { __html: description };\r\n  };\r\n\r\n  return (\r\n    <StyledArticle>\r\n      <StyledLeft>\r\n        <StyledCover src={book.image_url} alt=\"\" />\r\n        <Link\r\n          style={{\r\n            textDecoration: \"none\",\r\n            backgroundColor: \"#EC6C10\",\r\n            padding: \"0.25em 2.7em\",\r\n            color: \"white\",\r\n            fontSize: \"0.8em\"\r\n          }}\r\n          to={`/books/new/${book.goodreadsId}`}\r\n        >\r\n          Open\r\n        </Link>\r\n      </StyledLeft>\r\n      <StyledRight>\r\n        <StyledTitle>{book.title}</StyledTitle>\r\n        <StyledAthor>by {book.authors}</StyledAthor>\r\n        <StyledRating>\r\n          <Rating\r\n            initialRating={book.average_rating}\r\n            emptySymbol={<img src={starBorder} alt=\"star\" />}\r\n            fullSymbol={<img src={star} alt=\"star\" />}\r\n            readonly\r\n          />\r\n          <StyledRatingNum>{book.average_rating}</StyledRatingNum>\r\n        </StyledRating>\r\n        <StyledDescription dangerouslySetInnerHTML={createDescription()} />\r\n      </StyledRight>\r\n    </StyledArticle>\r\n  );\r\n};\r\n\r\nexport default TopBooksItem;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Section = styled.section`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n`;\r\n","import React, { Fragment } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport TopBooksItem from \"../../items/top-books-item/top-books-item\";\r\n\r\nimport * as S from \"./style\";\r\n\r\nconst TopBooksList = ({ books, topLikes }) => {\r\n  return (\r\n    <Fragment>\r\n      <h2>{topLikes ? \"Top likes\" : \"Top reads\"}</h2>\r\n      <S.Section>\r\n        {Array.isArray(books) &&\r\n          books.map(item => (\r\n            <TopBooksItem key={item.goodreadsId} book={item} />\r\n          ))}\r\n      </S.Section>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nTopBooksList.propTypes = {\r\n  books: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      authors: PropTypes.string.isRequired,\r\n      average_rating: PropTypes.number.isRequired,\r\n      goodreadsId: PropTypes.string.isRequired,\r\n      image_url: PropTypes.string.isRequired,\r\n      title: PropTypes.string.isRequired,\r\n      _id: PropTypes.string\r\n    }).isRequired\r\n  ).isRequired,\r\n  topLikes: PropTypes.bool.isRequired\r\n};\r\n\r\nexport default TopBooksList;\r\n","export const headerBackground = '#414141';\r\nexport const searchColor = '#C4C4C4';\r\nexport const borderColor = searchColor;\r\nexport const accentColorButton = '#EC6C10';\r\nexport const darkColorButton = '#414141';\r\nexport const wordsColorButton = '#FFFFFF';\r\n\r\nexport const border = `1px solid ${searchColor}`;\r\n\r\nexport const sectionWidth = \"1024px\";\r\n\r\nexport const boxShadowButton = `0px 2px 4px rgba(0,0,0,0.25)`;\r\n","import styled from \"styled-components\";\r\n\r\nimport { headerBackground } from \"../../../style-constants\";\r\n\r\nexport const StyledSpinner = styled.svg`\r\n    width: 2.5em;\r\n    height: 2.5em;\r\n\r\n    position: absolute;\r\n    \r\n    top: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    margin: auto;\r\n\r\n    animation: rotate 2s linear infinite;\r\n\r\n    stroke: ${headerBackground};\r\n  \r\n    & .path {\r\n      animation: dash 1.5s ease-in-out infinite;\r\n      \r\n      stroke: hsl(210, 70, 75);\r\n      stroke-linecap: round;\r\n    }\r\n    \r\n    @keyframes rotate {\r\n    100% {\r\n      transform: rotate(360deg);\r\n      }\r\n    }\r\n  \r\n    @keyframes dash {\r\n      0% {\r\n        stroke-dasharray: 1, 150;\r\n        stroke-dashoffset: 0;\r\n      }\r\n      50% {\r\n        stroke-dasharray: 90, 150;\r\n        stroke-dashoffset: -35;\r\n      }\r\n      100% {\r\n        stroke-dasharray: 90, 150;\r\n        stroke-dashoffset: -124;\r\n      }\r\n    }  \r\n`;\r\n\r\nexport const StyledContainer = styled.div`\r\n   width: 100%;\r\n   height: 100%;\r\n   position: absolute;\r\n   top: 0;\r\n   left: 0;\r\n   overflow: auto;\r\n`;\r\n","import React from \"react\";\r\n\r\nimport { StyledContainer, StyledSpinner } from \"./style\";\r\n\r\nconst CenterLoading = () => {\r\n  return (\r\n    <StyledContainer>\r\n      <StyledSpinner viewBox=\"0 0 50 50\">\r\n        <circle\r\n          className=\"path\"\r\n          cx=\"25\"\r\n          cy=\"25\"\r\n          r=\"20\"\r\n          fill=\"none\"\r\n          strokeWidth=\"5\"\r\n        />\r\n      </StyledSpinner>\r\n    </StyledContainer>\r\n  );\r\n};\r\n\r\nexport default CenterLoading;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n    width: 400px;\r\n    height: 300px;\r\n\r\n    position: absolute;\r\n    \r\n    top: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    margin: auto;\r\n`;\r\n\r\nexport const ImgError = styled.img`\r\n  width: 100%;\r\n`;\r\n\r\nexport const Title = styled.h2`\r\n  text-align: center;\r\n  margin: 0;\r\n`;\r\n","import React from \"react\";\r\n\r\nimport * as S from \"./style\";\r\nimport pageError from \"../../../img/error.png\";\r\n\r\nconst PageError = ({ title }) => {\r\n  return (\r\n    <S.Container>\r\n      <S.ImgError src={pageError} alt=\"Something went wrong\" />\r\n      <S.Title>{title}</S.Title>\r\n    </S.Container>\r\n  )\r\n};\r\n\r\nexport default PageError;\r\n","import styled from \"styled-components\";\r\n\r\nimport { sectionWidth } from \"../../../style-constants\";\r\n\r\nexport const Container = styled.div`\r\n   margin: 3em auto;\r\n   width: ${sectionWidth};\r\n`;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { getTop, getTopSuccess, getTopFailure } from \"../../../actions/books\";\r\nimport { allBooksSelector } from \"../../../reducers/books\";\r\n\r\nimport TopBooksList from \"../../lists/top-books-list/top-books-list\";\r\nimport CenterLoading from \"../../loaders/center-loader/center-loader\";\r\nimport PageError from \"../../errors/page-error/page-error\";\r\n\r\nimport * as S from \"./style\";\r\n\r\nclass HomePage extends Component {\r\n  componentDidMount() {\r\n    const { getTop, getTopSuccess, getTopFailure } = this.props;\r\n    getTop()\r\n      .then(books => getTopSuccess(books))\r\n      .catch(error => getTopFailure(error));\r\n  }\r\n\r\n  render() {\r\n    const { books, loading, error } = this.props;\r\n\r\n    if (loading) {\r\n      return <CenterLoading />;\r\n    }\r\n\r\n    if (error) {\r\n      return <PageError title={error} />;\r\n    }\r\n\r\n    return (\r\n      <S.Container>\r\n        <TopBooksList topLikes={true} books={books[0]} />\r\n        <TopBooksList topLikes={false} books={books[1]} />\r\n      </S.Container>\r\n    );\r\n  }\r\n}\r\n\r\nHomePage.propTypes = {\r\n  books: PropTypes.arrayOf(\r\n    PropTypes.arrayOf(\r\n      PropTypes.shape({\r\n        authors: PropTypes.string.isRequired,\r\n        average_rating: PropTypes.number.isRequired,\r\n        goodreadsId: PropTypes.string.isRequired,\r\n        image_url: PropTypes.string.isRequired,\r\n        title: PropTypes.string.isRequired,\r\n        _id: PropTypes.string\r\n      }).isRequired\r\n    ).isRequired\r\n  ).isRequired,\r\n  getTop: PropTypes.func.isRequired,\r\n  getTopSuccess: PropTypes.func.isRequired,\r\n  getTopFailure: PropTypes.func.isRequired,\r\n  loading: PropTypes.bool.isRequired\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    books: allBooksSelector(state),\r\n    loading: state.books.loading,\r\n    error: state.books.error\r\n  };\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { getTop, getTopSuccess, getTopFailure }\r\n)(HomePage);\r\n","import axios from 'axios';\r\n\r\nexport default (token = null) => {\r\n  if (token) {\r\n    axios.defaults.headers.common.authorization = `Bearer ${token}`;\r\n  } else {\r\n    delete axios.defaults.headers.common.authorization\r\n  }\r\n}\r\n","import { USER_LOGGED_IN, USER_LOGGED_OUT } from \"../types\";\r\nimport api from \"../api\";\r\nimport setAuthorizationHeader from \"../utils/set-authorization-header\";\r\n\r\nexport const userLoggedIn = user => ({\r\n  type: USER_LOGGED_IN,\r\n  user\r\n});\r\n\r\nexport const userLoggedOut = () => ({\r\n  type: USER_LOGGED_OUT\r\n});\r\n\r\nexport const login = credentials => dispatch =>\r\n  api.user.login(credentials).then(user => {\r\n    localStorage.bookwormJWT = user.token;\r\n    setAuthorizationHeader(user.token);\r\n    dispatch(userLoggedIn({ ...user, loaded: true }));\r\n  });\r\n\r\nexport const logout = () => dispatch => {\r\n  localStorage.removeItem(\"bookwormJWT\");\r\n  setAuthorizationHeader();\r\n  dispatch(userLoggedOut());\r\n};\r\n\r\nexport const confirm = token => dispatch =>\r\n  api.user.confirm(token).then(user => {\r\n    localStorage.bookwormJWT = user.token;\r\n    dispatch(userLoggedIn(user));\r\n  });\r\n\r\nexport const resetPasswordRequest = ({ email }) => () =>\r\n  api.user.resetPasswordRequest(email);\r\n\r\nexport const validateToken = token => () => api.user.validateToken(token);\r\n\r\nexport const resetPassword = data => () => api.user.resetPassword(data);\r\n","export default function createErrorObj(arr) {\r\n  const errorObj = {};\r\n  for (let i = 0; i < arr.length; i++) {\r\n    const { key } = arr[i].context;\r\n    errorObj[key] = arr[i].message;\r\n  }\r\n  return errorObj;\r\n}\r\n\r\n\r\n","import Joi from \"joi\";\r\nimport createErrorObj from \"./helper\";\r\n\r\nexport const loginValidation = state => {\r\n  const schema = Joi.object().keys({\r\n    email: Joi.string()\r\n      .email()\r\n      .required()\r\n      .error(errors => {\r\n        const firstError = errors[0];\r\n        switch (firstError.type) {\r\n          case \"any.empty\":\r\n          case \"any.required\":\r\n            firstError.message = \"Email should not be empty.\";\r\n            break;\r\n          case \"string.email\":\r\n            firstError.message = \"Email should have @\";\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n        return firstError;\r\n      })\r\n      .optional(),\r\n\r\n    password: Joi.string()\r\n      .required()\r\n      .error(() => '\"Password should not be empty.')\r\n      .optional()\r\n  });\r\n\r\n  const result = Joi.validate(state, schema, { abortEarly: false });\r\n  return result.error === null ? {} : createErrorObj(result.error.details);\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst InlineError = ({ text }) => {\r\n  return <span style={{ color: '#ff4040' }}>{ text }</span>\r\n};\r\n\r\nInlineError.propTypes = {\r\n  text: PropTypes.string.isRequired\r\n};\r\n\r\nexport default InlineError;\r\n","import styled from \"styled-components\";\r\n\r\nimport { wordsColorButton, accentColorButton } from \"../../../style-constants\";\r\n\r\nexport const FormField = styled.div`\r\n  margin: 2em 0;\r\n  text-align: center;\r\n`;\r\n\r\nexport const FormInput = styled.input`\r\n  width: 90%;\r\n  height: 2.5em;\r\n  font-size: 1em;\r\n  padding: 0 0.8em;\r\n`;\r\n\r\nexport const LoginButton = styled.button`\r\n  width: 100%;\r\n   padding: 0.75em;\r\n   margin-top: 2em;\r\n   color: ${wordsColorButton};\r\n   background-color: ${accentColorButton};\r\n   font-size: 1em;\r\n   font-weight: 600;\r\n   border: none;\r\n   cursor: pointer;\r\n`;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { loginValidation } from \"../../../utils/validation/login-validation\";\r\n\r\nimport InlineError from '../../messages/inline-error';\r\n\r\nimport * as S from \"./style\";\r\n\r\nclass LoginForm extends Component {\r\n\r\n  state = {\r\n    data: {\r\n      email: '',\r\n      password: ''\r\n    },\r\n    errors: {}\r\n  };\r\n\r\n  onChange = e => {\r\n    const { data } = this.state;\r\n    this.setState({\r\n      data: {\r\n        ...data,\r\n        [e.target.name]: e.target.value\r\n      }\r\n    })\r\n  };\r\n\r\n  onSubmit = e => {\r\n    e.preventDefault();\r\n    const { data } = this.state;\r\n    const errors = loginValidation(data);\r\n    this.setState({\r\n      errors\r\n    });\r\n\r\n    if (Object.keys(errors).length === 0) {\r\n      this.props\r\n        .submit(data)\r\n        .catch(err => {\r\n          this.setState({\r\n            errors: err.response.data.errors\r\n          });\r\n        });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { data, errors } = this.state;\r\n    return (\r\n      <form onSubmit={ this.onSubmit }>\r\n        <S.FormField>\r\n          <S.FormInput\r\n            type=\"email\"\r\n            id=\"email\"\r\n            name=\"email\"\r\n            placeholder=\"Enter your email\"\r\n            value={data.email}\r\n            onChange={this.onChange}\r\n          />\r\n          {errors.email && <InlineError text={ errors.email } />}\r\n        </S.FormField>\r\n        <S.FormField>\r\n          <S.FormInput\r\n            type=\"password\"\r\n            id=\"password\"\r\n            name=\"password\"\r\n            placeholder=\"Enter your password\"\r\n            value={data.password}\r\n            onChange={this.onChange}\r\n          />\r\n          {errors.password && <InlineError text={ errors.password } />}\r\n        </S.FormField>\r\n        <S.LoginButton>Login</S.LoginButton>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nLoginForm.propTypes = {\r\n  submit: PropTypes.func.isRequired\r\n};\r\n\r\nexport default LoginForm;\r\n","import styled from \"styled-components\";\r\n\r\nimport { accentColorButton, headerBackground, wordsColorButton, boxShadowButton } from \"../../../style-constants\";\r\n\r\nexport const Container = styled.div`\r\n  width: 400px;\r\n  height: 430px;\r\n  \r\n  padding: 1em 2em;\r\n  position: absolute;\r\n    \r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  margin: auto;\r\n  \r\n  background: #FFFFFF;\r\n  box-shadow: ${boxShadowButton};\r\n`;\r\n\r\nexport const Header = styled.h2`\r\n   color: ${accentColorButton};\r\n   margin-bottom: 3em;\r\n   font-size: 1.25em;\r\n`;\r\n\r\nexport const SingUp = styled.div`\r\n  background-color: ${headerBackground};\r\n  color: ${wordsColorButton};\r\n  margin: 1em 0;\r\n  padding: 0.5em;\r\n  text-align: center;\r\n`;\r\n\r\nexport const ForgotPassword = styled.div`\r\n  text-align: center;\r\n  margin: 0.5em;\r\n`;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { login } from \"../../../actions/auth\";\r\n\r\nimport LoginForm from \"../../forms/login-form/login-form\";\r\n\r\nimport * as S from \"./style\";\r\n\r\nclass LoginPage extends Component {\r\n  submit = data =>\r\n    this.props.login(data)\r\n      .then(() => this.props.history.push(\"/\"));\r\n\r\n  render() {\r\n    return (\r\n      <S.Container>\r\n        <S.Header>Login</S.Header>\r\n        <LoginForm submit={this.submit} />\r\n        <S.SingUp>\r\n          <Link\r\n            to=\"/signup\"\r\n            style={{\r\n              textDecoration: \"none\",\r\n              color: \"#FFFFFF\",\r\n              fontSize: \"1em\",\r\n              fontWeight: \"600\",\r\n              width: \"100%\",\r\n              height: \"100%\",\r\n              display: \"block\"\r\n            }}\r\n          >\r\n            Sign up\r\n          </Link>\r\n        </S.SingUp>\r\n        <S.ForgotPassword>\r\n          <Link\r\n            style={{\r\n              textDecoration: \"none\",\r\n              color: \"#414141\",\r\n              fontSize: \"0.8em\",\r\n            }}\r\n            to=\"/forgot_password\"\r\n          >\r\n            Forgot Password?\r\n          </Link>\r\n        </S.ForgotPassword>\r\n      </S.Container>\r\n    );\r\n  }\r\n}\r\n\r\nLoginPage.propTypes = {\r\n  history: PropTypes.shape({\r\n    push: PropTypes.func.isRequired\r\n  }).isRequired,\r\n  login: PropTypes.func.isRequired\r\n};\r\n\r\nexport default connect(\r\n  null,\r\n  { login }\r\n)(LoginPage);\r\n","import React from 'react';\r\nimport styled from \"styled-components\";\r\n\r\nconst ConfirmEmailMessage = () => (\r\n  <Container>\r\n    <Message>Please, verify your email to unlock awesomeness</Message>\r\n  </Container>\r\n);\r\n\r\nconst Container = styled.div`\r\n  border: 1px solid #b58105;\r\n  background-color: #fff8db;\r\n  text-align: center;\r\n  color: #b58105;\r\n  margin: 1em;\r\n`;\r\n\r\nconst Message = styled.p`\r\n  margin: 0.5em 0;\r\n`;\r\n\r\nexport default ConfirmEmailMessage;\r\n","import styled from \"styled-components\";\r\n\r\nimport { darkColorButton, boxShadowButton, wordsColorButton } from \"../../../style-constants\";\r\n\r\nexport const StyledButton = styled.button`\r\n  background-color: ${darkColorButton};\r\n    width: 100%;\r\n    padding: 0.6em 0;\r\n    font-size: 0.9em;\r\n    margin: 0.35em 0;\r\n    font-weight: 600;\r\n    color: ${wordsColorButton};\r\n    box-shadow: ${boxShadowButton};\r\n`;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { toastr } from \"react-redux-toastr\";\r\nimport { deleteBook, deleteBookInList } from \"../../../actions/books\";\r\n\r\nimport { StyledButton } from \"./style\";\r\n\r\nconst DeleteButton = ({ id, deleteBook, deleteBookInList, inList }) => {\r\n  const onSubmit = e => {\r\n    e.preventDefault();\r\n    (inList ? deleteBookInList(id) : deleteBook(id))\r\n      .then(() =>\r\n        toastr.success(\"Successful\", \"Changes installed successfully\")\r\n      )\r\n      .catch(error => toastr.error(\"Server Error\", error.response.data.error));\r\n  };\r\n\r\n  return <StyledButton onClick={onSubmit}>Delete</StyledButton>;\r\n};\r\n\r\nDeleteButton.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  deleteBook: PropTypes.func.isRequired,\r\n  inList: PropTypes.bool.isRequired\r\n};\r\n\r\nexport default connect(\r\n  null,\r\n  { deleteBook, deleteBookInList }\r\n)(DeleteButton);\r\n","import styled from \"styled-components\";\r\n\r\nimport { accentColorButton, boxShadowButton, wordsColorButton } from \"../../../style-constants\";\r\n\r\nexport const StyledButton = styled.button`\r\n  background-color: ${accentColorButton};\r\n    width: 100%;\r\n    padding: 0.6em 0;\r\n    font-size: 0.9em;\r\n    margin: 0.35em 0;\r\n    font-weight: 600;\r\n    color: ${wordsColorButton};\r\n    box-shadow: ${boxShadowButton};\r\n`;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  addLike,\r\n  deleteLike,\r\n  addLikeInList,\r\n  deleteLikeInList\r\n} from \"../../../actions/books\";\r\n\r\nimport { StyledButton } from \"./style\";\r\nimport { toastr } from \"react-redux-toastr\";\r\n\r\nconst LikeButton = ({\r\n  id,\r\n  likeStatus,\r\n  addLike,\r\n  deleteLike,\r\n  inList,\r\n  deleteLikeInList,\r\n  addLikeInList\r\n}) => {\r\n  const onSubmit = e => {\r\n    e.preventDefault();\r\n    if (inList) {\r\n      (likeStatus ? deleteLikeInList(id) : addLikeInList(id))\r\n        .then(() => toastr.success(\"Successful\", \"Changes installed successfully\"))\r\n        .catch(error => toastr.error(\"Server Error\", error.response.data.error))\r\n    } else {\r\n      (likeStatus ? deleteLike(id) : addLike(id))\r\n        .then(() => toastr.success(\"Successful\", \"Changes installed successfully\"))\r\n        .catch(error => toastr.error(\"Server Error\", error.response.data.error))\r\n    }\r\n  };\r\n\r\n  return (\r\n    <StyledButton onClick={onSubmit}>\r\n      {likeStatus ? \"Dislike\" : \"Like\"}\r\n    </StyledButton>\r\n  );\r\n};\r\n\r\nLikeButton.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  likeStatus: PropTypes.bool.isRequired,\r\n  addLike: PropTypes.func.isRequired,\r\n  addLikeInList: PropTypes.func.isRequired,\r\n  deleteLike: PropTypes.func.isRequired,\r\n  deleteLikeInList: PropTypes.func.isRequired,\r\n  inList: PropTypes.bool.isRequired\r\n};\r\n\r\nexport default connect(\r\n  null,\r\n  { addLike, deleteLike, addLikeInList, deleteLikeInList }\r\n)(LikeButton);\r\n","import styled from \"styled-components\";\r\n\r\nimport { accentColorButton, boxShadowButton, wordsColorButton } from \"../../../style-constants\";\r\n\r\n\r\nexport const StyledStat = styled.div`\r\n    text-align: center;\r\n    font-size: 0.8em;\r\n    margin-bottom: 1.25em;\r\n`;\r\n\r\nexport const StyledButton = styled.button`\r\n  background-color: ${accentColorButton};\r\n  width: 100%;\r\n  padding: 0.8em 0;\r\n  font-size: 0.75em;\r\n  margin: 0.35em 0;\r\n  font-weight: 600;\r\n  color: ${wordsColorButton};\r\n  box-shadow: ${boxShadowButton};\r\n`;\r\n\r\nexport const StyledProgress = styled.progress`\r\n  width: 100%;\r\n`;\r\n\r\nexport const StyledInput = styled.input`\r\n  width: 2.5em;\r\n  margin: 0.2em 0;\r\n`;\r\n\r\nexport const StyledDiv = styled.div`\r\n  font-size: 0.8em;\r\n  margin-bottom: 1em;\r\n  text-align: center;\r\n`;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { toastr } from 'react-redux-toastr';\r\nimport {\r\n  updateBookProgress,\r\n  updateBookProgressInList\r\n} from \"../../../actions/books\";\r\n\r\nimport {\r\n  StyledStat,\r\n  StyledButton,\r\n  StyledProgress,\r\n  StyledInput,\r\n  StyledDiv\r\n} from \"./style\";\r\n\r\nclass ReadProgressWidget extends Component {\r\n  state = {\r\n    visibilityProgress: false\r\n  };\r\n\r\n  onChange = e => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  saveProgressClick = e => {\r\n    e.preventDefault();\r\n    const {\r\n      pages,\r\n      goodreadsId,\r\n      updateBookProgress,\r\n      inList,\r\n      updateBookProgressInList\r\n    } = this.props;\r\n    const readPages = parseInt(this.state.readPages);\r\n\r\n    if ( isNaN(readPages) || readPages < 0 || readPages > pages ) {\r\n      toastr.error('Error', \"Invalid value\");\r\n      return\r\n    } else {\r\n      if (inList) {\r\n        updateBookProgressInList(readPages, goodreadsId)\r\n          .then(() => {\r\n            this.setState({ visibilityProgress: false });\r\n            toastr.success(\"Successful\", \"Changes installed successfully\");\r\n          })\r\n          .catch(error =>\r\n            toastr.error('Server Error', error.response.data.error));\r\n      } else {\r\n        updateBookProgress(readPages, goodreadsId).then(() => {\r\n          this.setState({ visibilityProgress: false });\r\n          toastr.success(\"Successful\", \"Changes installed successfully\");\r\n        })\r\n          .catch(error =>\r\n            toastr.error('Server Error', error.response.data.error));\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { pages, readPages } = this.props;\r\n    const { visibilityProgress } = this.state;\r\n    const value = readPages || 0;\r\n    return visibilityProgress ? (\r\n      <div>\r\n        <StyledDiv>\r\n          <span>Currently on </span>\r\n          <StyledInput\r\n            type=\"text\"\r\n            name=\"readPages\"\r\n            id=\"readPages\"\r\n            defaultValue={value}\r\n            onChange={this.onChange}\r\n          />\r\n          <span>of {pages}</span>\r\n        </StyledDiv>\r\n\r\n        <StyledButton onClick={this.saveProgressClick}>Save</StyledButton>\r\n      </div>\r\n    ) : (\r\n      <div>\r\n        <StyledProgress value={value} max={pages} />\r\n        <StyledStat>\r\n          {value}/{pages}\r\n        </StyledStat>\r\n        <StyledButton\r\n          onClick={() => this.setState({ visibilityProgress: true })}\r\n        >\r\n          Update progress\r\n        </StyledButton>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nReadProgressWidget.propTypes = {\r\n  pages: PropTypes.number.isRequired,\r\n  readPages: PropTypes.number.isRequired,\r\n  goodreadsId: PropTypes.string.isRequired,\r\n  updateBookProgressInList: PropTypes.func.isRequired,\r\n  updateBookProgress: PropTypes.func.isRequired,\r\n  inList: PropTypes.bool.isRequired\r\n};\r\n\r\nexport default connect(\r\n  null,\r\n  { updateBookProgress, updateBookProgressInList }\r\n)(ReadProgressWidget);\r\n","import styled from \"styled-components\";\r\n\r\nexport const StyledArticle = styled.article`\r\n  width: 510px;\r\n  height: 230px;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n`;\r\n\r\nexport const StyledLeft = styled.div`\r\n  width: 100px;\r\n`;\r\n\r\nexport const StyledCover = styled.img`\r\n  width: 100px;\r\n  height: 150px;\r\n  margin-bottom: 0.9em;\r\n`;\r\n\r\nexport const StyledCenter = styled.div`\r\n  width: 220px;\r\n  margin: 0 15px;\r\n`;\r\n\r\nexport const StyledTitle = styled.h4`\r\n  margin: 0;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n`;\r\n\r\nexport const StyledAuthor = styled.div`\r\n  margin: 0.35em 0;\r\n  font-size: 0.85em;\r\n`;\r\n\r\nexport const StyledRating = styled.div`\r\n  position: relative;\r\n  margin-bottom: 0.4em;\r\n`;\r\n\r\nexport const StyledRatingNum = styled.span`\r\n  position: absolute;\r\n  top: 2px;\r\n  padding-left: 0.4em;\r\n`;\r\n\r\nexport const StyledButtonsDiv = styled.div`\r\n  text-align: center;\r\n  margin-top: 1.75em;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: space-around;\r\n`;\r\n\r\nexport const StyledButtonItem = styled.div`\r\n  width: 40%;\r\n`;\r\n\r\nexport const StyledRight = styled.div`\r\n  margin-rigth: 25px;\r\n  width: 120px;\r\n  text-align: center\r\n`;\r\n\r\nexport const StyledProgressH5 = styled.h5`\r\n  margin-top: 0.85em;\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nimport { accentColorButton, boxShadowButton, wordsColorButton } from \"../../../style-constants\";\r\n\r\nexport const StyledButton = styled.button`\r\n  background-color: ${accentColorButton};\r\n  width: 100%;\r\n  padding: 0.6em 0;\r\n  font-size: 0.9em;\r\n  margin: 0.35em 0;\r\n  font-weight: 600;\r\n  color: ${wordsColorButton};\r\n  box-shadow: ${boxShadowButton};\r\n`;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { toastr } from \"react-redux-toastr\";\r\nimport { readBook, readBookInList } from \"../../../actions/books\";\r\n\r\nimport { StyledButton } from './style';\r\n\r\nconst ReadButton = ({ book, readBook, readBookInList, inList }) => {\r\n  const onSubmit = e => {\r\n    e.preventDefault();\r\n    (inList ? readBookInList(book) : readBook(book))\r\n      .then(() => toastr.success(\"Successful\", \"Changes installed successfully\"))\r\n      .catch(error => toastr.error(\"Server Error\", error.response.data.error));\r\n  };\r\n\r\n  return <StyledButton onClick={onSubmit}>Read</StyledButton>;\r\n};\r\n\r\nReadButton.propTypes = {\r\n  book: PropTypes.shape({\r\n    authors: PropTypes.string.isRequired,\r\n    average_rating: PropTypes.string.isRequired,\r\n    goodreadsId: PropTypes.string.isRequired,\r\n    image_url: PropTypes.string.isRequired,\r\n    likeStatus: PropTypes.bool.isRequired,\r\n    pages: PropTypes.string.isRequired,\r\n    readPages: PropTypes.number,\r\n    title: PropTypes.string.isRequired,\r\n    _id: PropTypes.string\r\n  }).isRequired,\r\n  createBook: PropTypes.func.isRequired,\r\n  inList: PropTypes.bool.isRequired\r\n};\r\n\r\nexport default connect(\r\n  null,\r\n  { readBook, readBookInList }\r\n)(ReadButton);\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Rating from \"react-rating\";\r\n\r\nimport DeleteButton from \"../../buttons/delete-button/delete-button\";\r\nimport LikeButton from \"../../buttons/like-button/like-button\";\r\nimport ReadProgressWidget from \"../../widgets/read-progress-widget/read-progress-widget\";\r\n\r\nimport { StyledArticle, StyledLeft, StyledCover, StyledCenter, StyledRight, StyledTitle, StyledAuthor, StyledRating, StyledRatingNum, StyledButtonsDiv, StyledProgressH5, StyledButtonItem } from \"./style\";\r\n\r\nimport starBorder from \"../../../img/star_border.png\";\r\nimport star from \"../../../img/star.png\";\r\nimport ReadButton from \"../../buttons/read-button/read-button\";\r\n\r\nclass UserBookItem extends Component {\r\n\r\n  render() {\r\n    const { book } = this.props;\r\n    return (\r\n      <StyledArticle>\r\n        <StyledLeft>\r\n          <StyledCover src={book.image_url} alt=\"Cover\"/>\r\n        </StyledLeft>\r\n        <StyledCenter>\r\n          <StyledTitle>{book.title}</StyledTitle>\r\n          <StyledAuthor>{book.authors}</StyledAuthor>\r\n          <StyledRating>\r\n            <Rating\r\n              initialRating={book.average_rating}\r\n              emptySymbol={<img src={starBorder} alt=\"star\" />}\r\n              fullSymbol={<img src={star} alt=\"star\" />}\r\n              readonly\r\n            />\r\n            <StyledRatingNum>{book.average_rating}</StyledRatingNum>\r\n          </StyledRating>\r\n          <StyledButtonsDiv>\r\n            <StyledButtonItem>\r\n              {book.readStatus\r\n                ? <DeleteButton id={book.goodreadsId} inList={true} />\r\n                : <ReadButton book={book} inList={true} />\r\n              }\r\n            </StyledButtonItem>\r\n            <StyledButtonItem>\r\n              <LikeButton\r\n                id={book.goodreadsId}\r\n                likeStatus={book.likeStatus}\r\n                inList={true}\r\n              />\r\n            </StyledButtonItem>\r\n          </StyledButtonsDiv>\r\n        </StyledCenter>\r\n        <StyledRight>\r\n          <StyledProgressH5>Your progress</StyledProgressH5>\r\n          <ReadProgressWidget\r\n            pages={book.pages}\r\n            readPages={book.readPages}\r\n            goodreadsId={book.goodreadsId}\r\n            inList={true}\r\n          />\r\n        </StyledRight>\r\n      </StyledArticle>\r\n    )\r\n  }\r\n}\r\n\r\nUserBookItem.propTypes = {\r\n  book: PropTypes.shape({\r\n    authors: PropTypes.string.isRequired,\r\n    average_rating: PropTypes.number.isRequired,\r\n    goodreadsId: PropTypes.string.isRequired,\r\n    image_url: PropTypes.string.isRequired,\r\n    likeStatus: PropTypes.bool.isRequired,\r\n    pages: PropTypes.number.isRequired,\r\n    readPages: PropTypes.number.isRequired,\r\n    title: PropTypes.string.isRequired,\r\n    _id: PropTypes.string\r\n  }).isRequired\r\n};\r\n\r\nexport default UserBookItem;\r\n","import styled from \"styled-components\";\r\n\r\nimport { sectionWidth } from \"../../../style-constants\";\r\n\r\nexport const StyledContainer = styled.section`\r\n  margin: 3em auto 0 auto;\r\n  width: ${sectionWidth};\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n`;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport UserBookItem from \"../../items/user-book-item/user-book-item\";\r\n\r\nimport { StyledContainer } from \"./style\";\r\n\r\nconst UserBooksList = ({ books }) => {\r\n\r\n  return (\r\n    <StyledContainer>\r\n      {books &&\r\n        books.map(item => (\r\n          <UserBookItem book={item} key={item._id}  />\r\n        ))}\r\n    </StyledContainer>\r\n  );\r\n};\r\n\r\nUserBooksList.propTypes = {\r\n  books: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      authors: PropTypes.string.isRequired,\r\n      average_rating: PropTypes.number.isRequired,\r\n      goodreadsId: PropTypes.string.isRequired,\r\n      image_url: PropTypes.string.isRequired,\r\n      likeStatus: PropTypes.bool.isRequired,\r\n      readStatus: PropTypes.bool.isRequired,\r\n      pages: PropTypes.number.isRequired,\r\n      readPages: PropTypes.number.isRequired,\r\n      title: PropTypes.string.isRequired,\r\n      _id: PropTypes.string\r\n    }).isRequired\r\n  ).isRequired,\r\n};\r\n\r\nexport default UserBooksList;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { allBooksSelector } from \"../../../reducers/books\";\r\nimport { getUserBooks, getUserBooksSuccess, getUserBooksFailure, changeFilters } from \"../../../actions/books\";\r\n\r\nimport ConfirmEmailMessage from \"../../messages/confirm-email-message\";\r\nimport UserBooksList from \"../../lists/user-books-list/user-books-list\";\r\nimport CenterLoading from \"../../loaders/center-loader/center-loader\";\r\n\r\nclass DashboardPage extends Component {\r\n\r\n  componentDidMount() {\r\n    const { getUserBooks, getUserBooksSuccess, getUserBooksFailure } = this.props;\r\n    getUserBooks()\r\n      .then(books => getUserBooksSuccess(books))\r\n      .catch(error => getUserBooksFailure(error));\r\n  }\r\n\r\n  filterBooks = (books, filter) => {\r\n    switch (filter) {\r\n      case 'read':\r\n        return books.filter(book => !book.likeStatus);\r\n      case 'like':\r\n        return books.filter(book => book.likeStatus);\r\n      default:\r\n        return books;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { isConfirmed, books, loading, filter, changeFilters } = this.props;\r\n\r\n    const filtersBtn = [\r\n      { text: 'All', id: 'all', },\r\n      { text: 'Read', id: 'read', },\r\n      { text: 'Like', id: 'like' }\r\n    ];\r\n    const filterBooks = this.filterBooks(books, filter);\r\n    if (loading) {\r\n      return <CenterLoading />;\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        {!isConfirmed && <ConfirmEmailMessage />}\r\n        <h2>My books</h2>\r\n        {filtersBtn.map(btn => (\r\n          <button key={btn.id} onClick={() => changeFilters(btn.id)}>\r\n            {btn.text}\r\n          </button>\r\n          ))}\r\n        {books.length === 0 ? (\r\n          <h3>No books(</h3>\r\n        ) : (\r\n          <UserBooksList books={filterBooks} />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nDashboardPage.propTypes = {\r\n  isConfirmed: PropTypes.bool.isRequired,\r\n  books: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      authors: PropTypes.string.isRequired,\r\n      average_rating: PropTypes.number.isRequired,\r\n      goodreadsId: PropTypes.string.isRequired,\r\n      image_url: PropTypes.string.isRequired,\r\n      likeStatus: PropTypes.bool.isRequired,\r\n      pages: PropTypes.number.isRequired,\r\n      readPages: PropTypes.number.isRequired,\r\n      title: PropTypes.string.isRequired,\r\n      _id: PropTypes.string\r\n    }).isRequired\r\n  ).isRequired,\r\n  loading: PropTypes.bool.isRequired,\r\n  error: PropTypes.string.isRequired,\r\n  getUserBooks: PropTypes.func.isRequired\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    books: allBooksSelector(state),\r\n    loading: state.books.loading,\r\n    error: state.books.error,\r\n    filter: state.books.filter,\r\n    isConfirmed: !!state.user.confirmed\r\n  };\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { getUserBooks, getUserBooksSuccess, getUserBooksFailure, changeFilters }\r\n)(DashboardPage);\r\n","import { USER_FETCHED } from \"../types\";\r\nimport api from \"../api\";\r\nimport { userLoggedIn } from \"./auth\";\r\n\r\nexport const userFetched = user => ({\r\n  type: USER_FETCHED,\r\n  user\r\n});\r\n\r\nexport const signup = data => dispatch =>\r\n  api.user.signup(data).then(user => {\r\n    localStorage.bookwormJWT = user.token;\r\n    dispatch(userLoggedIn(user));\r\n  });\r\n\r\nexport const fetchCurrentUser = () => dispatch =>\r\n  api.user.fetchCurrentUser().then(user => dispatch(userFetched(user)));\r\n","import Joi from \"joi\";\r\nimport createErrorObj from \"./helper\";\r\n\r\nexport const signUpValidation = state => {\r\n  const schema = Joi.object().keys({\r\n    username: Joi.string()\r\n      .min(4)\r\n      .max(20)\r\n      .regex(/^[a-zA-Z0-9.-]+$/)\r\n      .required()\r\n      .error(errors => {\r\n        const firstError = errors[0];\r\n        switch (firstError.type) {\r\n          case \"any.empty\":\r\n          case \"any.required\":\r\n            firstError.message = \"The username should not be empty.\";\r\n            break;\r\n          case \"string.min\":\r\n            firstError.message = `The username should have at least ${firstError.context.limit} characters`;\r\n            break;\r\n          case \"string.regex.base\":\r\n            firstError.message = \"The username may contain letters or numbers.\";\r\n            break;\r\n          case \"string.max\":\r\n            firstError.message = `The username should have at most ${firstError.context.limit} characters`;\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n        return firstError;\r\n      }),\r\n\r\n    email: Joi.string()\r\n      .email()\r\n      .min(16)\r\n      .max(40)\r\n      .required()\r\n      .error(errors => {\r\n        const firstError = errors[0];\r\n        switch (firstError.type) {\r\n          case \"any.empty\":\r\n          case \"any.required\":\r\n            firstError.message = \"Email should not be empty.\";\r\n            break;\r\n          case \"string.email\":\r\n            firstError.message = \"Email should have @\";\r\n            break;\r\n          case \"string.min\":\r\n            firstError.message = `Email should have at least ${firstError.context.limit} characters`;\r\n            break;\r\n          case \"string.max\":\r\n            firstError.message = `Email should have at most ${firstError.context.limit} characters`;\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n        return firstError;\r\n      })\r\n      .optional(),\r\n\r\n    password: Joi.string()\r\n      .min(6)\r\n      .max(20)\r\n      .required()\r\n      .error(errors => {\r\n        const firstError = errors[0];\r\n        switch (firstError.type) {\r\n          case \"any.empty\":\r\n          case \"any.required\":\r\n            firstError.message = \"Password should not be empty.\";\r\n            break;\r\n          case \"string.min\":\r\n            firstError.message = `Password should have at least ${firstError.context.limit} characters`;\r\n            break;\r\n          case \"string.max\":\r\n            firstError.message = `Password should have at most ${firstError.context.limit} characters`;\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n        return firstError;\r\n      })\r\n      .optional()\r\n  });\r\n\r\n  const result = Joi.validate(state, schema, { abortEarly: false });\r\n  return result.error === null ? {} : createErrorObj(result.error.details);\r\n};\r\n","import styled from \"styled-components\";\r\n\r\nimport { wordsColorButton, accentColorButton } from \"../../../style-constants\";\r\n\r\nexport const Form = styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-content: space-around;\r\n`;\r\n\r\nexport const FormField = styled.div`\r\n  margin: 1em 0;\r\n  text-align: center;\r\n`;\r\n\r\nexport const FormInput = styled.input`\r\n  width: 90%;\r\n  height: 2.5em;\r\n  font-size: 1em;\r\n  padding: 0 0.8em;\r\n`;\r\n\r\nexport const SingUpButton = styled.button`\r\n   width: 100%;\r\n   padding: 0.75em;\r\n   margin-top: 2em;\r\n   color: ${wordsColorButton};\r\n   background-color: ${accentColorButton};\r\n   font-size: 1em;\r\n   font-weight: 600;\r\n   border: none;\r\n   cursor: pointer;\r\n`;\r\n\r\n\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { signUpValidation } from \"../../../utils/validation/signup-validation\";\r\n\r\nimport InlineError from \"../../messages/inline-error\";\r\n\r\nimport * as S from \"./style\";\r\n\r\nclass SingupForm extends Component {\r\n  state = {\r\n    data: {\r\n      username: \"\",\r\n      email: \"\",\r\n      password: \"\"\r\n    },\r\n    loading: false,\r\n    errors: {}\r\n  };\r\n\r\n  onSubmit = e => {\r\n    e.preventDefault();\r\n    const { data } = this.state;\r\n    const errors = signUpValidation(data);\r\n\r\n    if (Object.keys(errors).length === 0) {\r\n      this.setState({\r\n        loading: true\r\n      });\r\n      this.props.submit(data).catch(err => {\r\n        this.setState({\r\n          errors: err.response.data.errors,\r\n          loading: false\r\n        });\r\n      });\r\n    }\r\n\r\n    this.setState({ errors })\r\n  };\r\n\r\n  onChange = e => {\r\n    const { data } = this.state;\r\n    this.setState({\r\n      data: {\r\n        ...data,\r\n        [e.target.name]: e.target.value\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { data, errors } = this.state;\r\n\r\n    return (\r\n      <S.Form onSubmit={this.onSubmit}>\r\n        <S.FormField>\r\n          <S.FormInput\r\n            type=\"text\"\r\n            id=\"username\"\r\n            name=\"username\"\r\n            placeholder=\"Enter your username\"\r\n            value={data.username}\r\n            onChange={this.onChange}\r\n          />\r\n          {errors.username && <InlineError text={errors.username} />}\r\n        </S.FormField>\r\n        <S.FormField>\r\n          <S.FormInput\r\n            type=\"text\"\r\n            id=\"email\"\r\n            name=\"email\"\r\n            placeholder=\"Enter your email\"\r\n            value={data.email}\r\n            onChange={this.onChange}\r\n          />\r\n          {errors.email && <InlineError text={errors.email} />}\r\n        </S.FormField>\r\n        <S.FormField>\r\n          <S.FormInput\r\n            type=\"password\"\r\n            id=\"password\"\r\n            name=\"password\"\r\n            placeholder=\"Enter your password\"\r\n            value={data.password}\r\n            onChange={this.onChange}\r\n          />\r\n          {errors.password && <InlineError text={errors.password} />}\r\n        </S.FormField>\r\n        <S.SingUpButton>Sign up</S.SingUpButton>\r\n      </S.Form>\r\n    );\r\n  }\r\n}\r\n\r\nSingupForm.propTypes = {\r\n  submit: PropTypes.func.isRequired\r\n};\r\n\r\nexport default SingupForm;\r\n","import styled from \"styled-components\";\r\n\r\nimport { accentColorButton, boxShadowButton, headerBackground, wordsColorButton } from \"../../../style-constants\";\r\n\r\nexport const Container = styled.div`\r\n  width: 400px;\r\n  height: 500px;\r\n  \r\n  padding: 1em 2em;\r\n  position: absolute;\r\n    \r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  margin: auto;\r\n  \r\n  background: #FFFFFF;\r\n  box-shadow: ${boxShadowButton};\r\n`;\r\n\r\nexport const Header = styled.h2`\r\n   color: ${accentColorButton};\r\n   margin-bottom: 1.5em;\r\n   font-size: 1.25em;\r\n`;\r\n\r\nexport const SingUp = styled.div`\r\n  background-color: ${headerBackground};\r\n  color: ${wordsColorButton};\r\n  margin: 1em 0;\r\n  padding: 0.5em;\r\n  text-align: center;\r\n`;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from \"react-router-dom\";\r\nimport { signup } from '../../../actions/users';\r\n\r\nimport SignupForm from '../../forms/singup-form/signup-form';\r\n\r\nimport * as S from \"./style\";\r\n\r\nclass SignupPage extends Component {\r\n\r\n  submit = data =>\r\n    this.props.signup(data)\r\n      .then(() => {\r\n        this.props.history.push('/');\r\n      });\r\n\r\n  render() {\r\n    return (\r\n      <S.Container>\r\n        <S.Header>Sing up</S.Header>\r\n        <SignupForm submit={this.submit} />\r\n        <S.SingUp>\r\n          <Link\r\n            to=\"/login\"\r\n            style={{\r\n              textDecoration: \"none\",\r\n              color: \"#FFFFFF\",\r\n              fontSize: \"1em\",\r\n              fontWeight: \"600\",\r\n              width: \"100%\",\r\n              height: \"100%\",\r\n              display: \"block\"\r\n            }}\r\n          >\r\n            Login\r\n          </Link>\r\n        </S.SingUp>\r\n      </S.Container>\r\n    )\r\n  }\r\n}\r\n\r\nSignupPage.propTypes = {\r\n  history: PropTypes.shape({\r\n    push: PropTypes.func.isRequired\r\n  }).isRequired,\r\n  signup: PropTypes.func.isRequired\r\n};\r\n\r\nexport default connect(null, { signup })(SignupPage);\r\n","import styled from \"styled-components\";\r\n\r\nexport const ContainerSuccess = styled.div`\r\n  border: 1px solid #a3c293;\r\n  background-color: #fcfff5;\r\n  text-align: center;\r\n  color: #366836;\r\n  margin: 1em;\r\n`;\r\n\r\nexport const ContainerFailure = styled.div`\r\n  border: 1px solid #e0b4b4;\r\n  background-color: #fff6f6;\r\n  text-align: center;\r\n  color: #a95857;\r\n  margin: 1em;\r\n`;\r\n\r\nexport const ContainerLoading = styled.div`\r\n  border: 1px solid #b58105;\r\n  background-color: #fff8db;\r\n  text-align: center;\r\n  color: #b58105;\r\n  margin: 1em;\r\n`;\r\n\r\nexport const Message = styled.p`\r\n  margin: 0.5em 0;\r\n`;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { confirm } from '../../../actions/auth';\r\n\r\nimport * as S from \"./style\";\r\n\r\nclass ConfirmationPage extends Component {\r\n\r\n  state = {\r\n    loading: true,\r\n    success: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props\r\n      .confirm(this.props.match.params.token)\r\n      .then(() => {\r\n        this.setState({\r\n          loading: false,\r\n          success: true\r\n        })\r\n      })\r\n      .catch(() => {\r\n        this.setState({\r\n          loading: false,\r\n          success: false\r\n        })\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { loading, success } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        {loading && (\r\n          <S.ContainerLoading>\r\n            <S.Message>Validation your email...</S.Message>\r\n          </S.ContainerLoading>\r\n        )}\r\n\r\n        {!loading && success && (\r\n          <S.ContainerSuccess>\r\n            <S.Message>Thank you. Your account has been verified</S.Message>\r\n          </S.ContainerSuccess>\r\n        )}\r\n\r\n        {!loading &&\r\n        !success && (\r\n          <S.ContainerFailure>\r\n            <S.Message>Ooops. Invalid token it seems.</S.Message>\r\n          </S.ContainerFailure>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nConfirmationPage.propTypes = {\r\n  confirm: PropTypes.func.isRequired,\r\n  match: PropTypes.shape({\r\n    params: PropTypes.shape({\r\n      token: PropTypes.string.isRequired\r\n    }).isRequired\r\n  }).isRequired\r\n};\r\n\r\nexport default connect(null, { confirm })(ConfirmationPage);\r\n","import Joi from \"joi\";\r\nimport createErrorObj from \"./helper\";\r\n\r\nexport const forgotPasswordValidation = state => {\r\n  const schema = Joi.object().keys({\r\n    email: Joi.string()\r\n      .email()\r\n      .min(16)\r\n      .max(40)\r\n      .required()\r\n      .error(errors => {\r\n        const firstError = errors[0];\r\n        switch (firstError.type) {\r\n          case \"any.empty\":\r\n          case \"any.required\":\r\n            firstError.message = \"Email should not be empty.\";\r\n            break;\r\n          case \"string.email\":\r\n            firstError.message = \"Email should have @\";\r\n            break;\r\n          case \"string.min\":\r\n            firstError.message = `Email should have at least ${firstError.context.limit} characters`;\r\n            break;\r\n          case \"string.max\":\r\n            firstError.message = `Email should have at most ${firstError.context.limit} characters`;\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n        return firstError;\r\n      })\r\n      .optional()\r\n  });\r\n  const result = Joi.validate(state, schema, { abortEarly: false });\r\n  return result.error === null ? {} : createErrorObj(result.error.details);\r\n};\r\n","import styled from \"styled-components\";\r\nimport { accentColorButton, wordsColorButton } from \"../../../style-constants\";\r\n\r\nexport const FormField = styled.div`\r\n  margin: 2em 0;\r\n  text-align: center;\r\n`;\r\n\r\nexport const FormInput = styled.input`\r\n  width: 90%;\r\n  height: 2.5em;\r\n  font-size: 1em;\r\n  padding: 0 0.8em;\r\n`;\r\n\r\nexport const Button = styled.button`\r\n  width: 100%;\r\n   padding: 0.75em;\r\n   margin: 1.5em 0;\r\n   color: ${wordsColorButton};\r\n   background-color: ${accentColorButton};\r\n   font-size: 1em;\r\n   font-weight: 600;\r\n   border: none;\r\n   cursor: pointer;\r\n`;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { forgotPasswordValidation } from \"../../../utils/validation/forgot-password-validation\";\r\n\r\nimport InlineError from '../../messages/inline-error';\r\n\r\nimport { Button, FormInput, FormField } from \"./style\";\r\n\r\nclass ForgotPasswordForm extends Component {\r\n\r\n  state = {\r\n    data: {\r\n      email: '',\r\n    },\r\n    loading: false,\r\n    errors: {}\r\n  };\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { data } = this.state;\r\n    const errors = forgotPasswordValidation(data);\r\n    this.setState({\r\n      errors\r\n    });\r\n\r\n    if (Object.keys(errors).length === 0) {\r\n      this.setState({\r\n        loading: true\r\n      });\r\n      this.props\r\n        .submit(data)\r\n        .catch(err => {\r\n          this.setState({\r\n            errors: err.response.data.errors,\r\n            loading: false\r\n          });\r\n        });\r\n    }\r\n  };\r\n\r\n  onChange = e => {\r\n    const { data } = this.state;\r\n    this.setState({\r\n      data: {\r\n        ...data,\r\n        [e.target.name]: e.target.value\r\n      }\r\n    })\r\n  };\r\n\r\n  render() {\r\n    const { data, errors } = this.state;\r\n\r\n    return (\r\n      <form onSubmit={this.onSubmit}>\r\n        <FormField error={ !!errors.email }>\r\n          <FormInput\r\n            type=\"text\"\r\n            id=\"email\"\r\n            name=\"email\"\r\n            placeholder=\"Enter your email\"\r\n            value={data.email}\r\n            onChange={this.onChange}\r\n          />\r\n          {errors.email && <InlineError text={ errors.email } />}\r\n        </FormField>\r\n        <Button>Continue</Button>\r\n      </form>\r\n    )\r\n  }\r\n}\r\n\r\nForgotPasswordForm.propTypes = {\r\n  submit: PropTypes.func.isRequired\r\n};\r\n\r\nexport default ForgotPasswordForm;\r\n","import styled from \"styled-components\";\r\n\r\nimport { accentColorButton, boxShadowButton } from \"../../../style-constants\";\r\n\r\nexport const Container = styled.div`\r\n  width: 400px;\r\n  height: 275px;\r\n  \r\n  padding: 1em 2em;\r\n  position: absolute;\r\n    \r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  margin: auto;\r\n  \r\n  background: #FFFFFF;\r\n  box-shadow: ${boxShadowButton};\r\n`;\r\n\r\nexport const Header = styled.h2`\r\n   color: ${accentColorButton};\r\n   margin-bottom: 3em;\r\n   font-size: 1.25em;\r\n`;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Message } from 'semantic-ui-react';\r\nimport { connect } from 'react-redux';\r\nimport { resetPasswordRequest } from '../../../actions/auth';\r\n\r\nimport ForgotPasswordForm from '../../forms/forgot-password-form/forgot-password-form';\r\n\r\nimport { Container, Header } from \"./style\";\r\n\r\nclass ForgotPasswordPage extends Component {\r\n\r\n  state = {\r\n    success: false\r\n  };\r\n\r\n  submit = data =>\r\n    this.props\r\n      .resetPasswordRequest(data)\r\n      .then(() => {\r\n        this.setState({\r\n          success: true\r\n        })\r\n      });\r\n\r\n  render() {\r\n    return (\r\n      <Container>\r\n        {this.state.success ? (\r\n          <Message>Email has been sent.</Message>\r\n          ) : (\r\n            <>\r\n              <Header>Forgot password</Header>\r\n              <ForgotPasswordForm submit={this.submit} />\r\n            </>\r\n          )}\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nForgotPasswordPage.propTypes = {\r\n  resetPasswordRequest: PropTypes.func.isRequired\r\n};\r\n\r\nexport default connect(null, { resetPasswordRequest })(ForgotPasswordPage);\r\n","import Joi from \"joi\";\r\nimport createErrorObj from \"./helper\";\r\n\r\nexport const resetPasswordValidation = state => {\r\n  const schema = Joi.object().keys({\r\n    password: Joi.string()\r\n      .min(6)\r\n      .max(20)\r\n      .required()\r\n      .error(errors => {\r\n        const firstError = errors[0];\r\n        switch (firstError.type) {\r\n          case \"any.empty\":\r\n          case \"any.required\":\r\n            firstError.message = \"Password should not be empty.\";\r\n            break;\r\n          case \"string.min\":\r\n            firstError.message = `Password should have at least ${firstError.context.limit} characters`;\r\n            break;\r\n          case \"string.max\":\r\n            firstError.message = `Password should have at most ${firstError.context.limit} characters`;\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n        return firstError;\r\n      })\r\n      .optional(),\r\n\r\n    passwordConfirmation: Joi.string()\r\n      .min(6)\r\n      .max(20)\r\n      .required()\r\n      .error(errors => {\r\n        const firstError = errors[0];\r\n        switch (firstError.type) {\r\n          case \"any.empty\":\r\n          case \"any.required\":\r\n            firstError.message = \"Password should not be empty.\";\r\n            break;\r\n          case \"string.min\":\r\n            firstError.message = `Password should have at least ${firstError.context.limit} characters`;\r\n            break;\r\n          case \"string.max\":\r\n            firstError.message = `Password should have at most ${firstError.context.limit} characters`;\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n        return firstError;\r\n      })\r\n      .optional()\r\n  });\r\n\r\n  const result = Joi.validate(state, schema, { abortEarly: false, allowUnknown: true });\r\n  return result.error === null ? {} : createErrorObj(result.error.details);\r\n};\r\n","import styled from \"styled-components\";\r\nimport { accentColorButton, boxShadowButton, wordsColorButton } from \"../../../style-constants\";\r\n\r\nexport const Container = styled.form`\r\n  width: 400px;\r\n  height: 330px;\r\n  \r\n  padding: 1em 2em;\r\n  position: absolute;\r\n    \r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  margin: auto;\r\n  \r\n  background: #FFFFFF;\r\n  box-shadow: ${boxShadowButton};\r\n`;\r\n\r\nexport const Header = styled.h2`\r\n   color: ${accentColorButton};\r\n   margin-bottom: 3em;\r\n   font-size: 1.25em;\r\n`;\r\n\r\nexport const FormField = styled.div`\r\n  margin: 2em 0;\r\n  text-align: center;\r\n`;\r\n\r\nexport const FormInput = styled.input`\r\n  width: 90%;\r\n  height: 2.5em;\r\n  font-size: 1em;\r\n  padding: 0 0.8em;\r\n`;\r\n\r\nexport const Button = styled.button`\r\n  width: 100%;\r\n   padding: 0.75em;\r\n   margin: 1.5em 0;\r\n   color: ${wordsColorButton};\r\n   background-color: ${accentColorButton};\r\n   font-size: 1em;\r\n   font-weight: 600;\r\n   border: none;\r\n   cursor: pointer;\r\n`;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { resetPasswordValidation } from \"../../../utils/validation/reset-password-validation\";\r\nimport InlineError from \"../../messages/inline-error\";\r\n\r\nimport * as S from \"./style\";\r\n\r\nclass ResetPasswordForm extends Component {\r\n  state = {\r\n    data: {\r\n      token: this.props.token,\r\n      password: \"\",\r\n      passwordConfirmation: \"\"\r\n    },\r\n    errors: {}\r\n  };\r\n\r\n  onSubmit = e => {\r\n    e.preventDefault();\r\n    const { data } = this.state;\r\n    const errors = resetPasswordValidation(data);\r\n\r\n    if (data.password !== data.passwordConfirmation) {\r\n      errors.passwordConfirmation = \"Password must match\";\r\n    }\r\n\r\n    this.setState({\r\n      errors\r\n    });\r\n\r\n    if (Object.keys(errors).length === 0) {\r\n      this.props.submit(data).catch(err => {\r\n        this.setState({\r\n          errors: err.response.data.errors\r\n        });\r\n      });\r\n    }\r\n  };\r\n\r\n  onChange = e => {\r\n    const { data } = this.state;\r\n    this.setState({\r\n      data: {\r\n        ...data,\r\n        [e.target.name]: e.target.value\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { data, errors } = this.state;\r\n\r\n    return (\r\n      <S.Container onSubmit={this.onSubmit}>\r\n        <S.Header> Reset password </S.Header>\r\n        <S.FormField>\r\n          <S.FormInput\r\n            type=\"password\"\r\n            id=\"password\"\r\n            name=\"password\"\r\n            placeholder=\"Your new password\"\r\n            value={data.password}\r\n            onChange={this.onChange}\r\n          />\r\n          {errors.password && <InlineError text={errors.password} />}\r\n        </S.FormField>\r\n\r\n        <S.FormField>\r\n          <S.FormInput\r\n            type=\"password\"\r\n            id=\"passwordConfirmation\"\r\n            name=\"passwordConfirmation\"\r\n            placeholder=\"Type it again, please\"\r\n            value={data.passwordConfirmation}\r\n            onChange={this.onChange}\r\n          />\r\n          {errors.passwordConfirmation && (\r\n            <InlineError text={errors.passwordConfirmation} />\r\n          )}\r\n        </S.FormField>\r\n        <S.Button>Reset</S.Button>\r\n      </S.Container>\r\n    );\r\n  }\r\n}\r\n\r\nResetPasswordForm.propTypes = {\r\n  submit: PropTypes.func.isRequired,\r\n  token: PropTypes.string.isRequired\r\n};\r\n\r\nexport default ResetPasswordForm;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { Message } from 'semantic-ui-react';\r\nimport ResetPasswordForm from '../forms/reset-password-form/reset-password-form';\r\nimport { validateToken, resetPassword } from '../../actions/auth';\r\n\r\nclass ResetPasswordPage extends Component {\r\n\r\n  state = {\r\n    loading: true,\r\n    success: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.validateToken(this.props.match.params.token)\r\n      .then(() => this.setState({\r\n        loading: false,\r\n        success: true\r\n      }))\r\n      .catch(() => this.setState({\r\n        loading: false,\r\n        success: false\r\n      }))\r\n  }\r\n\r\n  submit = data =>\r\n    this.props\r\n      .resetPassword(data)\r\n      .then(() => {\r\n        this.props.history.push('/login')\r\n      });\r\n\r\n  render() {\r\n    const { loading, success } = this.state;\r\n    const { token } = this.props.match.params;\r\n\r\n    return (\r\n      <div>\r\n        { loading && <Message>Loading</Message> }\r\n        { !loading && success && <ResetPasswordForm submit={this.submit} token={token} /> }\r\n        { !loading && !success && <Message>Invalid Token</Message> }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nResetPasswordPage.propTypes = {\r\n  validateToken: PropTypes.func.isRequired,\r\n  resetPassword: PropTypes.func.isRequired,\r\n  match: PropTypes.shape({\r\n    params: PropTypes.shape({\r\n      token: PropTypes.string.isRequired\r\n    }).isRequired\r\n  }).isRequired,\r\n  history: PropTypes.shape({\r\n    push: PropTypes.func.isRequired\r\n  }).isRequired\r\n};\r\n\r\nexport default connect(null, { validateToken, resetPassword })(ResetPasswordPage);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst UserRoute = ({ isAuthenticated, component: Component, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={props =>\r\n      isAuthenticated ? <Component {...props} /> : <Redirect to=\"/\" />\r\n    }\r\n  />\r\n);\r\n\r\nUserRoute.propTypes = {\r\n  component: PropTypes.object.isRequired,\r\n  isAuthenticated: PropTypes.bool.isRequired\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    isAuthenticated: !!state.user.email\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(UserRoute);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst GuestRoute = ({ isAuthenticated, component: Component, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={props =>\r\n      !isAuthenticated ? <Component {...props} /> : <Redirect to=\"/\" />\r\n    }\r\n  />\r\n);\r\n\r\nGuestRoute.propTypes = {\r\n  component: PropTypes.object.isRequired,\r\n  isAuthenticated: PropTypes.bool.isRequired\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    isAuthenticated: !!state.user.email\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(GuestRoute);\r\n","import styled from \"styled-components\";\r\n\r\nimport { border, searchColor } from \"../../../style-constants\";\r\n\r\nexport const StyledContainer = styled.div`\r\n    position: absolute;\r\n\r\n    display: inline;\r\n\r\n    width: 1.7em;\r\n    height: 1.5em;\r\n    padding: .1em 0;\r\n\r\n    text-align: center;\r\n\r\n    border: ${border};\r\n    border-left: none;\r\n`;\r\n\r\nexport const StyledSearchImg = styled.img`\r\n    position: absolute;\r\n\r\n    padding: .17em;\r\n\r\n    vertical-align: middle;\r\n\r\n    border: ${border};\r\n    border-left: none;\r\n`;\r\n\r\nexport const StyledSpinner = styled.svg`\r\n    width: 1.25em;\r\n    height: 1.5em;\r\n\r\n    animation: rotate 2s linear infinite;\r\n\r\n    stroke: ${searchColor};\r\n  \r\n    & .path {\r\n      animation: dash 1.5s ease-in-out infinite;\r\n      \r\n      stroke: hsl(210, 70, 75);\r\n      stroke-linecap: round;\r\n    }\r\n    \r\n    @keyframes rotate {\r\n    100% {\r\n      transform: rotate(360deg);\r\n      }\r\n    }\r\n  \r\n    @keyframes dash {\r\n      0% {\r\n        stroke-dasharray: 1, 150;\r\n        stroke-dashoffset: 0;\r\n      }\r\n      50% {\r\n        stroke-dasharray: 90, 150;\r\n        stroke-dashoffset: -35;\r\n      }\r\n      100% {\r\n        stroke-dasharray: 90, 150;\r\n        stroke-dashoffset: -124;\r\n      }\r\n    }  \r\n`;\r\n","import React from \"react\";\r\n\r\nimport searchImg from \"../../../img/search.png\";\r\nimport { StyledContainer, StyledSearchImg, StyledSpinner } from \"./style\";\r\n\r\nconst SearchLoading = ({ loading }) => {\r\n  return loading ? (\r\n    <StyledContainer>\r\n      <StyledSpinner viewBox=\"0 0 50 50\">\r\n        <circle\r\n          className=\"path\"\r\n          cx=\"25\"\r\n          cy=\"25\"\r\n          r=\"20\"\r\n          fill=\"none\"\r\n          strokeWidth=\"5\"\r\n        />\r\n      </StyledSpinner>\r\n    </StyledContainer>\r\n  ) : (\r\n    <StyledSearchImg src={searchImg} alt=\"Search\" />\r\n  );\r\n};\r\n\r\nexport default SearchLoading;\r\n","import styled from \"styled-components\";\r\n\r\nimport { border, headerBackground } from \"../../../style-constants\";\r\n\r\nexport const StyledContainer = styled.div`\r\n    display: flex;\r\n\r\n    height: 3.5em;\r\n\r\n    border: ${border};\r\n    border-top: none;\r\n\r\n    align-items: center;\r\n`;\r\n\r\nexport const StyledBookImg = styled.img`\r\n  width: 2.5em;\r\n  height: 100%;\r\n  padding: 0 .5em; \r\n`;\r\n\r\nexport const StyledData = styled.div`\r\n  width: 16em;\r\n`;\r\n\r\nexport const StyledTitle = styled.div`\r\n    font-size: .95em;\r\n    font-weight: bold;\r\n\r\n    overflow: hidden;\r\n\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n\r\n    color: ${headerBackground};\r\n`;\r\n\r\nexport const StyledAuthor = styled.div`\r\n    font-size: .85em;\r\n    font-weight: normal;\r\n\r\n    overflow: hidden;\r\n\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n\r\n    color: ${headerBackground};\r\n`;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport {\r\n  StyledContainer,\r\n  StyledBookImg,\r\n  StyledData,\r\n  StyledTitle,\r\n  StyledAuthor\r\n} from \"./style\";\r\n\r\nconst DropdownBookItem = ({ book }) => {\r\n  return (\r\n    <Link\r\n      style={{ textDecoration: \"none\" }}\r\n      to={{ pathname: `/books/new/${book.goodreadsId}` }}\r\n    >\r\n      <StyledContainer>\r\n        <StyledBookImg src={book.image_url} alt={`${book.title} cover`} />\r\n        <StyledData>\r\n          <StyledTitle>{book.title}</StyledTitle>\r\n          <StyledAuthor>by {book.authors}</StyledAuthor>\r\n        </StyledData>\r\n      </StyledContainer>\r\n    </Link>\r\n  );\r\n};\r\n\r\nDropdownBookItem.propTypes = {\r\n  book: PropTypes.shape({\r\n    authors: PropTypes.string.isRequired,\r\n    title: PropTypes.string.isRequired,\r\n    goodreadsId: PropTypes.string.isRequired,\r\n    image_url: PropTypes.string.isRequired\r\n  }).isRequired\r\n};\r\n\r\nexport default DropdownBookItem;\r\n","import styled from \"styled-components\";\r\n\r\nimport { border, headerBackground } from \"../../../style-constants\";\r\n\r\nexport const StyledContainer = styled.div`\r\n    position: absolute;\r\n    z-index: 10;\r\n    top: 2.5em;\r\n\r\n    width: 21em;\r\n\r\n    background-color: white;\r\n    box-shadow: 0 .1em .2em rgba(0,0,0,.15);\r\n`;\r\n\r\nexport const StyledAllResults = styled.div`\r\n    font-size: .9em;\r\n    font-weight: bold;\r\n    \r\n    padding: .5em;\r\n\r\n    text-align: center;\r\n\r\n    border: ${border};\r\n    border-top: none;\r\n    \r\n    color: ${headerBackground};\r\n`;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getBookData } from \"../../../actions/books\";\r\n\r\nimport DropdownBookItem from \"../../items/dropdown-book-item/dropdown-book-item\";\r\n\r\nimport { StyledContainer, StyledAllResults } from \"./style\";\r\n\r\nconst DropdownBookList = ({ books, query, visibility }) => {\r\n  const haveResults =\r\n    Array.isArray(books) &&\r\n    books.map(item => <DropdownBookItem key={item.goodreadsId} book={item} />);\r\n\r\n  const notFound = typeof books === \"string\" && (\r\n    <StyledAllResults>{books}</StyledAllResults>\r\n  );\r\n\r\n  const haveQuery = Array.isArray(books) && query && (\r\n    <Link\r\n      style={{ textDecoration: \"none\" }}\r\n      to={{ pathname: \"/search\", search: `?q=${query}&page=1` }}\r\n    >\r\n      <StyledAllResults>Show all results for \"{query}\"</StyledAllResults>\r\n    </Link>\r\n  );\r\n\r\n  return visibility ? (\r\n    <StyledContainer>\r\n      {haveResults}\r\n      {haveQuery}\r\n      {notFound}\r\n    </StyledContainer>\r\n  ) : null;\r\n};\r\n\r\nDropdownBookList.propTypes = {\r\n  books: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      authors: PropTypes.string.isRequired,\r\n      title: PropTypes.string.isRequired,\r\n      goodreadsId: PropTypes.string.isRequired,\r\n      image_url: PropTypes.string.isRequired\r\n    }).isRequired\r\n  ).isRequired,\r\n  query: PropTypes.string.isRequired,\r\n  visibility: PropTypes.bool.isRequired,\r\n  getBookData: PropTypes.func.isRequired\r\n};\r\n\r\nexport default connect(\r\n  null,\r\n  { getBookData }\r\n)(DropdownBookList);\r\n","import styled from \"styled-components\";\r\n\r\nimport { headerBackground, searchColor, border } from \"../../../style-constants\";\r\n\r\nexport const StyledSearch = styled.div`\r\n    font-weight: normal;\r\n    font-style: normal;\r\n\r\n    margin-left: 2%;\r\n\r\n    color: ${searchColor};\r\n\r\n    flex-grow: 2;\r\n`;\r\n\r\nexport const StyledSearchInput = styled.input`\r\n    font-size: .85em;\r\n\r\n    width: 22em;\r\n    height: 2em;\r\n    padding: 0 .25em;\r\n\r\n    color: ${searchColor};\r\n    border: ${border};\r\n    border-right: 0;\r\n    outline: none;\r\n    background: ${headerBackground};\r\n\r\n  &::-webkit-input-placeholder {\r\n    color: ${searchColor};\r\n  }\r\n`;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { search } from \"../../../actions/books\";\r\n\r\nimport SearchLoading from \"../../loaders/search-loading/search-loading\";\r\nimport DropdownBookList from \"../../lists/dropdown-book-list/dropdown-book-list\";\r\n\r\nimport { StyledSearch, StyledSearchInput } from \"./style\";\r\n\r\nclass Search extends Component {\r\n  state = {\r\n    query: \"\",\r\n    loading: false,\r\n    books: [],\r\n    visibilityDropdownList: false\r\n  };\r\n\r\n  myRef = React.createRef();\r\n\r\n  componentDidMount() {\r\n    document.addEventListener(\"mousedown\", this.handleClickOutside);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener(\"mousedown\", this.handleClickOutside);\r\n  }\r\n\r\n  handleChange = e => {\r\n    clearTimeout(this.timer);\r\n    this.setState({\r\n      [e.target.id]: e.target.value,\r\n      visibilityDropdownList: false\r\n    });\r\n    this.timer = setTimeout(this.fetchOptions, 500);\r\n  };\r\n\r\n  fetchOptions = () => {\r\n    const { query } = this.state;\r\n\r\n    if (!query) {\r\n      return;\r\n    }\r\n\r\n    this.setState({ loading: true });\r\n\r\n    if (query) {\r\n      this.props.search(query).then(books => {\r\n        let booksHash;\r\n\r\n        if (Array.isArray(books)) {\r\n          booksHash = [];\r\n          const booksCount = books.length > 5 ? 5 : books.length;\r\n\r\n          for (let i = 0; i < booksCount; i++) {\r\n            booksHash.push(books[i]);\r\n          }\r\n        } else {\r\n          booksHash = books;\r\n        }\r\n\r\n        this.setState({\r\n          books: booksHash,\r\n          loading: false,\r\n          visibilityDropdownList: true\r\n        });\r\n      });\r\n    }\r\n  };\r\n\r\n  handleClickOutside = e => {\r\n    if (!this.myRef.current.contains(e.target)) {\r\n      this.setState({ visibilityDropdownList: false });\r\n    }\r\n  };\r\n\r\n  handleClickInside = () =>\r\n    this.setState({ visibilityDropdownList: false });\r\n\r\n  render() {\r\n    const { books, loading, query, visibilityDropdownList } = this.state;\r\n    return (\r\n      <StyledSearch ref={this.myRef} onClick={this.handleClickInside}>\r\n        <StyledSearchInput\r\n          id=\"query\"\r\n          type=\"text\"\r\n          placeholder=\"Search books\"\r\n          onChange={this.handleChange}\r\n        />\r\n        <SearchLoading loading={loading} />\r\n        <DropdownBookList\r\n          books={books}\r\n          query={query}\r\n          visibility={visibilityDropdownList}\r\n        />\r\n      </StyledSearch>\r\n    );\r\n  }\r\n}\r\n\r\nSearch.propTypes = {\r\n  search: PropTypes.func.isRequired\r\n};\r\n\r\nexport default connect(\r\n  null,\r\n  { search }\r\n)(Search);\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n    position: absolute;\r\n    font-size: 0.85em;\r\n    padding: 0.25em 0.75em;\r\n    text-align: center;\r\n    z-index: 10;\r\n    top: 3.25em;\r\n    right: 5em;\r\n    background-color: #414141;\r\n    box-shadow: 0 0.1em 0.2em rgba(0,0,0,.15)\r\n`;\r\n\r\nexport const Item = styled.div`\r\n  margin: 0.5em 0;\r\n`;\r\n\r\nexport const Button = styled.button`\r\n    background-color: #414141;\r\n    border: none;\r\n    color: white;\r\n    font-size: 1.1em;\r\n`;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { logout } from \"../../../actions/auth\";\r\n\r\nimport * as S from \"./style\";\r\n\r\nconst DropdownUserList = ({ visibility, logout }) => {\r\n  return visibility ? (\r\n    <S.Container>\r\n      <S.Item>\r\n        <Link\r\n          style={{\r\n            textDecoration: \"none\",\r\n            color: \"white\",\r\n            fontSize: \"1.1em\"\r\n          }}\r\n          to=\"/dashboard\"\r\n        >\r\n          My Books\r\n        </Link>\r\n      </S.Item>\r\n      <S.Item>\r\n        <S.Button onClick={() => logout()}>Logout</S.Button>\r\n      </S.Item>\r\n    </S.Container>\r\n  ) : null;\r\n};\r\n\r\nexport default connect(\r\n  null,\r\n  { logout }\r\n)(DropdownUserList);\r\n","import styled from \"styled-components\";\r\n\r\nimport { headerBackground } from \"../../../style-constants\";\r\n\r\nexport const StyledHeader = styled.header`\r\n  height: 50px;\r\n  \r\n  display: flex;\r\n  padding: 0 5%;\r\n  align-items: center;\r\n  position: relative;\r\n  \r\n  background: ${headerBackground};\r\n`;\r\n\r\nexport const StyledIcon = styled.img`\r\n  margin: 0 0.8em;\r\n`;\r\n","import React, { Component } from \"react\";\r\n\r\nimport DropdownUserList from \"../../lists/dropdown-user-list/dropdown-user-list\";\r\n\r\nimport permIndentity from \"../../../img/perm_identity.png\";\r\nimport { StyledIcon } from \"../../navigation/top-navigation/style\";\r\n\r\nclass UserButton extends Component {\r\n  state = {\r\n    visibilityDropdownList: false\r\n  };\r\n\r\n  myRef = React.createRef();\r\n\r\n  componentDidMount() {\r\n    document.addEventListener(\"mousedown\", this.handleClickOutside);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener(\"mousedown\", this.handleClickOutside);\r\n  }\r\n\r\n  handleClickOutside = e => {\r\n    if (!this.myRef.current.contains(e.target)) {\r\n      this.setState({ visibilityDropdownList: false });\r\n    }\r\n  };\r\n\r\n  handleClickInside = () =>\r\n    this.setState({ visibilityDropdownList: true });\r\n\r\n  render() {\r\n    const { visibilityDropdownList } = this.state;\r\n    return (\r\n      <div ref={this.myRef} onClick={this.handleClickInside}>\r\n        <StyledIcon\r\n          src={permIndentity}\r\n          alt=\"User menu\"\r\n        />\r\n        <DropdownUserList\r\n          visibility={visibilityDropdownList}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UserButton;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport Search from \"../../search/search/search\";\r\nimport UserButton from \"../../buttons/user-button/user-button\";\r\n\r\nimport vectorGR from \"../../../img/vector.png\";\r\n\r\nimport { StyledHeader, StyledIcon } from \"./style\";\r\n\r\nconst TopNavigation = ({ isAuthenticated }) => (\r\n  <StyledHeader>\r\n    <Link to=\"/\">\r\n      <StyledIcon src={vectorGR} alt=\"Go to main page\" />\r\n    </Link>\r\n    <Search />\r\n    {isAuthenticated ? (\r\n      <UserButton />\r\n    ) : (\r\n      <Link\r\n        style={{ textDecoration: \"none\", color: \"#FFFFFF\", fontSize: \"1.1em\" }}\r\n        to=\"/login\"\r\n      >\r\n        Login\r\n      </Link>\r\n    )}\r\n  </StyledHeader>\r\n);\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    user: state.user,\r\n    isAuthenticated: !!state.user.email\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(TopNavigation);\r\n","import styled from \"styled-components\";\r\n\r\nimport { borderColor, sectionWidth } from \"../../../style-constants\";\r\n\r\nexport const Section = styled.div`\r\n  margin: 3em auto;\r\n  width: ${sectionWidth};\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n`;\r\n\r\n/* --------------------- LEFT ----------------------- */\r\n\r\nexport const Left = styled.div`\r\n  text-align: center;\r\n  width: 10em;\r\n`;\r\n\r\nexport const Cover = styled.img`\r\n  width: 160px;\r\n  height: 220px;\r\n`;\r\n\r\n/* --------------------- CENTER ---------------------- */\r\n\r\nexport const Center = styled.div`\r\n  margin: 0 1.25em;\r\n  width: 41em;\r\n`;\r\n\r\nexport const Title = styled.h2`\r\n  margin-top: 0;\r\n  margin-bottom: 0.25em;\r\n  font-size: 1.4em;\r\n`;\r\n\r\nexport const Author = styled.div`\r\n  font-size: 1.25em;\r\n  margin-bottom: 0.25em;\r\n`;\r\n\r\nexport const Rating = styled.div`\r\n  position: relative;\r\n  margin-bottom: 1.5em;\r\n`;\r\n\r\nexport const RatingNum = styled.span`\r\n  position: absolute;\r\n  top: 2px;\r\n  padding-left: 0.4em;\r\n`;\r\n\r\nexport const Description = styled.div`\r\n  text-align: justify;\r\n  padding-bottom: 1.25em;\r\n  border-bottom: 1px solid ${borderColor};\r\n`;\r\n\r\nexport const Publish = styled.div`\r\n  padding-top: 1.25em;\r\n  font-size: 0.8em;\r\n`;\r\n\r\n/* --------------------- RIGHT ---------------------- */\r\n\r\nexport const Right = styled.div`\r\n  width: 10em;\r\n`;\r\n\r\nexport const ProgressHeader = styled.h4`\r\n  text-align: center;\r\n  margin-top: 0;\r\n  margin-bottom: 1em;\r\n`;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport Rating from \"react-rating\";\r\nimport { getBookData, getBookDataSuccess, getBookDataFailure } from \"../../../actions/books\";\r\n\r\nimport CenterLoading from \"../../loaders/center-loader/center-loader\";\r\nimport LikeButton from \"../../buttons/like-button/like-button\";\r\nimport ReadButton from \"../../buttons/read-button/read-button\";\r\nimport DeleteButton from \"../../buttons/delete-button/delete-button\";\r\nimport ReadProgressWidget from \"../../widgets/read-progress-widget/read-progress-widget\";\r\n\r\nimport * as S from \"./style\";\r\n\r\nimport starBorder from \"../../../img/star_border.png\";\r\nimport star from \"../../../img/star.png\";\r\nimport PageError from \"../../errors/page-error/page-error\";\r\n\r\nclass BookPage extends Component {\r\n\r\n  componentDidMount() {\r\n    this.fetchBook();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { id } = this.props.match.params;\r\n    const prevId = prevProps.match.params.id;\r\n    if (id !== prevId) {\r\n      this.fetchBook();\r\n    }\r\n  }\r\n\r\n  fetchBook = () => {\r\n    const { id } = this.props.match.params;\r\n    const { getBookData, getBookDataSuccess, getBookDataFailure } = this.props;\r\n\r\n    getBookData(id)\r\n      .then(book => getBookDataSuccess(book))\r\n      .catch(error => getBookDataFailure(error))\r\n  };\r\n\r\n  createDescription = () => {\r\n    const { description } = this.props.book;\r\n    return { __html: description };\r\n  };\r\n\r\n  render() {\r\n    const { book, loading, error, confirmed } = this.props;\r\n\r\n    if (loading) {\r\n      return <CenterLoading />\r\n    }\r\n\r\n    if (error) {\r\n      return <PageError title={error} />;\r\n    }\r\n\r\n    return (\r\n      <S.Section>\r\n        <S.Left>\r\n          <S.Cover src={book.image_url} alt={`${book.title} cover`} />\r\n          { confirmed && <div>\r\n            {book.readStatus\r\n              ? <DeleteButton id={book.goodreadsId} inList={false} />\r\n              : <ReadButton book={book} inList={false}/> }\r\n          </div> }\r\n\r\n          { confirmed && <div>\r\n            <LikeButton id={book.goodreadsId} likeStatus={book.likeStatus} inList={false}/>\r\n          </div> }\r\n        </S.Left>\r\n        <S.Center>\r\n          <S.Title>{book.title}</S.Title>\r\n          <S.Author>by {book.authors}</S.Author>\r\n          <S.Rating>\r\n            <Rating\r\n              initialRating={book.average_rating}\r\n              emptySymbol={<img src={starBorder} alt=\"star\" />}\r\n              fullSymbol={<img src={star} alt=\"star\" />}\r\n              readonly\r\n            />\r\n            <S.RatingNum>{book.average_rating}</S.RatingNum>\r\n          </S.Rating>\r\n          <S.Description\r\n            dangerouslySetInnerHTML={this.createDescription()}\r\n          />\r\n          <S.Publish>\r\n            <div>\r\n              {book.format}, pages {book.pages}\r\n            </div>\r\n            <div>\r\n              Published {book.publication_month}/{book.publication_day}/\r\n              {book.publication_year} by {book.publisher}\r\n            </div>\r\n          </S.Publish>\r\n        </S.Center>\r\n        { confirmed && book.readStatus && <S.Right>\r\n          <S.ProgressHeader>Your progress</S.ProgressHeader>\r\n          <ReadProgressWidget\r\n            pages={book.pages}\r\n            readPages={book.readPages}\r\n            goodreadsId={book.goodreadsId}\r\n            inList={false}\r\n          />\r\n        </S.Right> }\r\n      </S.Section>\r\n    );\r\n  }\r\n}\r\n\r\nBookPage.propTypes = {\r\n  match: PropTypes.shape({\r\n    params: PropTypes.shape({\r\n      id: PropTypes.string.isRequired\r\n    }).isRequired\r\n  }).isRequired,\r\n  getBookData: PropTypes.func.isRequired\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    book: state.books.data,\r\n    loading: state.books.loading,\r\n    error: state.books.error,\r\n    isAuthenticated: !!state.user.email,\r\n    confirmed: state.user.confirmed\r\n  };\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { getBookData, getBookDataSuccess, getBookDataFailure }\r\n)(BookPage);\r\n","import styled from \"styled-components\";\r\n\r\nimport { headerBackground } from \"../../../style-constants\";\r\n\r\nexport const StyledSearchArticle = styled.article`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 0.25em 0;\r\n  color: ${headerBackground};\r\n  width: 510px;\r\n  height: 75px;\r\n  margin: 0.75em 0;\r\n`;\r\n\r\nexport const StyledCover = styled.img`\r\n  height: 75px;\r\n  width: 55px;\r\n`;\r\n\r\nexport const StyledDataDiv = styled.div`\r\n  padding: 0 1em;\r\n  overflow: hidden;\r\n  width: 100%;\r\n`;\r\n\r\nexport const StyledTitle = styled.h4`\r\n  margin: 0 0 0.2em 0;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n`;\r\n\r\nexport const StyledAuthor = styled.div`\r\n  margin: 0.15em 0;\r\n  font-size: 0.9em;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n`;\r\n\r\n\r\nexport const StyledRating = styled.div`\r\n  position: relative;\r\n`;\r\n\r\nexport const StyledRatingNum = styled.span`\r\n  position: absolute;\r\n  top: 2px;\r\n  padding-left: 0.4em;\r\n`;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Rating from \"react-rating\";\r\n\r\nimport { StyledSearchArticle, StyledCover, StyledDataDiv, StyledTitle, StyledAuthor, StyledRating, StyledRatingNum } from \"./style\";\r\n\r\nimport starBorder from \"../../../img/star_border.png\";\r\nimport star from \"../../../img/star.png\";\r\n\r\nconst SearchAllResultsItem = ({ book }) => {\r\n  return (\r\n    <Link to={{ pathname: `/books/new/${book.goodreadsId}` }}\r\n          style={{ textDecoration: \"none\" }}\r\n    >\r\n      <StyledSearchArticle>\r\n        <div>\r\n          <StyledCover src={book.image_url} alt=\"\" />\r\n        </div>\r\n        <StyledDataDiv>\r\n          <StyledTitle>{book.title}</StyledTitle>\r\n          <StyledAuthor>by {book.authors}</StyledAuthor>\r\n          <StyledRating>\r\n            <Rating\r\n              initialRating={book.rating}\r\n              emptySymbol={<img src={starBorder} alt=\"star\" />}\r\n              fullSymbol={<img src={star} alt=\"star\" />}\r\n              readonly\r\n            />\r\n            <StyledRatingNum>{book.rating}</StyledRatingNum>\r\n          </StyledRating>\r\n        </StyledDataDiv>\r\n      </StyledSearchArticle>\r\n    </Link>\r\n  );\r\n};\r\n\r\nSearchAllResultsItem.propTypes = {\r\n  book: PropTypes.shape({\r\n    authors: PropTypes.string.isRequired,\r\n    title: PropTypes.string.isRequired,\r\n    goodreadsId: PropTypes.string.isRequired,\r\n    rating: PropTypes.string.isRequired,\r\n    image_url: PropTypes.string.isRequired\r\n  }).isRequired\r\n};\r\n\r\nexport default SearchAllResultsItem;\r\n","import styled from \"styled-components\";\r\n\r\nexport const StyledSection = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n`;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport SearchAllResultsItem from \"../../items/search-all-results-item/search-all-results-item\";\r\n\r\nimport { StyledSection } from \"./style\";\r\n\r\nconst SearchAllResultsList = ({ books }) => {\r\n  return (\r\n    <StyledSection>\r\n      {Array.isArray(books) &&\r\n        books.map(item => (\r\n          <SearchAllResultsItem book={item} key={item.goodreadsId} />\r\n        ))}\r\n    </StyledSection>\r\n  );\r\n};\r\n\r\nexport default SearchAllResultsList;\r\n","import styled from \"styled-components\";\r\n\r\nimport { border, sectionWidth, boxShadowButton, wordsColorButton, accentColorButton } from \"../../../style-constants\";\r\n\r\nexport const Container = styled.div`\r\n  margin: 0 auto;\r\n  width: ${sectionWidth};\r\n`;\r\n\r\nexport const HeadingH1 = styled.h1`\r\n  margin: 1em 0;\r\n`;\r\n\r\nexport const SearchForm = styled.form`\r\n  text-align: center;\r\n`;\r\n\r\nexport const SearchInput = styled.input`\r\n  width: 25em;\r\n  height: 2em;\r\n  font-size: 1em;\r\n  border: ${border};\r\n  box-sizing: border-box;\r\n  padding: 0.25rem;\r\n  outline: none;\r\n`;\r\n\r\nexport const SearchButton = styled.button`\r\n  margin-left: 0.5em;\r\n    padding: 0.45em 1.5em;\r\n    font-weight: 600;\r\n    background-color: ${accentColorButton};\r\n    color: ${wordsColorButton};\r\n    box-shadow: ${boxShadowButton};\r\n}\r\n\r\n`;\r\n\r\nexport const Results = styled.div`\r\n  font-size: 0.9em;\r\n  text-align: center;\r\n  margin-top: 1.5em;\r\n`;\r\n\r\nexport const PaginationDiv = styled.div`\r\n  text-align: center;\r\n  margin: 1em 0;\r\n`;\r\n","import React, { Component } from \"react\";\r\nimport queryString from \"query-string\";\r\nimport { Pagination } from \"semantic-ui-react\";\r\nimport { connect } from \"react-redux\";\r\nimport { toastr } from \"react-redux-toastr\";\r\nimport {\r\n  searchByPage,\r\n  searchBooksSuccess,\r\n  searchBooksFailure\r\n} from \"../../../actions/books\";\r\n\r\nimport PageError from \"../../errors/page-error/page-error\";\r\nimport SearchAllResultsList from \"../../lists/search-all-results-list/search-all-results-list\";\r\n\r\nimport * as S from \"./style\";\r\nimport \"./pagination.css\";\r\n\r\nclass SearchAllResultPage extends Component {\r\n  state = {\r\n    query: queryString.parse(this.props.location.search),\r\n    inputValue: null\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (this.state.query.q === '') {\r\n      this.props.history.push('/');\r\n      return\r\n    }\r\n    this.fetchBooksByPage();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.state.query !== prevState.query) {\r\n      this.fetchBooksByPage();\r\n    }\r\n  }\r\n\r\n  fetchBooksByPage = () => {\r\n    const { query } = this.state;\r\n    const {\r\n      history,\r\n      searchByPage,\r\n      searchBooksSuccess,\r\n      searchBooksFailure\r\n    } = this.props;\r\n\r\n    if (this.state.query.q === '') {\r\n      toastr.error('Error', \"Invalid value\");\r\n      return\r\n    }\r\n\r\n    searchByPage(query.q, query.page)\r\n      .then(history.push(`/search?q=${query.q}&page=${query.page}`))\r\n      .then(books => searchBooksSuccess(books))\r\n      .catch(error => searchBooksFailure(error));\r\n  };\r\n\r\n  handlePageChange = (e, data) => {\r\n    this.setState({\r\n      query: {\r\n        ...this.state.query,\r\n        page: data.activePage\r\n      }\r\n    });\r\n\r\n    const input = document.getElementById(\"inputValue\");\r\n    input.scrollIntoView({block: \"center\", behavior: \"smooth\"});\r\n  };\r\n\r\n  onChange = e => {\r\n    this.setState({\r\n      [e.target.name]: e.target.value\r\n    });\r\n  };\r\n\r\n  onSubmit = e => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      query: {\r\n        q: this.state.inputValue,\r\n        page: 1\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { books, loading, query_time_seconds, total_results, error } = this.props;\r\n    const { query } = this.state;\r\n    const isBookString = typeof(books) === 'string';\r\n    const length = typeof(books) === \"object\" && books.length === 20;\r\n\r\n    const result = isBookString\r\n      ? <p>{books}</p>\r\n      : <SearchAllResultsList books={books} />;\r\n\r\n    const statusOfResults = loading ? <S.Results>loading...</S.Results> : (\r\n      <S.Results>\r\n        Page {query.page} of about {total_results} results (\r\n        {query_time_seconds} seconds)\r\n      </S.Results>\r\n    );\r\n\r\n    const pagination = loading || isBookString || !length\r\n      ? null\r\n      : (\r\n      <>\r\n        <hr />\r\n        <S.PaginationDiv>\r\n          <Pagination\r\n            boundaryRange={0}\r\n            activePage={query.page}\r\n            ellipsisItem={null}\r\n            firstItem={null}\r\n            lastItem={null}\r\n            siblingRange={2}\r\n            totalPages={20}\r\n            onPageChange={this.handlePageChange}\r\n          />\r\n        </S.PaginationDiv>\r\n      </>\r\n    );\r\n\r\n    if (error) {\r\n      return <PageError title={error} />;\r\n    }\r\n\r\n    return (\r\n      <S.Container>\r\n        <S.HeadingH1>Search</S.HeadingH1>\r\n        <S.SearchForm onSubmit={this.onSubmit}>\r\n          <S.SearchInput\r\n            type=\"text\"\r\n            id=\"inputValue\"\r\n            name=\"inputValue\"\r\n            placeholder=\"Search by Book Title\"\r\n            defaultValue={query.q}\r\n            onChange={this.onChange}\r\n          />\r\n          <S.SearchButton>Search</S.SearchButton>\r\n        </S.SearchForm>\r\n        {statusOfResults}\r\n        <hr />\r\n        {result}\r\n        {pagination}\r\n      </S.Container>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    books: state.books.data.books,\r\n    query_time_seconds: state.books.data.query_time_seconds,\r\n    total_results: state.books.data.total_results,\r\n    loading: state.books.loading,\r\n    error: state.books.error\r\n  };\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { searchByPage, searchBooksSuccess, searchBooksFailure }\r\n)(SearchAllResultPage);\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { Route } from \"react-router-dom\";\r\nimport Loader from \"react-loader\";\r\nimport HomePage from \"./components/pages/home-page/home-page\";\r\nimport LoginPage from \"./components/pages/login-page/login-page\";\r\nimport DashboardPage from \"./components/pages/dashboard-page/dashboard-page\";\r\nimport SignUpPage from \"./components/pages/singup-page/signup-page\";\r\nimport ConfirmationPage from \"./components/pages/confirmation-page/confirmation-page\";\r\nimport ForgotPasswordPage from \"./components/pages/forgot-password-page/forgot-password-page\";\r\nimport ResetPasswordPage from \"./components/pages/reset-password-page\";\r\nimport UserRoute from \"./components/routes/user-route\";\r\nimport GuestRoute from \"./components/routes/guest-route\";\r\nimport TopNavigation from \"./components/navigation/top-navigation/top-navigation\";\r\nimport { fetchCurrentUser } from \"./actions/users\";\r\n\r\nimport BookPage from \"./components/pages/book-page/book-page\";\r\nimport SearchAllResultPage from \"./components/pages/search-all-results-page/search-all-result-page\";\r\n\r\nclass App extends Component {\r\n  componentDidMount() {\r\n    if (this.props.isAuthenticated) {\r\n      this.props.fetchCurrentUser();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { location, loaded } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <Loader loaded={loaded}>\r\n          <TopNavigation />\r\n          <Route location={location} path=\"/\" exact component={HomePage} />\r\n          <Route\r\n            location={location}\r\n            path=\"/confirmation/:token\"\r\n            exact\r\n            component={ConfirmationPage}\r\n          />\r\n          <Route\r\n            location={location}\r\n            path=\"/search\"\r\n            component={SearchAllResultPage}\r\n          />\r\n          <Route\r\n            location={location}\r\n            path=\"/books/new/:id\"\r\n            exact\r\n            component={BookPage}\r\n          />\r\n          <GuestRoute\r\n            location={location}\r\n            path=\"/login\"\r\n            exact\r\n            component={LoginPage}\r\n            />\r\n          <GuestRoute\r\n            location={location}\r\n            path=\"/signup\"\r\n            exact\r\n            component={SignUpPage}\r\n            />\r\n          <GuestRoute\r\n            location={location}\r\n            path=\"/forgot_password\"\r\n            exact\r\n            component={ForgotPasswordPage}\r\n            />\r\n          <GuestRoute\r\n            location={location}\r\n            path=\"/reset_password/:token\"\r\n            exact\r\n            component={ResetPasswordPage}\r\n            />\r\n          <UserRoute\r\n            location={location}\r\n            path=\"/dashboard\"\r\n            exact\r\n            component={DashboardPage}\r\n          />\r\n        </Loader>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nApp.propTypes = {\r\n  location: PropTypes.shape({\r\n    pathname: PropTypes.string.isRequired\r\n  }).isRequired,\r\n  isAuthenticated: PropTypes.bool.isRequired,\r\n  fetchCurrentUser: PropTypes.func.isRequired,\r\n  loaded: PropTypes.bool.isRequired\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    isAuthenticated: !!state.user.email,\r\n    loaded: state.user.loaded\r\n  };\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { fetchCurrentUser }\r\n)(App);\r\n","/*eslint-disable*/\n\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { combineReducers } from 'redux';\r\nimport {reducer as toastrReducer} from 'react-redux-toastr';\r\n\r\nimport user from './reducers/user';\r\nimport books from './reducers/books';\r\n\r\nexport default combineReducers({\r\n  user,\r\n  books,\r\n  toastr: toastrReducer\r\n});\r\n","import { USER_LOGGED_IN, USER_LOGGED_OUT, USER_FETCHED } from \"../types\";\r\n\r\nexport default function user(state = { loaded: false }, action = {}) {\r\n  switch (action.type) {\r\n    case USER_LOGGED_IN:\r\n      return { ...action.user, loaded: true };\r\n    case USER_FETCHED:\r\n      return { ...state, ...action.user, loaded: true };\r\n    case USER_LOGGED_OUT:\r\n      return { loaded: true };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport { createStore, applyMiddleware } from 'redux';\nimport { Provider } from 'react-redux';\nimport thunk from 'redux-thunk';\nimport ReduxToastr from 'react-redux-toastr';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport App from './app';\nimport * as serviceWorker from './serviceWorker';\nimport rootReducer from './root-reducer';\nimport { fetchCurrentUser, userFetched } from './actions/users';\nimport setAuthorizationHeader from './utils/set-authorization-header';\n\nimport 'react-redux-toastr/lib/css/react-redux-toastr.min.css';\n\nconst store = createStore(rootReducer, composeWithDevTools(applyMiddleware(thunk)));\n\nif (localStorage.bookwormJWT) {\n  setAuthorizationHeader(localStorage.bookwormJWT);\n  store.dispatch(fetchCurrentUser());\n} else {\n  store.dispatch(userFetched({}));\n}\n\nReactDOM.render(\n  <BrowserRouter>\n    <Provider store={ store }>\n      <ReduxToastr\n        timeOut={4000}\n        position=\"bottom-right\"\n        transitionIn=\"fadeIn\"\n        transitionOut=\"fadeOut\"\n        closeOnToastrClick\n      />\n      <Route component={App} />\n    </Provider>\n  </BrowserRouter>,\n  document.getElementById('root'));\n\nserviceWorker.unregister();\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGDSURBVHgB3ZRBTsJAFIb/adH1GNCEFXADjtCeQG4A7IzEUG6gJxBTFi65iXgCOQKuSIgJY1y20/FNbUNbWzq65E/aTjvvfe/NmzcFTlZ7j3fp4qb2lqlhJDGNQkxN7Y3BpIECPNOsjcAfd3ykFLo05AhwbeJjlrHCMB1KhpGJC6sz2N/yvrTwlo8D93IhVkbg7Q3v2ha4ZdGSGThT6OgnURwC9QtOa7qtaE4ohncq00Z/D0Ns2s8iHjdS4/MGhgS4T1NSybNMcSCVBFOH7Iih/R9yGWvtJtyzGB7xDxHIay7EU+Y9rx3VlMrxAt0BZhI2w+DCF6+FQL+1pVN2Jgn+02LVotoGEm5a16xK2609J0OFGepkwyuDVoK1aCkd1IhF1Ss6BnZQI3XEphIcFZwYw5yiLQtmDv4C1qcNh65Y0a47TV/MWr4YBw30KMAmmeP7Ce8Yg6UdN7/QvdlaCDfbSnpjKUAvYhjrALIi61Iw/XvXX5RZtuGLuvLFMrDhEvwTJ6Fvaet8ACbdZTYAAAAASUVORK5CYII=\""],"sourceRoot":""}