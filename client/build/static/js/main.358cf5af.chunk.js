(window["webpackJsonpbookworm-react"]=window["webpackJsonpbookworm-react"]||[]).push([[0],{243:function(e,n,t){e.exports=t.p+"static/media/error.9cadfc24.png"},244:function(e,n,t){e.exports=t.p+"static/media/accept.307c2e31.png"},252:function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAAwmAAAMJgE29OC7AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFYSURBVHgB7ZTfaYRAEMbXf+BbLMESzkcfBO3EDlLCaQfpIEkH18GKIj56JVjC5U1RNN8cKxGju5c7CATywbI7s7O/WZ1Rxv6aNNlmXddO27aObdsXz/Mu7FFwURShpmlHLMOF+2wYxovv++/sHjCgiYCSMqybaZrcOQnWaRAECfsJuCzLGAdfMZphGCKomfc4565pmhyJXOxHgGcysL40cOCZ5jWURDb5r7f5eiI1GDdyMB1w6LSGLuGYMoxQxKvBqPwcKK0+vXOan6CbwGirK1AUalfz/gd0ExiPSeAMI6yqyt0KFv6Q4kS8Gixuk9I8jiNfw8kmvzDfmELf+hgtd0SCRJhbfdzgQzl1XZfKbr355eV5Huu6Tq13WLgz+BKAqddj2Oe+76M9uPRfQS1F1adCzQDyWZbFRdJduBQsS6iC6+wOEYRgBCW4SMIeBq/h9Ndj//p1fQLcd8FSeD+nqgAAAABJRU5ErkJggg=="},253:function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHLSURBVHgB7VXLbcJAEN015u4SSAVJjnxjd+BUgFugAkwFIRXgVBA6iAMCjpgK4hIscUBIfPIGrRUrGJglygHJT1p5dryet288OytEgQL/BCk0MR6PbSllF+YDhoURlkqloFqtvunE0SIGqa9Ij7Df73vNZtMXTLCJJ5OJh+ADRZJgA4GyXdgVZTsgDznxDMEEgrbVM95sNo+NRqNDA7YDd3JQcSIbfyIGbBV86DhOnDqVHajpg2BChzhhrLEEEzrEkXp6s9mskjrJRhZcNQ0FEyZ3IVUtCGyY1m63+5hOp0Pyb7dbT/woDZjh9I4TKruLDfi5gaT06/V6TzCh3UBGo5FnGAZVuK2OVYS5X6vVPsUtgK14Pp9by+XSNU3zHkotjMohgJRU7RH+9aJcLkdonTEnnrxEtlqt2igmqlpb8MDq3SeJ6TLAvxukyrKg7gWlsZpSRR81DnqPLHRardZQcIlxVFyofM8QJdhEH8HC9Xq9QLdKcr55osxkezcBvuc88lxiHJsvUkqESBtV7KvQgKr8F5hUCzEujrvfa3I7V5peUqlLSoDCAKr7ZGfVZ3G2c2EDNtSLa0Dfnnt/qWXalwJcC51LokCB28A3FubXg5Vy1F0AAAAASUVORK5CYII="},254:function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANlSURBVHgBxVhNUtswFP4ku3tlSjvDquEEhBM0nKBwgoZdp9BpOAHhBKEDdLoLvQGcgPQG9AQNW1om6nSZ2Or3HMuYYKchCc2bcWRZlvTp/XzvxQol8nPP1NnUFfBaKVSdQ9WPsd+Dg3VAj+NXbL+vnNhzzChq/EG/aarREB0BwKsbaBwhwlXl1F7/aBpjIqzHDjWn0EQOWBxj4+Vne4V5Qdy8Nw1u2uapLdtG5dh+mzT5ds8cUAstuQ8ISIBiHhACQGtqwKE3iLC5+sX2plng9oPpEHSD5lCYUbT8iAlEA+mz1rQAEnGYyQQPQIgPUK1GtLByar8+aoEQF4mjziGhjwLpcLEzPFIqR4nW1jCHaK3wJusodLEE0XSqmu/QIX9jCSI+kYF4ptDHEkRAGCxZwnxn4FBhMxXhiEO7GDbiVfbOtKEeSnj5vEDHXGczMe773Dwaaa+jNIzW94aFsXpu1Jpfe6YmuSUGLsIhzioloMQx8wN1/EMGTGbkE4morhoDzP7R8xO7QfbclHYQYi1NcgdxgEuycq1oTZXnfzkJF6hgShGTcINL3y+jbmrkMj2gDQiM3HLPhJqM9ynXNyl5TSVhmNOiK2dNHvLQrx8P8XF8XCeockypXZLGFyovTmzXU7vLUUK2p/wEAfbhX6LNmRnbWLDkfM8UghBtxBG2eWvTCU2apYX/JFmASVVEb97wGhGPvt01nf47Uy2ayPRvMMRbTC+JGWiWBxRQ6M1JxCg0cuVbVxyPvGBJUIYL1VLbei/3ZUBhNhWtyqHk/cEQG+MkposmMcYPV47tWqCSQrepMMqucXoSElTrT4iKhDP7EwvcHADxymYRi85cknnx5R1EKw7nWRRQi7zfciNH7PJArbKaNcQCJauwVLJxw40en1Nj25PmLQ4EK/Tnp9aTkrCk+Eyd15YQoHBF2VSNJxJG2g5SxxUCTKLpqUDk/5nlZZW1pyS05B0SIHnoAE8FYpIkeenOUZtleWluEGpCZSZMzM13ss1KzDK/OVBsDi9p8srMEg3QXiiIVL2jk6lyjeiAqfwufBvjeWkmshKVDoeosRzs3PtkwOKIp72WjDkekuMFkHI4cxoJec3GE/w8APnTxIXkFKTxHj8NVNPFXwEPi18BdbNr9gm8ndS1osE4+fbR+wsv8WieKY7RqQAAAABJRU5ErkJggg=="},272:function(e,n,t){e.exports=t(552)},323:function(e,n){},325:function(e,n){},360:function(e,n){},361:function(e,n){},519:function(e,n,t){},55:function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAWCAYAAAAinad/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAG/SURBVHgB1VRBTsJAFH3TVrcO0bC1nMByAssJ5AbKVjDiCTyCmIhxZzyBeAK4AdzAulUJk+iCCO34pgWDUKDRFZNMpjP/zZv33/wpsNFtcCq9LDgrCyiycJ8Ft5bsvSbLGvDeatL/N5kQOIpH4HItdlVwUJduOMYzP1vsvu2gkGsohb8oC0P4HBRJKmYejXGMdcqoQA6HkI4Dl2m5tsZOxJGhso7Q2WuqSv9MXiFCmce3oKG0wIvWCBhXW9sIjGJnyrrt4NEYTSDC5JTAbLIFGrEqjSdLwCfBCafS4ESSW495l36UTdUxjTYxrj1GMXengmXpTLzsEht8OigVJj6KOVBMyFOlFaKURmiIohBtKlWzRAtkC4RbVDgDXkWUZDzXzGYrQoUGu6Ov+BJ+NXrm0vRKIaVEUksjtGISlb9VPTOfVj8PCsw6L+IgbZ+TtsjyOKSC3sRo8y59PqsWL+aCN90TFszDf8ikjEQezTTedemdy+863fUiG22zbuJp+5a9AE8nvfPBS9i9UdcjGyVtoRPXIpDplxT/u5jSoF+T52nx16qsm/igKvfXKhuZPk7UpJHlm6oxclAcChSwMe0b7bPMl2jMbVsAAAAASUVORK5CYII="},552:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(84),i=t.n(o),c=t(20),u=t(59),s=t(53),l=t(3),d=t(236),m=t(25),f=t.n(m),p=t(237),h=t(7),b=t(8),g=t(11),v=t(9),E=t(10),O=t(238),y=t.n(O),j=t(26),k=t.n(j),w={login:function(e){return k.a.post("/api/auth",{credentials:e}).then(function(e){return e.data.user})},signup:function(e){return k.a.post("/api/users",{user:e}).then(function(e){return e.data.user})},confirm:function(e){return k.a.post("/api/auth/confirmation",{token:e}).then(function(e){return e.data.user})},resetPasswordRequest:function(e){return k.a.post("/api/auth/reset_password_request",{email:e})},validateToken:function(e){return k.a.post("/api/auth/validate_token",{token:e})},resetPassword:function(e){return k.a.post("/api/auth/reset_password",{data:e})},fetchCurrentUser:function(){return k.a.get("/api/users/current_user").then(function(e){return e.data.user})}},A={search:function(e){return k.a.get("/api/books/search?q=".concat(e)).then(function(e){return e.data.books})},searchByPage:function(e,n){return k.a.get("/api/books/search_by_page?q=".concat(e,"&page=").concat(n)).then(function(e){return e.data})},getBookData:function(e){return k.a.get("/api/books/fetch_book_data?goodreadsId=".concat(e)).then(function(e){return e.data.book})},fetchUserBooks:function(){return k.a.get("/api/books").then(function(e){return e.data.books})},create:function(e){return k.a.post("/api/books",{book:e}).then(function(e){return e.data.book})},delete:function(e){return k.a.post("/api/books/delete_book",{id:e}).then(function(e){return e.data.book})},deleteBookInList:function(e){return k.a.post("/api/books/delete_book",{id:e}).then(function(e){return e.data.book.goodreadsId})},addLike:function(e){return k.a.post("/api/books/add_like",{id:e}).then(function(e){return e.data.book})},deleteLike:function(e){return k.a.post("/api/books/delete_like",{id:e}).then(function(e){return e.data.book})},getTop:function(){return k.a.get("/api/books/get_top").then(function(e){return e.data.books})},updateProgress:function(e,n){return k.a.post("/api/books/save_progress",{num:e,id:n}).then(function(e){return e.data.progress})}},x="USER_LOGGED_IN",C="USER_LOGGED_OUT",S="USER_FETCHED",F="FETCH_TOP_REQUEST",P="FETCH_TOP_SUCCESS",D="FETCH_TOP_FAILURE",B="FETCH_BOOK_DATA_REQUEST",I="FETCH_BOOK_DATA_SUCCESS",L="FETCH_BOOK_DATA_FAILURE",T="FETCH_USER_BOOKS_REQUEST",R="FETCH_USER_BOOKS_SUCCESS",U="FETCH_USER_BOOKS_FAILURE",_="SEARCH_BOOKS_BY_PAGE_REQUEST",z="SEARCH_BOOKS_BY_PAGE_SUCCESS",q="SEARCH_BOOKS_BY_PAGE_FAILURE",G="CHANGE_FILTERS",K="ADD_LIKE_IN_LIST",M="ADD_BOOK_IN_LIST",N="BOOK_DELETE_IN_LIST",V="DELETE_LIKE_IN_LIST",Q="UPDATE_PROGRESS_IN_LIST",J="ADD_LIKE",X="DELETE_LIKE",Y="DELETE_BOOK",H="ADD_BOOK",W="UPDATE_PROGRESS",Z=function(e){return function(n){return A.getBookData(e).then(n({type:B}))}},$=t(22),ee=t(239);function ne(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function te(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ne(t,!0).forEach(function(n){Object($.a)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ne(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var re={loading:!1,error:null,data:{},filter:"all"};var ae=Object(ee.a)(function(e){return e.books.data},function(e){return Object.values(e)}),oe=t(54),ie=t(1),ce=t(2),ue="1px solid ".concat("#C4C4C4"),se="0px 2px 4px rgba(0,0,0,0.25)";function le(){var e=Object(ie.a)(["\n  width: 100%; \n  overflow: hidden;\n  text-overflow: ellipsis;\n  text-align: justify;\n  -webkit-line-clamp: 6;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  font-size: 0.85em;\n"]);return le=function(){return e},e}function de(){var e=Object(ie.a)(["\n  position: absolute;\n  top: 2px;\n  padding-left: 0.4em;\n"]);return de=function(){return e},e}function me(){var e=Object(ie.a)(["\n  position: relative;\n  margin-bottom: 0.4em;\n"]);return me=function(){return e},e}function fe(){var e=Object(ie.a)(["\n  margin: 0.35em 0;\n  font-size: 0.85em;\n"]);return fe=function(){return e},e}function pe(){var e=Object(ie.a)(["\n  margin: 0;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]);return pe=function(){return e},e}function he(){var e=Object(ie.a)(["\n  width: 340px;\n  margin: 0 15px;\n"]);return he=function(){return e},e}function be(){var e=Object(ie.a)(["\n  text-align: center;\n  border: 1px solid ",";\n  color: ",";\n"]);return be=function(){return e},e}function ge(){var e=Object(ie.a)(["\n  width: 100px;\n  height: 150px;\n  margin-bottom: 0.9em;\n"]);return ge=function(){return e},e}function ve(){var e=Object(ie.a)(["\n  width: 100px;\n  margin-left: 15px;\n"]);return ve=function(){return e},e}function Ee(){var e=Object(ie.a)(["\n  width: 490px;\n  height: 220px;\n  display: flex;\n  flex-wrap: wrap;\n  margin: 10px;\n  padding-top: 15px;\n  box-shadow: ",";\n"]);return Ee=function(){return e},e}var Oe=ce.a.article(Ee(),se),ye=ce.a.div(ve()),je=ce.a.img(ge()),ke=ce.a.div(be(),"#EC6C10","#EC6C10"),we=ce.a.div(he()),Ae=ce.a.h4(pe()),xe=ce.a.div(fe()),Ce=ce.a.div(me()),Se=ce.a.span(de()),Fe=ce.a.div(le()),Pe=t(55),De=t.n(Pe),Be=t(56),Ie=t.n(Be),Le=function(e){var n=e.book,t=e.topLikes;return a.a.createElement(Oe,null,a.a.createElement(ye,null,a.a.createElement(je,{src:n.image_url,alt:""}),a.a.createElement(ke,null,t?a.a.createElement("span",null,"Likes: ",n.likeCounter):a.a.createElement("span",null,"Read: ",n.numberOfEntities))),a.a.createElement(we,null,a.a.createElement(c.b,{style:{textDecoration:"none",color:"#414141"},to:"/books/new/".concat(n.goodreadsId)},a.a.createElement(Ae,null,n.title)),a.a.createElement(xe,null,"by ",n.authors),a.a.createElement(Ce,null,a.a.createElement(oe.a,{initialRating:n.average_rating,emptySymbol:a.a.createElement("img",{src:De.a,alt:"star"}),fullSymbol:a.a.createElement("img",{src:Ie.a,alt:"star"}),readonly:!0}),a.a.createElement(Se,null,n.average_rating)),a.a.createElement(Fe,{dangerouslySetInnerHTML:{__html:n.description}})))};function Te(){var e=Object(ie.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n"]);return Te=function(){return e},e}var Re=ce.a.section(Te()),Ue=function(e){var n=e.books,t=e.topLikes;return a.a.createElement(r.Fragment,null,a.a.createElement("h2",null,t?"Top likes":"Top reads"),a.a.createElement(Re,null,Array.isArray(n)&&n.map(function(e){return a.a.createElement(Le,{key:e.goodreadsId,book:e,topLikes:t})})))};function _e(){var e=Object(ie.a)(["\n   width: 100%;\n   height: 100%;\n   position: absolute;\n   top: 0;\n   left: 0;\n   overflow: auto;\n"]);return _e=function(){return e},e}function ze(){var e=Object(ie.a)(["\n    width: 2.5em;\n    height: 2.5em;\n\n    position: absolute;\n    \n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    margin: auto;\n\n    animation: rotate 2s linear infinite;\n\n    stroke: ",";\n  \n    & .path {\n      animation: dash 1.5s ease-in-out infinite;\n      \n      stroke: hsl(210, 70, 75);\n      stroke-linecap: round;\n    }\n    \n    @keyframes rotate {\n    100% {\n      transform: rotate(360deg);\n      }\n    }\n  \n    @keyframes dash {\n      0% {\n        stroke-dasharray: 1, 150;\n        stroke-dashoffset: 0;\n      }\n      50% {\n        stroke-dasharray: 90, 150;\n        stroke-dashoffset: -35;\n      }\n      100% {\n        stroke-dasharray: 90, 150;\n        stroke-dashoffset: -124;\n      }\n    }  \n"]);return ze=function(){return e},e}var qe=ce.a.svg(ze(),"#414141"),Ge=ce.a.div(_e()),Ke=function(){return a.a.createElement(Ge,null,a.a.createElement(qe,{viewBox:"0 0 50 50"},a.a.createElement("circle",{className:"path",cx:"25",cy:"25",r:"20",fill:"none",strokeWidth:"5"})))};function Me(){var e=Object(ie.a)(["\n  text-align: center;\n  margin: 0;\n"]);return Me=function(){return e},e}function Ne(){var e=Object(ie.a)(["\n  width: 100%;\n"]);return Ne=function(){return e},e}function Ve(){var e=Object(ie.a)(["\n    width: 400px;\n    height: 300px;\n\n    position: absolute;\n    \n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    margin: auto;\n"]);return Ve=function(){return e},e}var Qe=ce.a.div(Ve()),Je=ce.a.img(Ne()),Xe=ce.a.h2(Me()),Ye=t(243),He=t.n(Ye),We=function(e){var n=e.title;return a.a.createElement(Qe,null,a.a.createElement(Je,{src:He.a,alt:"Something went wrong"}),a.a.createElement(Xe,null,n))};function Ze(){var e=Object(ie.a)(["\n   margin: 3em auto;\n   width: ",";\n"]);return Ze=function(){return e},e}var $e=ce.a.div(Ze(),"1024px"),en=function(e){function n(){return Object(h.a)(this,n),Object(g.a)(this,Object(v.a)(n).apply(this,arguments))}return Object(E.a)(n,e),Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,n=e.getTop,t=e.getTopSuccess,r=e.getTopFailure;n().then(function(e){return t(e)}).catch(function(e){return r(e)})}},{key:"render",value:function(){var e=this.props,n=e.books,t=e.loading,r=e.error;return t?a.a.createElement(Ke,null):r?a.a.createElement(We,{title:r}):a.a.createElement($e,null,a.a.createElement(Ue,{topLikes:!0,books:n[0]}),a.a.createElement(Ue,{topLikes:!1,books:n[1]}))}}]),n}(r.Component);var nn=Object(l.connect)(function(e){return{books:ae(e),loading:e.books.loading,error:e.books.error}},{getTop:function(){return function(e){return A.getTop().then(e({type:F}))}},getTopSuccess:function(e){return function(n){return n({type:P,data:e})}},getTopFailure:function(e){return function(n){return n(function(e){return{type:D,error:e}}(e))}}})(en),tn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?k.a.defaults.headers.common.authorization="Bearer ".concat(e):delete k.a.defaults.headers.common.authorization};function rn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}var an=function(e){return{type:x,user:e}},on=t(27),cn=t.n(on);function un(e){for(var n={},t=0;t<e.length;t++){n[e[t].context.key]=e[t].message}return n}var sn=function(e){var n=cn.a.object().keys({email:cn.a.string().email().required().error(function(e){var n=e[0];switch(n.type){case"any.empty":case"any.required":n.message="Email should not be empty.";break;case"string.email":n.message="Email should have @"}return n}).optional(),password:cn.a.string().required().error(function(){return"Password should not be empty."}).optional()}),t=cn.a.validate(e,n,{abortEarly:!1});return null===t.error?{}:un(t.error.details)},ln=function(e){var n=e.text;return" "!==n?a.a.createElement("span",{style:{color:"#ff4040"}},n):a.a.createElement("span",{style:{visibility:"hidden"}},"hidden")};function dn(){var e=Object(ie.a)(["\n  width: 100%;\n   padding: 0.75em;\n   margin-top: 2em;\n   color: ",";\n   background-color: ",";\n   font-size: 1em;\n   font-weight: 600;\n   border: none;\n   cursor: pointer;\n"]);return dn=function(){return e},e}function mn(){var e=Object(ie.a)(["\n  width: 90%;\n  height: 2.5em;\n  font-size: 1em;\n  padding: 0 0.8em;\n"]);return mn=function(){return e},e}function fn(){var e=Object(ie.a)(["\n  margin: 1.2em 0;\n  text-align: center;\n"]);return fn=function(){return e},e}var pn=ce.a.div(fn()),hn=ce.a.input(mn()),bn=ce.a.button(dn(),"#FFFFFF","#EC6C10");function gn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function vn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?gn(t,!0).forEach(function(n){Object($.a)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):gn(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var En=function(e){function n(){var e,t;Object(h.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(g.a)(this,(e=Object(v.a)(n)).call.apply(e,[this].concat(a)))).state={data:{email:"",password:""},errors:{}},t.onChange=function(e){var n=t.state.data;t.setState({data:vn({},n,Object($.a)({},e.target.name,e.target.value))})},t.onSubmit=function(e){e.preventDefault();var n=t.state.data,r=sn(n);t.setState({errors:r}),0===Object.keys(r).length&&t.props.submit(n).catch(function(e){t.setState({errors:e.response.data.errors})})},t}return Object(E.a)(n,e),Object(b.a)(n,[{key:"render",value:function(){var e=this.state,n=e.data,t=e.errors;return a.a.createElement("form",{onSubmit:this.onSubmit},a.a.createElement(pn,null,a.a.createElement(hn,{type:"email",id:"email",name:"email",placeholder:"Enter your email",value:n.email,onChange:this.onChange}),a.a.createElement(ln,{text:t.email||" "})),a.a.createElement(pn,null,a.a.createElement(hn,{type:"password",id:"password",name:"password",placeholder:"Enter your password",value:n.password,onChange:this.onChange}),a.a.createElement(ln,{text:t.password||" "})),a.a.createElement(bn,null,"Login"))}}]),n}(r.Component);function On(){var e=Object(ie.a)(["\n  text-align: center;\n  margin: 0.5em;\n"]);return On=function(){return e},e}function yn(){var e=Object(ie.a)(["\n  background-color: ",";\n  color: ",";\n  margin: 1em 0;\n  padding: 0.5em;\n  text-align: center;\n"]);return yn=function(){return e},e}function jn(){var e=Object(ie.a)(["\n   color: ",";\n   margin-bottom: 3em;\n   font-size: 1.25em;\n"]);return jn=function(){return e},e}function kn(){var e=Object(ie.a)(["\n  width: 400px;\n  height: 440px;\n  \n  padding: 1em 2em;\n  position: absolute;\n    \n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  \n  background: #FFFFFF;\n  box-shadow: ",";\n"]);return kn=function(){return e},e}var wn=ce.a.div(kn(),se),An=ce.a.h2(jn(),"#EC6C10"),xn=ce.a.div(yn(),"#414141","#FFFFFF"),Cn=ce.a.div(On()),Sn=function(e){function n(){var e,t;Object(h.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(g.a)(this,(e=Object(v.a)(n)).call.apply(e,[this].concat(a)))).submit=function(e){return t.props.login(e).then(function(){return t.props.history.push("/")})},t}return Object(E.a)(n,e),Object(b.a)(n,[{key:"render",value:function(){return a.a.createElement(wn,null,a.a.createElement(An,null,"Login"),a.a.createElement(En,{submit:this.submit}),a.a.createElement(xn,null,a.a.createElement(c.b,{to:"/signup",style:{textDecoration:"none",color:"#FFFFFF",fontSize:"1em",fontWeight:"600",width:"100%",height:"100%",display:"block"}},"Sign up")),a.a.createElement(Cn,null,a.a.createElement(c.b,{style:{textDecoration:"none",color:"#414141",fontSize:"0.8em"},to:"/forgot_password"},"Forgot Password?")))}}]),n}(r.Component),Fn=Object(l.connect)(null,{login:function(e){return function(n){return w.login(e).then(function(e){localStorage.bookwormJWT=e.token,tn(e.token),n(an(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?rn(t,!0).forEach(function(n){Object($.a)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):rn(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({},e,{loaded:!0})))})}}})(Sn);function Pn(){var e=Object(ie.a)(["\n  margin: 0.5em 0;\n"]);return Pn=function(){return e},e}function Dn(){var e=Object(ie.a)(["\n  border: 1px solid #b58105;\n  background-color: #fff8db;\n  text-align: center;\n  color: #b58105;\n  margin: 1em;\n"]);return Dn=function(){return e},e}var Bn=ce.a.div(Dn()),In=ce.a.p(Pn()),Ln=function(){return a.a.createElement(Bn,null,a.a.createElement(In,null,"Please, verify your email to unlock awesomeness"))};function Tn(){var e=Object(ie.a)(["\n  background-color: ",";\n    width: 100%;\n    padding: 0.6em 0;\n    font-size: 0.9em;\n    margin: 0.35em 0;\n    font-weight: 600;\n    color: ",";\n    box-shadow: ",";\n    cursor: pointer;\n    border: none;\n"]);return Tn=function(){return e},e}var Rn=ce.a.button(Tn(),"#414141","#FFFFFF",se),Un=Object(l.connect)(null,{deleteBook:function(e){return function(n){return A.delete(e).then(function(e){n({type:Y,data:e})})}},deleteBookInList:function(e){return function(n){return A.deleteBookInList(e).then(function(e){n(function(e){return{type:N,id:e}}(e))})}}})(function(e){var n=e.id,t=e.deleteBook,r=e.deleteBookInList,o=e.inList;return a.a.createElement(Rn,{onClick:function(e){e.preventDefault(),(o?r(n):t(n)).then(function(){return m.toastr.success("Successful","Changes installed successfully")}).catch(function(e){return m.toastr.error("Server Error",e.response.data.error)})}},"Delete")});function _n(){var e=Object(ie.a)(["\n  background-color: ",";\n    width: 100%;\n    padding: 0.6em 0;\n    font-size: 0.9em;\n    margin: 0.35em 0;\n    font-weight: 600;\n    color: ",";\n    box-shadow: ",";\n    cursor: pointer;\n    border: none;\n"]);return _n=function(){return e},e}var zn=ce.a.button(_n(),"#EC6C10","#FFFFFF",se),qn=Object(l.connect)(null,{addLike:function(e){return function(n){return A.addLike(e).then(function(e){n({type:J,data:e})})}},deleteLike:function(e){return function(n){return A.deleteLike(e).then(function(e){n({type:X,data:e})})}},addLikeInList:function(e){return function(n){return A.addLike(e).then(function(e){n({type:K,data:e})})}},deleteLikeInList:function(e){return function(n){return A.deleteLike(e).then(function(e){n({type:V,data:e})})}}})(function(e){var n=e.id,t=e.likeStatus,r=e.addLike,o=e.deleteLike,i=e.inList,c=e.deleteLikeInList,u=e.addLikeInList;return a.a.createElement(zn,{onClick:function(e){e.preventDefault(),i?(t?c(n):u(n)).then(function(){return m.toastr.success("Successful","Changes installed successfully")}).catch(function(e){return m.toastr.error("Server Error",e.response.data.error)}):(t?o(n):r(n)).then(function(){return m.toastr.success("Successful","Changes installed successfully")}).catch(function(e){return m.toastr.error("Server Error",e.response.data.error)})}},t?"Dislike":"Like")});function Gn(){var e=Object(ie.a)(["\n  font-size: 0.8em;\n  margin-bottom: 1em;\n  text-align: center;\n"]);return Gn=function(){return e},e}function Kn(){var e=Object(ie.a)(["\n  width: 2.5em;\n  margin: 0.2em 0;\n"]);return Kn=function(){return e},e}function Mn(){var e=Object(ie.a)(["\n  width: 100%;\n"]);return Mn=function(){return e},e}function Nn(){var e=Object(ie.a)(["\n  background-color: ",";\n  width: 100%;\n  padding: 0.8em 0;\n  font-size: 0.75em;\n  margin: 0.35em 0;\n  font-weight: 600;\n  color: ",";\n  box-shadow: ",";\n  cursor: pointer;\n  border: none;\n"]);return Nn=function(){return e},e}function Vn(){var e=Object(ie.a)(["\n    text-align: center;\n    font-size: 0.8em;\n    margin-bottom: 1.25em;\n"]);return Vn=function(){return e},e}var Qn=ce.a.div(Vn()),Jn=ce.a.button(Nn(),"#EC6C10","#FFFFFF",se),Xn=ce.a.progress(Mn()),Yn=ce.a.input(Kn()),Hn=ce.a.div(Gn()),Wn=function(e){function n(){var e,t;Object(h.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(g.a)(this,(e=Object(v.a)(n)).call.apply(e,[this].concat(a)))).state={visibilityProgress:!1},t.onChange=function(e){return t.setState(Object($.a)({},e.target.name,e.target.value))},t.saveProgressClick=function(e){e.preventDefault();var n=t.props,r=n.pages,a=n.goodreadsId,o=n.updateBookProgress,i=n.inList,c=n.updateBookProgressInList,u=parseInt(t.state.readPages);isNaN(u)||u<0||u>r?m.toastr.error("Error","Invalid value"):i?c(u,a).then(function(){t.setState({visibilityProgress:!1}),m.toastr.success("Successful","Changes installed successfully")}).catch(function(e){return m.toastr.error("Server Error",e.response.data.error)}):o(u,a).then(function(){t.setState({visibilityProgress:!1}),m.toastr.success("Successful","Changes installed successfully")}).catch(function(e){return m.toastr.error("Server Error",e.response.data.error)})},t}return Object(E.a)(n,e),Object(b.a)(n,[{key:"render",value:function(){var e=this,n=this.props,t=n.pages,r=n.readPages||0;return this.state.visibilityProgress?a.a.createElement("div",null,a.a.createElement(Hn,null,a.a.createElement("span",null,"Currently on "),a.a.createElement(Yn,{type:"text",name:"readPages",id:"readPages",defaultValue:r,onChange:this.onChange}),a.a.createElement("span",null,"of ",t)),a.a.createElement(Jn,{onClick:this.saveProgressClick},"Save")):a.a.createElement("div",null,a.a.createElement(Xn,{value:r,max:t}),a.a.createElement(Qn,null,r,"/",t),a.a.createElement(Jn,{onClick:function(){return e.setState({visibilityProgress:!0})}},"Update progress"))}}]),n}(r.Component),Zn=Object(l.connect)(null,{updateBookProgress:function(e,n){return function(t){return A.updateProgress(e,n).then(function(e){t({type:W,data:e})})}},updateBookProgressInList:function(e,n){return function(t){return A.updateProgress(e,n).then(function(e){t({type:Q,data:e})})}}})(Wn);function $n(){var e=Object(ie.a)(["\n  margin-top: 0.85em;\n"]);return $n=function(){return e},e}function et(){var e=Object(ie.a)(["\n  margin-rigth: 25px;\n  width: 120px;\n  text-align: center\n"]);return et=function(){return e},e}function nt(){var e=Object(ie.a)(["\n  width: 40%;\n"]);return nt=function(){return e},e}function tt(){var e=Object(ie.a)(["\n  text-align: center;\n  margin-top: 1.75em;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return tt=function(){return e},e}function rt(){var e=Object(ie.a)(["\n  position: absolute;\n  top: 2px;\n  padding-left: 0.4em;\n"]);return rt=function(){return e},e}function at(){var e=Object(ie.a)(["\n  position: relative;\n  margin-bottom: 0.4em;\n"]);return at=function(){return e},e}function ot(){var e=Object(ie.a)(["\n  margin: 0.35em 0;\n  font-size: 0.85em;\n"]);return ot=function(){return e},e}function it(){var e=Object(ie.a)(["\n  margin: 0;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]);return it=function(){return e},e}function ct(){var e=Object(ie.a)(["\n  width: 220px;\n  margin: 0 15px;\n"]);return ct=function(){return e},e}function ut(){var e=Object(ie.a)(["\n  width: 100px;\n  height: 150px;\n  margin-bottom: 0.9em;\n"]);return ut=function(){return e},e}function st(){var e=Object(ie.a)(["\n  width: 100px;\n"]);return st=function(){return e},e}function lt(){var e=Object(ie.a)(["\n  width: 470px;\n  height: 150px;\n  display: flex;\n  flex-wrap: wrap;\n  margin: 10px;\n  padding: 15px;\n  box-shadow: ",";\n"]);return lt=function(){return e},e}var dt=ce.a.article(lt(),se),mt=ce.a.div(st()),ft=ce.a.img(ut()),pt=ce.a.div(ct()),ht=ce.a.h4(it()),bt=ce.a.div(ot()),gt=ce.a.div(at()),vt=ce.a.span(rt()),Et=ce.a.div(tt()),Ot=ce.a.div(nt()),yt=ce.a.div(et()),jt=ce.a.h5($n());function kt(){var e=Object(ie.a)(["\n  background-color: ",";\n  width: 100%;\n  padding: 0.6em 0;\n  font-size: 0.9em;\n  margin: 0.35em 0;\n  font-weight: 600;\n  color: ",";\n  box-shadow: ",";\n  cursor: pointer;\n  border: none;\n"]);return kt=function(){return e},e}var wt=ce.a.button(kt(),"#EC6C10","#FFFFFF",se),At=Object(l.connect)(null,{readBook:function(e){return function(n){return A.create(e).then(function(e){n(function(e){return{type:H,data:e}}(e))})}},readBookInList:function(e){return function(n){return A.create(e).then(function(e){n(function(e){return{type:M,data:e}}({goodreadsId:e.goodreadsId,readStatus:e.readStatus}))})}}})(function(e){var n=e.book,t=e.readBook,r=e.readBookInList,o=e.inList;return a.a.createElement(wt,{onClick:function(e){e.preventDefault(),(o?r(n):t(n)).then(function(){return m.toastr.success("Successful","Changes installed successfully")}).catch(function(e){return m.toastr.error("Server Error",e.response.data.error)})}},"Read")}),xt=function(e){function n(){return Object(h.a)(this,n),Object(g.a)(this,Object(v.a)(n).apply(this,arguments))}return Object(E.a)(n,e),Object(b.a)(n,[{key:"render",value:function(){var e=this.props.book;return a.a.createElement(dt,null,a.a.createElement(mt,null,a.a.createElement(ft,{src:e.image_url,alt:"Cover"})),a.a.createElement(pt,null,a.a.createElement(c.b,{style:{textDecoration:"none",color:"#414141"},to:"/books/new/".concat(e.goodreadsId)},a.a.createElement(ht,null,e.title)),a.a.createElement(bt,null,e.authors),a.a.createElement(gt,null,a.a.createElement(oe.a,{initialRating:e.average_rating,emptySymbol:a.a.createElement("img",{src:De.a,alt:"star"}),fullSymbol:a.a.createElement("img",{src:Ie.a,alt:"star"}),readonly:!0}),a.a.createElement(vt,null,e.average_rating)),a.a.createElement(Et,null,a.a.createElement(Ot,null,e.readStatus?a.a.createElement(Un,{id:e.goodreadsId,inList:!0}):a.a.createElement(At,{book:e,inList:!0})),a.a.createElement(Ot,null,a.a.createElement(qn,{id:e.goodreadsId,likeStatus:e.likeStatus,inList:!0})))),e.readStatus&&a.a.createElement(yt,null,a.a.createElement(jt,null,"Your progress"),a.a.createElement(Zn,{pages:e.pages,readPages:e.readPages,goodreadsId:e.goodreadsId,inList:!0})))}}]),n}(r.Component);function Ct(){var e=Object(ie.a)(["\n  margin: 3em auto 0 auto;\n  width: 1044px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n"]);return Ct=function(){return e},e}var St=ce.a.section(Ct()),Ft=function(e){var n=e.books;return a.a.createElement(St,null,n&&n.map(function(e){return a.a.createElement(xt,{book:e,key:e._id})}))};function Pt(){var e=Object(ie.a)(["\n  border: none;\n  background-color: white;\n  color: ",";\n  cursor: pointer;\n  font-size: 1em;\n  margin: 0.5em 2em;\n  font-weight: 600;\n"]);return Pt=function(){return e},e}function Dt(){var e=Object(ie.a)(["\n  text-align: center;\n"]);return Dt=function(){return e},e}function Bt(){var e=Object(ie.a)(["\n   margin: 3em auto;\n   width: ",";\n"]);return Bt=function(){return e},e}function It(){var e=Object(ie.a)(["\n  text-align: center;\n  margin-top: 3em;\n"]);return It=function(){return e},e}var Lt=ce.a.div(It()),Tt=ce.a.section(Bt(),"1024px"),Rt=ce.a.div(Dt()),Ut=ce.a.button(Pt(),"#EC6C10"),_t=function(e){function n(){var e,t;Object(h.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=Object(g.a)(this,(e=Object(v.a)(n)).call.apply(e,[this].concat(o)))).filterBooks=function(e,n){switch(n){case"read":return e.filter(function(e){return!e.likeStatus});case"like":return e.filter(function(e){return e.likeStatus});default:return e}},t.showContent=function(e,n){return 0===e.length?a.a.createElement(Lt,null,"You don't have books"):0===n.length?a.a.createElement(Lt,null,"No books"):a.a.createElement(Ft,{books:n})},t}return Object(E.a)(n,e),Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,n=e.getUserBooks,t=e.getUserBooksSuccess,r=e.getUserBooksFailure;n().then(function(e){return t(e)}).catch(function(e){return r(e)})}},{key:"render",value:function(){var e=this.props,n=e.isConfirmed,t=e.books,o=e.loading,i=e.filter,c=e.changeFilters,u=this.filterBooks(t,i);if(o)return a.a.createElement(Ke,null);var s=this.showContent(t,u);return a.a.createElement(r.Fragment,null,!n&&a.a.createElement(Ln,null),a.a.createElement(Tt,null,a.a.createElement("h2",null,"My books"),a.a.createElement(Rt,null,0!==t.length&&[{text:"All",id:"all"},{text:"Read",id:"read"},{text:"Like",id:"like"}].map(function(e){return a.a.createElement(Ut,{key:e.id,onClick:function(){return c(e.id)}},e.text)})),s))}}]),n}(r.Component);var zt=Object(l.connect)(function(e){return{books:ae(e),loading:e.books.loading,error:e.books.error,filter:e.books.filter,isConfirmed:!!e.user.confirmed}},{getUserBooks:function(){return function(e){return A.fetchUserBooks().then(e({type:T}))}},getUserBooksSuccess:function(e){return function(n){return n({type:R,data:e})}},getUserBooksFailure:function(e){return function(n){return n(function(e){return{type:U,error:e}}(e))}},changeFilters:function(e){return function(n){return n(function(e){return{type:G,filter:e}}(e))}}})(_t),qt=function(e){return{type:S,user:e}},Gt=function(){return function(e){return w.fetchCurrentUser().then(function(n){return e(qt(n))})}},Kt=function(e){var n=cn.a.object().keys({username:cn.a.string().min(4).max(20).regex(/^[a-zA-Z0-9.-]+$/).required().error(function(e){var n=e[0];switch(n.type){case"any.empty":case"any.required":n.message="The username should not be empty.";break;case"string.min":n.message="The username should have at least ".concat(n.context.limit," characters");break;case"string.regex.base":n.message="The username may contain letters or numbers.";break;case"string.max":n.message="The username should have at most ".concat(n.context.limit," characters")}return n}),email:cn.a.string().email().min(16).max(40).required().error(function(e){var n=e[0];switch(n.type){case"any.empty":case"any.required":n.message="Email should not be empty.";break;case"string.email":n.message="Email should have @";break;case"string.min":n.message="Email should have at least ".concat(n.context.limit," characters");break;case"string.max":n.message="Email should have at most ".concat(n.context.limit," characters")}return n}).optional(),password:cn.a.string().min(6).max(20).required().error(function(e){var n=e[0];switch(n.type){case"any.empty":case"any.required":n.message="Password should not be empty.";break;case"string.min":n.message="Password should have at least ".concat(n.context.limit," characters");break;case"string.max":n.message="Password should have at most ".concat(n.context.limit," characters")}return n}).optional()}),t=cn.a.validate(e,n,{abortEarly:!1});return null===t.error?{}:un(t.error.details)};function Mt(){var e=Object(ie.a)(["\n   width: 100%;\n   padding: 0.75em;\n   margin-top: 2em;\n   color: ",";\n   background-color: ",";\n   font-size: 1em;\n   font-weight: 600;\n   border: none;\n   cursor: pointer;\n"]);return Mt=function(){return e},e}function Nt(){var e=Object(ie.a)(["\n  width: 90%;\n  height: 2.5em;\n  font-size: 1em;\n  padding: 0 0.8em;\n"]);return Nt=function(){return e},e}function Vt(){var e=Object(ie.a)(["\n  margin-top: 1em;\n  text-align: center;\n"]);return Vt=function(){return e},e}function Qt(){var e=Object(ie.a)(["\n  display: flex;\n  flex-direction: column;\n  align-content: space-around;\n"]);return Qt=function(){return e},e}var Jt=ce.a.form(Qt()),Xt=ce.a.div(Vt()),Yt=ce.a.input(Nt()),Ht=ce.a.button(Mt(),"#FFFFFF","#EC6C10");function Wt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function Zt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Wt(t,!0).forEach(function(n){Object($.a)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Wt(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var $t=function(e){function n(){var e,t;Object(h.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(g.a)(this,(e=Object(v.a)(n)).call.apply(e,[this].concat(a)))).state={data:{username:"",email:"",password:""},loading:!1,errors:{}},t.onSubmit=function(e){e.preventDefault();var n=t.state.data,r=Kt(n);0===Object.keys(r).length&&(t.setState({loading:!0}),t.props.submit(n).catch(function(e){t.setState({errors:e.response.data.errors,loading:!1})})),t.setState({errors:r})},t.onChange=function(e){var n=t.state.data;t.setState({data:Zt({},n,Object($.a)({},e.target.name,e.target.value))})},t}return Object(E.a)(n,e),Object(b.a)(n,[{key:"render",value:function(){var e=this.state,n=e.data,t=e.errors;return a.a.createElement(Jt,{onSubmit:this.onSubmit},a.a.createElement(Xt,null,a.a.createElement(Yt,{type:"text",id:"username",name:"username",placeholder:"Enter your username",value:n.username,onChange:this.onChange}),a.a.createElement(ln,{text:t.username||" "})),a.a.createElement(Xt,null,a.a.createElement(Yt,{type:"text",id:"email",name:"email",placeholder:"Enter your email",value:n.email,onChange:this.onChange}),a.a.createElement(ln,{text:t.email||" "})),a.a.createElement(Xt,null,a.a.createElement(Yt,{type:"password",id:"password",name:"password",placeholder:"Enter your password",value:n.password,onChange:this.onChange}),a.a.createElement(ln,{text:t.password||" "})),a.a.createElement(Ht,null,"Sign up"))}}]),n}(r.Component);function er(){var e=Object(ie.a)(["\n  background-color: ",";\n  color: ",";\n  margin: 1em 0;\n  padding: 0.5em;\n  text-align: center;\n"]);return er=function(){return e},e}function nr(){var e=Object(ie.a)(["\n   color: ",";\n   margin-bottom: 2em;\n   font-size: 1.25em;\n"]);return nr=function(){return e},e}function tr(){var e=Object(ie.a)(["\n  width: 400px;\n  height: 470px;\n  \n  padding: 1em 2em;\n  position: absolute;\n    \n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  \n  background: #FFFFFF;\n  box-shadow: ",";\n"]);return tr=function(){return e},e}var rr=ce.a.div(tr(),se),ar=ce.a.h2(nr(),"#EC6C10"),or=ce.a.div(er(),"#414141","#FFFFFF"),ir=function(e){function n(){var e,t;Object(h.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(g.a)(this,(e=Object(v.a)(n)).call.apply(e,[this].concat(a)))).submit=function(e){return t.props.signup(e).then(function(){t.props.history.push("/")})},t}return Object(E.a)(n,e),Object(b.a)(n,[{key:"render",value:function(){return a.a.createElement(rr,null,a.a.createElement(ar,null,"Sing up"),a.a.createElement($t,{submit:this.submit}),a.a.createElement(or,null,a.a.createElement(c.b,{to:"/login",style:{textDecoration:"none",color:"#FFFFFF",fontSize:"1em",fontWeight:"600",width:"100%",height:"100%",display:"block"}},"Login")))}}]),n}(r.Component),cr=Object(l.connect)(null,{signup:function(e){return function(n){return w.signup(e).then(function(e){localStorage.bookwormJWT=e.token,n(an(e))})}}})(ir);function ur(){var e=Object(ie.a)(["\n  margin: 0.5em 0;\n"]);return ur=function(){return e},e}function sr(){var e=Object(ie.a)(["\n  border: 1px solid #b58105;\n  background-color: #fff8db;\n  text-align: center;\n  color: #b58105;\n  margin: 1em;\n"]);return sr=function(){return e},e}function lr(){var e=Object(ie.a)(["\n  border: 1px solid #e0b4b4;\n  background-color: #fff6f6;\n  text-align: center;\n  color: #a95857;\n  margin: 1em;\n"]);return lr=function(){return e},e}function dr(){var e=Object(ie.a)(["\n  border: 1px solid #a3c293;\n  background-color: #fcfff5;\n  text-align: center;\n  color: #366836;\n  margin: 1em;\n"]);return dr=function(){return e},e}var mr=ce.a.div(dr()),fr=ce.a.div(lr()),pr=ce.a.div(sr()),hr=ce.a.p(ur()),br=function(e){function n(){var e,t;Object(h.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(g.a)(this,(e=Object(v.a)(n)).call.apply(e,[this].concat(a)))).state={loading:!0,success:!1},t}return Object(E.a)(n,e),Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.confirm(this.props.match.params.token).then(function(){e.setState({loading:!1,success:!0})}).catch(function(){e.setState({loading:!1,success:!1})})}},{key:"render",value:function(){var e=this.state,n=e.loading,t=e.success;return a.a.createElement("div",null,n&&a.a.createElement(pr,null,a.a.createElement(hr,null,"Validation your email...")),!n&&t&&a.a.createElement(mr,null,a.a.createElement(hr,null,"Thank you. Your account has been verified")),!n&&!t&&a.a.createElement(fr,null,a.a.createElement(hr,null,"Ooops. Invalid token it seems.")))}}]),n}(r.Component),gr=Object(l.connect)(null,{confirm:function(e){return function(n){return w.confirm(e).then(function(e){localStorage.bookwormJWT=e.token,n(an(e))})}}})(br),vr=function(e){var n=cn.a.object().keys({email:cn.a.string().email().min(16).max(40).required().error(function(e){var n=e[0];switch(n.type){case"any.empty":case"any.required":n.message="Email should not be empty.";break;case"string.email":n.message="Email should have @";break;case"string.min":n.message="Email should have at least ".concat(n.context.limit," characters");break;case"string.max":n.message="Email should have at most ".concat(n.context.limit," characters")}return n}).optional()}),t=cn.a.validate(e,n,{abortEarly:!1});return null===t.error?{}:un(t.error.details)};function Er(){var e=Object(ie.a)(["\n  width: 100%;\n   padding: 0.75em;\n   margin: 1.5em 0;\n   color: ",";\n   background-color: ",";\n   font-size: 1em;\n   font-weight: 600;\n   border: none;\n   cursor: pointer;\n"]);return Er=function(){return e},e}function Or(){var e=Object(ie.a)(["\n  width: 90%;\n  height: 2.5em;\n  font-size: 1em;\n  padding: 0 0.8em;\n"]);return Or=function(){return e},e}function yr(){var e=Object(ie.a)(["\n  margin: 2em 0;\n  text-align: center;\n"]);return yr=function(){return e},e}var jr=ce.a.div(yr()),kr=ce.a.input(Or()),wr=ce.a.button(Er(),"#FFFFFF","#EC6C10");function Ar(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function xr(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ar(t,!0).forEach(function(n){Object($.a)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ar(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var Cr=function(e){function n(){var e,t;Object(h.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(g.a)(this,(e=Object(v.a)(n)).call.apply(e,[this].concat(a)))).state={data:{email:""},loading:!1,errors:{}},t.onSubmit=function(e){e.preventDefault();var n=t.state.data,r=vr(n);t.setState({errors:r}),0===Object.keys(r).length&&(t.setState({loading:!0}),t.props.submit(n).catch(function(e){t.setState({errors:e.response.data.errors,loading:!1})}))},t.onChange=function(e){var n=t.state.data;t.setState({data:xr({},n,Object($.a)({},e.target.name,e.target.value))})},t}return Object(E.a)(n,e),Object(b.a)(n,[{key:"render",value:function(){var e=this.state,n=e.data,t=e.errors;return a.a.createElement("form",{onSubmit:this.onSubmit},a.a.createElement(jr,{error:!!t.email},a.a.createElement(kr,{type:"text",id:"email",name:"email",placeholder:"Enter your email",value:n.email,onChange:this.onChange}),a.a.createElement(ln,{text:t.email||" "})),a.a.createElement(wr,null,"Continue"))}}]),n}(r.Component),Sr=t(244),Fr=t.n(Sr);function Pr(){var e=Object(ie.a)(["\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    margin: auto;\n    width: 300px;\n    text-align: center;\n    height: 60px;\n    font-size: 1.2em;\n"]);return Pr=function(){return e},e}function Dr(){var e=Object(ie.a)(["\n  width: 50px;\n"]);return Dr=function(){return e},e}function Br(){var e=Object(ie.a)(["\n   color: ",";\n   margin-bottom: 3em;\n   font-size: 1.25em;\n"]);return Br=function(){return e},e}function Ir(){var e=Object(ie.a)(["\n  width: 400px;\n  height: 275px;\n  \n  padding: 1em 2em;\n  position: absolute;\n    \n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  \n  background: #FFFFFF;\n  box-shadow: ",";\n"]);return Ir=function(){return e},e}var Lr=ce.a.div(Ir(),se),Tr=ce.a.h2(Br(),"#EC6C10"),Rr=ce.a.img(Dr()),Ur=ce.a.span(Pr()),_r=function(e){function n(){var e,t;Object(h.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(g.a)(this,(e=Object(v.a)(n)).call.apply(e,[this].concat(a)))).state={success:!1},t.submit=function(e){return t.props.resetPasswordRequest(e).then(function(){t.setState({success:!0})})},t}return Object(E.a)(n,e),Object(b.a)(n,[{key:"render",value:function(){return a.a.createElement(Lr,null,this.state.success?a.a.createElement(Ur,null,a.a.createElement(Rr,{src:Fr.a,alt:""}),a.a.createElement("p",null,"Email has been sent.")):a.a.createElement(r.Fragment,null,a.a.createElement(Tr,null,"Forgot password"),a.a.createElement(Cr,{submit:this.submit})))}}]),n}(r.Component),zr=Object(l.connect)(null,{resetPasswordRequest:function(e){var n=e.email;return function(){return w.resetPasswordRequest(n)}}})(_r),qr=t(557),Gr=function(e){var n=cn.a.object().keys({password:cn.a.string().min(6).max(20).required().error(function(e){var n=e[0];switch(n.type){case"any.empty":case"any.required":n.message="Password should not be empty.";break;case"string.min":n.message="Password should have at least ".concat(n.context.limit," characters");break;case"string.max":n.message="Password should have at most ".concat(n.context.limit," characters")}return n}).optional(),passwordConfirmation:cn.a.string().min(6).max(20).required().error(function(e){var n=e[0];switch(n.type){case"any.empty":case"any.required":n.message="Password should not be empty.";break;case"string.min":n.message="Password should have at least ".concat(n.context.limit," characters");break;case"string.max":n.message="Password should have at most ".concat(n.context.limit," characters")}return n}).optional()}),t=cn.a.validate(e,n,{abortEarly:!1,allowUnknown:!0});return null===t.error?{}:un(t.error.details)};function Kr(){var e=Object(ie.a)(["\n  width: 100%;\n   padding: 0.75em;\n   margin: 1.5em 0;\n   color: ",";\n   background-color: ",";\n   font-size: 1em;\n   font-weight: 600;\n   border: none;\n   cursor: pointer;\n"]);return Kr=function(){return e},e}function Mr(){var e=Object(ie.a)(["\n  width: 90%;\n  height: 2.5em;\n  font-size: 1em;\n  padding: 0 0.8em;\n"]);return Mr=function(){return e},e}function Nr(){var e=Object(ie.a)(["\n  margin: 2em 0;\n  text-align: center;\n"]);return Nr=function(){return e},e}function Vr(){var e=Object(ie.a)(["\n   color: ",";\n   margin-bottom: 3em;\n   font-size: 1.25em;\n"]);return Vr=function(){return e},e}function Qr(){var e=Object(ie.a)(["\n  width: 400px;\n  height: 330px;\n  \n  padding: 1em 2em;\n  position: absolute;\n    \n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  \n  background: #FFFFFF;\n  box-shadow: ",";\n"]);return Qr=function(){return e},e}var Jr=ce.a.form(Qr(),se),Xr=ce.a.h2(Vr(),"#EC6C10"),Yr=ce.a.div(Nr()),Hr=ce.a.input(Mr()),Wr=ce.a.button(Kr(),"#FFFFFF","#EC6C10");function Zr(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function $r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Zr(t,!0).forEach(function(n){Object($.a)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Zr(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var ea=function(e){function n(){var e,t;Object(h.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(g.a)(this,(e=Object(v.a)(n)).call.apply(e,[this].concat(a)))).state={data:{token:t.props.token,password:"",passwordConfirmation:""},errors:{}},t.onSubmit=function(e){e.preventDefault();var n=t.state.data,r=Gr(n);n.password!==n.passwordConfirmation&&(r.passwordConfirmation="Password must match"),t.setState({errors:r}),0===Object.keys(r).length&&t.props.submit(n).catch(function(e){t.setState({errors:e.response.data.errors})})},t.onChange=function(e){var n=t.state.data;t.setState({data:$r({},n,Object($.a)({},e.target.name,e.target.value))})},t}return Object(E.a)(n,e),Object(b.a)(n,[{key:"render",value:function(){var e=this.state,n=e.data,t=e.errors;return a.a.createElement(Jr,{onSubmit:this.onSubmit},a.a.createElement(Xr,null," Reset password "),a.a.createElement(Yr,null,a.a.createElement(Hr,{type:"password",id:"password",name:"password",placeholder:"Your new password",value:n.password,onChange:this.onChange}),a.a.createElement(ln,{text:t.password||" "})),a.a.createElement(Yr,null,a.a.createElement(Hr,{type:"password",id:"passwordConfirmation",name:"passwordConfirmation",placeholder:"Type it again, please",value:n.passwordConfirmation,onChange:this.onChange}),t.passwordConfirmation&&a.a.createElement(ln,{text:t.passwordConfirmation||" "})),a.a.createElement(Wr,null,"Reset"))}}]),n}(r.Component),na=function(e){function n(){var e,t;Object(h.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(g.a)(this,(e=Object(v.a)(n)).call.apply(e,[this].concat(a)))).state={loading:!0,success:!1},t.submit=function(e){return t.props.resetPassword(e).then(function(){t.props.history.push("/login")})},t}return Object(E.a)(n,e),Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.validateToken(this.props.match.params.token).then(function(){return e.setState({loading:!1,success:!0})}).catch(function(){return e.setState({loading:!1,success:!1})})}},{key:"render",value:function(){var e=this.state,n=e.loading,t=e.success,r=this.props.match.params.token;return a.a.createElement("div",null,n&&a.a.createElement(qr.a,null,"Loading"),!n&&t&&a.a.createElement(ea,{submit:this.submit,token:r}),!n&&!t&&a.a.createElement(qr.a,null,"Invalid Token"))}}]),n}(r.Component),ta=Object(l.connect)(null,{validateToken:function(e){return function(){return w.validateToken(e)}},resetPassword:function(e){return function(){return w.resetPassword(e)}}})(na),ra=t(106);var aa=Object(l.connect)(function(e){return{isAuthenticated:!!e.user.email}})(function(e){var n=e.isAuthenticated,t=e.component,r=Object(ra.a)(e,["isAuthenticated","component"]);return a.a.createElement(u.b,Object.assign({},r,{render:function(e){return n?a.a.createElement(t,e):a.a.createElement(u.a,{to:"/"})}}))});var oa=Object(l.connect)(function(e){return{isAuthenticated:!!e.user.email}})(function(e){var n=e.isAuthenticated,t=e.component,r=Object(ra.a)(e,["isAuthenticated","component"]);return a.a.createElement(u.b,Object.assign({},r,{render:function(e){return n?a.a.createElement(u.a,{to:"/"}):a.a.createElement(t,e)}}))}),ia=t(252),ca=t.n(ia);function ua(){var e=Object(ie.a)(["\n    width: 1.25em;\n    height: 1.5em;\n\n    animation: rotate 2s linear infinite;\n\n    stroke: ",";\n  \n    & .path {\n      animation: dash 1.5s ease-in-out infinite;\n      \n      stroke: hsl(210, 70, 75);\n      stroke-linecap: round;\n    }\n    \n    @keyframes rotate {\n    100% {\n      transform: rotate(360deg);\n      }\n    }\n  \n    @keyframes dash {\n      0% {\n        stroke-dasharray: 1, 150;\n        stroke-dashoffset: 0;\n      }\n      50% {\n        stroke-dasharray: 90, 150;\n        stroke-dashoffset: -35;\n      }\n      100% {\n        stroke-dasharray: 90, 150;\n        stroke-dashoffset: -124;\n      }\n    }  \n"]);return ua=function(){return e},e}function sa(){var e=Object(ie.a)(["\n    position: absolute;\n\n    padding: .17em;\n\n    vertical-align: middle;\n\n    border: ",";\n    border-left: none;\n"]);return sa=function(){return e},e}function la(){var e=Object(ie.a)(["\n    position: absolute;\n\n    display: inline;\n\n    width: 1.7em;\n    height: 1.5em;\n    padding: .1em 0;\n\n    text-align: center;\n\n    border: ",";\n    border-left: none;\n"]);return la=function(){return e},e}var da=ce.a.div(la(),ue),ma=ce.a.img(sa(),ue),fa=ce.a.svg(ua(),"#C4C4C4"),pa=function(e){return e.loading?a.a.createElement(da,null,a.a.createElement(fa,{viewBox:"0 0 50 50"},a.a.createElement("circle",{className:"path",cx:"25",cy:"25",r:"20",fill:"none",strokeWidth:"5"}))):a.a.createElement(ma,{src:ca.a,alt:"Search"})};function ha(){var e=Object(ie.a)(["\n    font-size: .85em;\n    font-weight: normal;\n\n    overflow: hidden;\n\n    white-space: nowrap;\n    text-overflow: ellipsis;\n\n    color: ",";\n"]);return ha=function(){return e},e}function ba(){var e=Object(ie.a)(["\n    font-size: .95em;\n    font-weight: bold;\n\n    overflow: hidden;\n\n    white-space: nowrap;\n    text-overflow: ellipsis;\n\n    color: ",";\n"]);return ba=function(){return e},e}function ga(){var e=Object(ie.a)(["\n  width: 16em;\n"]);return ga=function(){return e},e}function va(){var e=Object(ie.a)(["\n  width: 2.5em;\n  height: 100%;\n  padding: 0 .5em; \n"]);return va=function(){return e},e}function Ea(){var e=Object(ie.a)(["\n    display: flex;\n\n    height: 3.5em;\n\n    border: ",";\n    border-top: none;\n\n    align-items: center;\n"]);return Ea=function(){return e},e}var Oa=ce.a.div(Ea(),ue),ya=ce.a.img(va()),ja=ce.a.div(ga()),ka=ce.a.div(ba(),"#414141"),wa=ce.a.div(ha(),"#414141"),Aa=function(e){var n=e.book;return a.a.createElement(c.b,{style:{textDecoration:"none"},to:{pathname:"/books/new/".concat(n.goodreadsId)}},a.a.createElement(Oa,null,a.a.createElement(ya,{src:n.image_url,alt:"".concat(n.title," cover")}),a.a.createElement(ja,null,a.a.createElement(ka,null,n.title),a.a.createElement(wa,null,"by ",n.authors))))};function xa(){var e=Object(ie.a)(["\n    font-size: .9em;\n    font-weight: bold;\n    \n    padding: .5em;\n\n    text-align: center;\n\n    border: ",";\n    border-top: none;\n    \n    color: ",";\n"]);return xa=function(){return e},e}function Ca(){var e=Object(ie.a)(["\n    position: absolute;\n    z-index: 10;\n    top: 2.5em;\n\n    width: 21em;\n\n    background-color: white;\n    box-shadow: 0 .1em .2em rgba(0,0,0,.15);\n"]);return Ca=function(){return e},e}var Sa=ce.a.div(Ca()),Fa=ce.a.div(xa(),ue,"#414141"),Pa=Object(l.connect)(null,{getBookData:Z})(function(e){var n=e.books,t=e.query,r=e.visibility,o=Array.isArray(n)&&n.map(function(e){return a.a.createElement(Aa,{key:e.goodreadsId,book:e})}),i="string"===typeof n&&a.a.createElement(Fa,null,n),u=Array.isArray(n)&&t&&a.a.createElement(c.b,{style:{textDecoration:"none"},to:{pathname:"/search",search:"?q=".concat(t,"&page=1")}},a.a.createElement(Fa,null,'Show all results for "',t,'"'));return r?a.a.createElement(Sa,null,o,u,i):null});function Da(){var e=Object(ie.a)(["\n    font-size: .85em;\n\n    width: 22em;\n    height: 2em;\n    padding: 0 .25em;\n\n    color: ",";\n    border: ",";\n    border-right: 0;\n    outline: none;\n    background: ",";\n\n  &::-webkit-input-placeholder {\n    color: ",";\n  }\n"]);return Da=function(){return e},e}function Ba(){var e=Object(ie.a)(["\n    font-weight: normal;\n    font-style: normal;\n\n    margin-left: 2%;\n\n    color: ",";\n\n    flex-grow: 2;\n"]);return Ba=function(){return e},e}var Ia=ce.a.div(Ba(),"#C4C4C4"),La=ce.a.input(Da(),"#C4C4C4",ue,"#414141","#C4C4C4"),Ta=function(e){function n(){var e,t;Object(h.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=Object(g.a)(this,(e=Object(v.a)(n)).call.apply(e,[this].concat(o)))).state={query:"",loading:!1,books:[],visibilityDropdownList:!1},t.myRef=a.a.createRef(),t.handleChange=function(e){var n;clearTimeout(t.timer),t.setState((n={},Object($.a)(n,e.target.id,e.target.value),Object($.a)(n,"visibilityDropdownList",!1),n)),t.timer=setTimeout(t.fetchOptions,500)},t.fetchOptions=function(){var e=t.state.query;e&&(t.setState({loading:!0}),e&&t.props.search(e).then(function(e){var n;if(Array.isArray(e)){n=[];for(var r=e.length>5?5:e.length,a=0;a<r;a++)n.push(e[a])}else n=e;t.setState({books:n,loading:!1,visibilityDropdownList:!0})}))},t.handleClickOutside=function(e){t.myRef.current.contains(e.target)||t.setState({visibilityDropdownList:!1})},t.handleClickInside=function(){return t.setState({visibilityDropdownList:!1})},t}return Object(E.a)(n,e),Object(b.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"render",value:function(){var e=this.state,n=e.books,t=e.loading,r=e.query,o=e.visibilityDropdownList;return a.a.createElement(Ia,{ref:this.myRef,onClick:this.handleClickInside},a.a.createElement(La,{id:"query",type:"text",placeholder:"Search books",onChange:this.handleChange}),a.a.createElement(pa,{loading:t}),a.a.createElement(Pa,{books:n,query:r,visibility:o}))}}]),n}(r.Component),Ra=Object(l.connect)(null,{search:function(e){return function(){return A.search(e)}}})(Ta);function Ua(){var e=Object(ie.a)(["\n    background-color: #414141;\n    border: none;\n    color: white;\n    font-size: 1.1em;\n    cursor: pointer;\n"]);return Ua=function(){return e},e}function _a(){var e=Object(ie.a)(["\n  margin: 0.5em 0;\n"]);return _a=function(){return e},e}function za(){var e=Object(ie.a)(["\n    position: absolute;\n    font-size: 0.85em;\n    padding: 0.25em 0.75em;\n    text-align: center;\n    z-index: 10;\n    top: 3.25em;\n    right: 5em;\n    background-color: #414141;\n    box-shadow: 0 0.1em 0.2em rgba(0,0,0,.15)\n"]);return za=function(){return e},e}var qa=ce.a.div(za()),Ga=ce.a.div(_a()),Ka=ce.a.button(Ua()),Ma=Object(l.connect)(null,{logout:function(){return function(e){localStorage.removeItem("bookwormJWT"),tn(),e({type:C})}}})(function(e){var n=e.visibility,t=e.logout;return n?a.a.createElement(qa,null,a.a.createElement(Ga,null,a.a.createElement(c.b,{style:{textDecoration:"none",color:"white",fontSize:"1.1em"},to:"/dashboard"},"My Books")),a.a.createElement(Ga,null,a.a.createElement(Ka,{onClick:function(){return t()}},"Logout"))):null}),Na=t(253),Va=t.n(Na);function Qa(){var e=Object(ie.a)(["\n  color: ",";\n  font-size: 1.1em;\n  cursor: default;\n"]);return Qa=function(){return e},e}function Ja(){var e=Object(ie.a)(["\n  margin: 0 0.8em;\n  cursor: pointer;\n"]);return Ja=function(){return e},e}function Xa(){var e=Object(ie.a)(["\n  height: 50px;\n  \n  display: flex;\n  padding: 0 5%;\n  align-items: center;\n  position: relative;\n  \n  background: ",";\n"]);return Xa=function(){return e},e}var Ya=ce.a.header(Xa(),"#414141"),Ha=ce.a.img(Ja()),Wa=ce.a.span(Qa(),"#C4C4C4"),Za=function(e){function n(){var e,t;Object(h.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=Object(g.a)(this,(e=Object(v.a)(n)).call.apply(e,[this].concat(o)))).state={visibilityDropdownList:!1},t.myRef=a.a.createRef(),t.handleClickOutside=function(e){t.myRef.current.contains(e.target)||t.setState({visibilityDropdownList:!1})},t.handleClickInside=function(){return t.setState({visibilityDropdownList:!0})},t}return Object(E.a)(n,e),Object(b.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"render",value:function(){var e=this.state.visibilityDropdownList;return a.a.createElement("div",{ref:this.myRef,onClick:this.handleClickInside},a.a.createElement(Ha,{src:Va.a,alt:"User menu"}),a.a.createElement(Ma,{visibility:e}))}}]),n}(r.Component),$a=t(254),eo=t.n($a);var no=Object(l.connect)(function(e){return{username:e.user.username,isAuthenticated:!!e.user.email}})(function(e){var n=e.isAuthenticated,t=e.username;return a.a.createElement(Ya,null,a.a.createElement(c.b,{to:"/"},a.a.createElement(Ha,{src:eo.a,alt:"Go to main page"})),a.a.createElement(Ra,null),n?a.a.createElement(r.Fragment,null,a.a.createElement(Wa,null,t),a.a.createElement(Za,null)):a.a.createElement(c.b,{style:{textDecoration:"none",color:"#FFFFFF",fontSize:"1.1em"},to:"/login"},"Login"))});function to(){var e=Object(ie.a)(["\n  text-align: center;\n  margin-top: 0;\n  margin-bottom: 1em;\n"]);return to=function(){return e},e}function ro(){var e=Object(ie.a)(["\n  width: 10em;\n"]);return ro=function(){return e},e}function ao(){var e=Object(ie.a)(["\n  padding-top: 1.25em;\n  font-size: 0.8em;\n"]);return ao=function(){return e},e}function oo(){var e=Object(ie.a)(["\n  text-align: justify;\n  padding-bottom: 1.25em;\n  border-bottom: 1px solid ",";\n"]);return oo=function(){return e},e}function io(){var e=Object(ie.a)(["\n  position: absolute;\n  top: 2px;\n  padding-left: 0.4em;\n"]);return io=function(){return e},e}function co(){var e=Object(ie.a)(["\n  position: relative;\n  margin-bottom: 1.5em;\n"]);return co=function(){return e},e}function uo(){var e=Object(ie.a)(["\n  font-size: 1.25em;\n  margin-bottom: 0.25em;\n"]);return uo=function(){return e},e}function so(){var e=Object(ie.a)(["\n  margin-top: 0;\n  margin-bottom: 0.25em;\n  font-size: 1.4em;\n"]);return so=function(){return e},e}function lo(){var e=Object(ie.a)(["\n  margin: 0 1.25em;\n  width: 41em;\n"]);return lo=function(){return e},e}function mo(){var e=Object(ie.a)(["\n  width: 160px;\n  height: 220px;\n"]);return mo=function(){return e},e}function fo(){var e=Object(ie.a)(["\n  text-align: center;\n  width: 10em;\n"]);return fo=function(){return e},e}function po(){var e=Object(ie.a)(["\n  margin: 3em auto;\n  width: ",";\n  display: flex;\n  flex-wrap: wrap;\n"]);return po=function(){return e},e}var ho=ce.a.div(po(),"1024px"),bo=ce.a.div(fo()),go=ce.a.img(mo()),vo=ce.a.div(lo()),Eo=ce.a.h2(so()),Oo=ce.a.div(uo()),yo=ce.a.div(co()),jo=ce.a.span(io()),ko=ce.a.div(oo(),"#C4C4C4"),wo=ce.a.div(ao()),Ao=ce.a.div(ro()),xo=ce.a.h4(to()),Co=function(e){function n(){var e,t;Object(h.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(g.a)(this,(e=Object(v.a)(n)).call.apply(e,[this].concat(a)))).fetchBook=function(){var e=t.props.match.params.id,n=t.props,r=n.getBookData,a=n.getBookDataSuccess,o=n.getBookDataFailure;r(e).then(function(e){return a(e)}).catch(function(e){return o(e)})},t.createDescription=function(){return{__html:t.props.book.description}},t}return Object(E.a)(n,e),Object(b.a)(n,[{key:"componentDidMount",value:function(){this.fetchBook()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.id!==e.match.params.id&&this.fetchBook()}},{key:"render",value:function(){var e=this.props,n=e.book,t=e.loading,r=e.error,o=e.confirmed;return t?a.a.createElement(Ke,null):r?a.a.createElement(We,{title:r}):a.a.createElement(ho,null,a.a.createElement(bo,null,a.a.createElement(go,{src:n.image_url,alt:"".concat(n.title," cover")}),o&&a.a.createElement("div",null,n.readStatus?a.a.createElement(Un,{id:n.goodreadsId,inList:!1}):a.a.createElement(At,{book:n,inList:!1})),o&&a.a.createElement("div",null,a.a.createElement(qn,{id:n.goodreadsId,likeStatus:n.likeStatus,inList:!1}))),a.a.createElement(vo,null,a.a.createElement(Eo,null,n.title),a.a.createElement(Oo,null,"by ",n.authors),a.a.createElement(yo,null,a.a.createElement(oe.a,{initialRating:n.average_rating,emptySymbol:a.a.createElement("img",{src:De.a,alt:"star"}),fullSymbol:a.a.createElement("img",{src:Ie.a,alt:"star"}),readonly:!0}),a.a.createElement(jo,null,n.average_rating)),a.a.createElement(ko,{dangerouslySetInnerHTML:this.createDescription()}),a.a.createElement(wo,null,a.a.createElement("div",null,n.format,", pages ",n.pages),a.a.createElement("div",null,"Published ",n.publication_month,"/",n.publication_day,"/",n.publication_year," by ",n.publisher))),o&&n.readStatus&&a.a.createElement(Ao,null,a.a.createElement(xo,null,"Your progress"),a.a.createElement(Zn,{pages:n.pages,readPages:n.readPages,goodreadsId:n.goodreadsId,inList:!1})))}}]),n}(r.Component);var So=Object(l.connect)(function(e){return{book:e.books.data,loading:e.books.loading,error:e.books.error,isAuthenticated:!!e.user.email,confirmed:e.user.confirmed}},{getBookData:Z,getBookDataSuccess:function(e){return function(n){return n({type:I,data:e})}},getBookDataFailure:function(e){return function(n){return n(function(e){return{type:L,error:e}}(e))}}})(Co),Fo=t(255),Po=t.n(Fo),Do=t(555);function Bo(){var e=Object(ie.a)(["\n  position: absolute;\n  top: 2px;\n  padding-left: 0.4em;\n"]);return Bo=function(){return e},e}function Io(){var e=Object(ie.a)(["\n  position: relative;\n"]);return Io=function(){return e},e}function Lo(){var e=Object(ie.a)(["\n  margin: 0.15em 0;\n  font-size: 0.9em;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"]);return Lo=function(){return e},e}function To(){var e=Object(ie.a)(["\n  margin: 0 0 0.2em 0;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"]);return To=function(){return e},e}function Ro(){var e=Object(ie.a)(["\n  padding: 0 1em;\n  overflow: hidden;\n  width: 100%;\n"]);return Ro=function(){return e},e}function Uo(){var e=Object(ie.a)(["\n  height: 75px;\n  width: 55px;\n"]);return Uo=function(){return e},e}function _o(){var e=Object(ie.a)(["\n  display: flex;\n  align-items: center;\n  padding: 0.25em 0;\n  color: ",";\n  width: 510px;\n  height: 75px;\n  margin: 0.75em 0;\n"]);return _o=function(){return e},e}var zo=ce.a.article(_o(),"#414141"),qo=ce.a.img(Uo()),Go=ce.a.div(Ro()),Ko=ce.a.h4(To()),Mo=ce.a.div(Lo()),No=ce.a.div(Io()),Vo=ce.a.span(Bo()),Qo=function(e){var n=e.book;return a.a.createElement(c.b,{to:{pathname:"/books/new/".concat(n.goodreadsId)},style:{textDecoration:"none"}},a.a.createElement(zo,null,a.a.createElement("div",null,a.a.createElement(qo,{src:n.image_url,alt:""})),a.a.createElement(Go,null,a.a.createElement(Ko,null,n.title),a.a.createElement(Mo,null,"by ",n.authors),a.a.createElement(No,null,a.a.createElement(oe.a,{initialRating:n.rating,emptySymbol:a.a.createElement("img",{src:De.a,alt:"star"}),fullSymbol:a.a.createElement("img",{src:Ie.a,alt:"star"}),readonly:!0}),a.a.createElement(Vo,null,n.rating)))))};function Jo(){var e=Object(ie.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n"]);return Jo=function(){return e},e}var Xo=ce.a.div(Jo()),Yo=function(e){var n=e.books;return a.a.createElement(Xo,null,Array.isArray(n)&&n.map(function(e){return a.a.createElement(Qo,{book:e,key:e.goodreadsId})}))};function Ho(){var e=Object(ie.a)(["\n  text-align: center;\n  margin: 1em 0;\n"]);return Ho=function(){return e},e}function Wo(){var e=Object(ie.a)(["\n  font-size: 0.9em;\n  text-align: center;\n  margin-top: 1.5em;\n"]);return Wo=function(){return e},e}function Zo(){var e=Object(ie.a)(["\n  margin-left: 0.5em;\n    padding: 0.45em 1.5em;\n    font-weight: 600;\n    background-color: ",";\n    color: ",";\n    box-shadow: ",";\n}\n\n"]);return Zo=function(){return e},e}function $o(){var e=Object(ie.a)(["\n  width: 25em;\n  height: 2em;\n  font-size: 1em;\n  border: ",";\n  box-sizing: border-box;\n  padding: 0.25rem;\n  outline: none;\n"]);return $o=function(){return e},e}function ei(){var e=Object(ie.a)(["\n  text-align: center;\n"]);return ei=function(){return e},e}function ni(){var e=Object(ie.a)(["\n  margin: 1em 0;\n"]);return ni=function(){return e},e}function ti(){var e=Object(ie.a)(["\n  margin: 0 auto;\n  width: ",";\n"]);return ti=function(){return e},e}var ri=ce.a.div(ti(),"1024px"),ai=ce.a.h1(ni()),oi=ce.a.form(ei()),ii=ce.a.input($o(),ue),ci=ce.a.button(Zo(),"#EC6C10","#FFFFFF",se),ui=ce.a.div(Wo()),si=ce.a.div(Ho());t(519);function li(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function di(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?li(t,!0).forEach(function(n){Object($.a)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):li(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var mi=function(e){function n(){var e,t;Object(h.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(g.a)(this,(e=Object(v.a)(n)).call.apply(e,[this].concat(a)))).state={query:Po.a.parse(t.props.location.search),inputValue:null},t.fetchBooksByPage=function(){var e=t.state.query,n=t.props,r=n.history,a=n.searchByPage,o=n.searchBooksSuccess,i=n.searchBooksFailure;""!==t.state.query.q?a(e.q,e.page).then(r.push("/search?q=".concat(e.q,"&page=").concat(e.page))).then(function(e){return o(e)}).catch(function(e){return i(e)}):m.toastr.error("Error","Invalid value")},t.handlePageChange=function(e,n){t.setState({query:di({},t.state.query,{page:n.activePage})}),document.getElementById("inputValue").scrollIntoView({block:"center",behavior:"smooth"})},t.onChange=function(e){t.setState(Object($.a)({},e.target.name,e.target.value))},t.onSubmit=function(e){e.preventDefault(),t.setState({query:{q:t.state.inputValue,page:1}})},t}return Object(E.a)(n,e),Object(b.a)(n,[{key:"componentDidMount",value:function(){""!==this.state.query.q?this.fetchBooksByPage():this.props.history.push("/")}},{key:"componentDidUpdate",value:function(e,n){this.state.query!==n.query&&this.fetchBooksByPage()}},{key:"render",value:function(){var e=this.props,n=e.books,t=e.loading,r=e.query_time_seconds,o=e.total_results,i=e.error,c=this.state.query,u="string"===typeof n,s="object"===typeof n&&20===n.length,l=u?a.a.createElement("p",null,n):a.a.createElement(Yo,{books:n}),d=t?a.a.createElement(ui,null,"loading..."):a.a.createElement(ui,null,"Page ",c.page," of about ",o," results (",r," seconds)"),m=t||u||!s?null:a.a.createElement(a.a.Fragment,null,a.a.createElement("hr",null),a.a.createElement(si,null,a.a.createElement(Do.a,{boundaryRange:0,activePage:c.page,ellipsisItem:null,firstItem:null,lastItem:null,siblingRange:2,totalPages:20,onPageChange:this.handlePageChange})));return i?a.a.createElement(We,{title:i}):a.a.createElement(ri,null,a.a.createElement(ai,null,"Search"),a.a.createElement(oi,{onSubmit:this.onSubmit},a.a.createElement(ii,{type:"text",id:"inputValue",name:"inputValue",placeholder:"Search by Book Title",defaultValue:c.q,onChange:this.onChange}),a.a.createElement(ci,null,"Search")),d,a.a.createElement("hr",null),l,m)}}]),n}(r.Component);var fi=Object(l.connect)(function(e){return{books:e.books.data.books,query_time_seconds:e.books.data.query_time_seconds,total_results:e.books.data.total_results,loading:e.books.loading,error:e.books.error}},{searchByPage:function(e,n){return function(t){return A.searchByPage(e,n).then(t({type:_}))}},searchBooksSuccess:function(e){return function(n){return n({type:z,data:e})}},searchBooksFailure:function(e){return function(n){return n(function(e){return{type:q,error:e}}(e))}}})(mi),pi=function(e){function n(){return Object(h.a)(this,n),Object(g.a)(this,Object(v.a)(n).apply(this,arguments))}return Object(E.a)(n,e),Object(b.a)(n,[{key:"componentDidMount",value:function(){this.props.isAuthenticated&&this.props.fetchCurrentUser()}},{key:"render",value:function(){var e=this.props,n=e.location,t=e.loaded;return a.a.createElement("div",null,a.a.createElement(y.a,{loaded:t},a.a.createElement(no,null),a.a.createElement(u.b,{location:n,path:"/",exact:!0,component:nn}),a.a.createElement(u.b,{location:n,path:"/confirmation/:token",exact:!0,component:gr}),a.a.createElement(u.b,{location:n,path:"/search",component:fi}),a.a.createElement(u.b,{location:n,path:"/books/new/:id",exact:!0,component:So}),a.a.createElement(oa,{location:n,path:"/login",exact:!0,component:Fn}),a.a.createElement(oa,{location:n,path:"/signup",exact:!0,component:cr}),a.a.createElement(oa,{location:n,path:"/forgot_password",exact:!0,component:zr}),a.a.createElement(oa,{location:n,path:"/reset_password/:token",exact:!0,component:ta}),a.a.createElement(aa,{location:n,path:"/dashboard",exact:!0,component:zt})))}}]),n}(r.Component);var hi=Object(l.connect)(function(e){return{isAuthenticated:!!e.user.email,loaded:e.user.loaded}},{fetchCurrentUser:Gt})(pi);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function bi(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function gi(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?bi(t,!0).forEach(function(n){Object($.a)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):bi(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var vi=Object(s.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loaded:!1},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(n.type){case x:return gi({},n.user,{loaded:!0});case S:return gi({},e,{},n.user,{loaded:!0});case C:return{loaded:!0};default:return e}},books:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(n.type){case H:return te({},e,{data:te({},n.data)});case J:case X:return te({},e,{data:n.data,loading:!1,error:null});case Y:return te({},e,{data:n.data});case W:return te({},e,{data:te({},e.data,{readPages:n.data.readPages})});case M:return te({},e,{data:e.data.map(function(e){return e.goodreadsId===n.data.goodreadsId?te({},e,{readStatus:n.data.readStatus}):e})});case K:case V:return te({},e,{data:e.data.map(function(e){return e.goodreadsId===n.data.goodreadsId?te({},e,{likeStatus:n.data.likeStatus}):e}),loading:!1,error:null});case N:var t=e.data.findIndex(function(e){return e.goodreadsId===n.id});return!0===e.data[t].likeStatus?te({},e,{data:e.data.map(function(e,n){return t===n?te({},e,{readStatus:!1}):e})}):te({},e,{data:te({},e.data.slice(0,t),{},e.data.slice(t+1)),loading:!1,error:null});case Q:return te({},e,{data:e.data.map(function(e){return e.goodreadsId===n.data.goodreadsId?te({},e,{readPages:n.data.readPages}):e}),loading:!1,error:null});case F:case B:case T:case _:return te({},e,{loading:!0,error:null});case P:case I:case R:case z:return te({},e,{data:n.data,loading:!1,error:null});case D:case L:case U:case q:return te({},e,{loading:!1,error:n.error.response.data.error});case G:return te({},e,{filter:n.filter});default:return e}},toastr:m.reducer}),Ei=(t(551),Object(s.createStore)(vi,Object(p.composeWithDevTools)(Object(s.applyMiddleware)(d.a))));localStorage.bookwormJWT?(tn(localStorage.bookwormJWT),Ei.dispatch(Gt())):Ei.dispatch(qt({})),i.a.render(a.a.createElement(c.a,null,a.a.createElement(l.Provider,{store:Ei},a.a.createElement(f.a,{timeOut:4e3,position:"bottom-right",transitionIn:"fadeIn",transitionOut:"fadeOut",closeOnToastrClick:!0}),a.a.createElement(u.b,{component:hi}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},56:function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGDSURBVHgB3ZRBTsJAFIb/adH1GNCEFXADjtCeQG4A7IzEUG6gJxBTFi65iXgCOQKuSIgJY1y20/FNbUNbWzq65E/aTjvvfe/NmzcFTlZ7j3fp4qb2lqlhJDGNQkxN7Y3BpIECPNOsjcAfd3ykFLo05AhwbeJjlrHCMB1KhpGJC6sz2N/yvrTwlo8D93IhVkbg7Q3v2ha4ZdGSGThT6OgnURwC9QtOa7qtaE4ohncq00Z/D0Ns2s8iHjdS4/MGhgS4T1NSybNMcSCVBFOH7Iih/R9yGWvtJtyzGB7xDxHIay7EU+Y9rx3VlMrxAt0BZhI2w+DCF6+FQL+1pVN2Jgn+02LVotoGEm5a16xK2609J0OFGepkwyuDVoK1aCkd1IhF1Ss6BnZQI3XEphIcFZwYw5yiLQtmDv4C1qcNh65Y0a47TV/MWr4YBw30KMAmmeP7Ce8Yg6UdN7/QvdlaCDfbSnpjKUAvYhjrALIi61Iw/XvXX5RZtuGLuvLFMrDhEvwTJ6Fvaet8ACbdZTYAAAAASUVORK5CYII="}},[[272,1,2]]]);
//# sourceMappingURL=main.358cf5af.chunk.js.map